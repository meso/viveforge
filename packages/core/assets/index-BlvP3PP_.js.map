{"version":3,"file":"index-BlvP3PP_.js","sources":["../../../../node_modules/.pnpm/preact@10.26.9/node_modules/preact/dist/preact.module.js","../../../../node_modules/.pnpm/preact@10.26.9/node_modules/preact/jsx-runtime/dist/jsxRuntime.module.js","../../../../node_modules/.pnpm/preact@10.26.9/node_modules/preact/hooks/dist/hooks.module.js","../../../../node_modules/.pnpm/preact-router@4.1.2_preact@10.26.9/node_modules/preact-router/dist/preact-router.mjs","../../../../node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs","../../src/hooks/useAuthMonitor.ts","../../src/components/Layout.tsx","../../src/lib/api-client-factory.ts","../../src/lib/api-client.ts","../../src/lib/table-api.ts","../../src/lib/api.ts","../../src/utils/database.ts","../../src/components/OAuthProviderCard.tsx","../../src/pages/Auth.tsx","../../src/utils/sql-utils.ts","../../src/components/custom-sql/QueryForm.tsx","../../src/components/custom-sql/QueryList.tsx","../../src/components/custom-sql/QueryTester.tsx","../../src/hooks/useCRUD.ts","../../src/hooks/useCustomQueries.ts","../../src/pages/CustomSQL.tsx","../../src/hooks/useTableOperations.ts","../../src/components/database/DataViewer.tsx","../../src/components/database/SchemaEditor.tsx","../../src/components/database/TableList.tsx","../../src/components/SchemaHistory.tsx","../../src/hooks/useDatabase.ts","../../src/pages/Database.tsx","../../src/pages/Home.tsx","../../src/components/push/NotificationLogs.tsx","../../src/components/push/NotificationRules.tsx","../../src/components/push/PushSettings.tsx","../../src/components/push/PushTest.tsx","../../src/components/push/RuleForm.tsx","../../src/lib/push-manager.ts","../../src/hooks/usePushNotifications.ts","../../src/pages/PushNotifications.tsx","../../src/components/settings/AdminsManagement.tsx","../../src/components/settings/APIKeysManagement.tsx","../../src/components/settings/AppSettings.tsx","../../src/components/settings/SettingsNavigation.tsx","../../src/hooks/useSettings.ts","../../src/pages/Settings.tsx","../../src/pages/Storage.tsx","../../src/app.tsx","../../src/main.tsx"],"sourcesContent":["var n,l,u,t,i,r,o,e,f,c,s,a,h,p={},v=[],y=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,w=Array.isArray;function d(n,l){for(var u in l)n[u]=l[u];return n}function g(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function _(l,u,t){var i,r,o,e={};for(o in u)\"key\"==o?i=u[o]:\"ref\"==o?r=u[o]:e[o]=u[o];if(arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===e[o]&&(e[o]=l.defaultProps[o]);return m(l,e,i,r,null)}function m(n,t,i,r,o){var e={type:n,props:t,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==o?++u:o,__i:-1,__u:0};return null==o&&null!=l.vnode&&l.vnode(e),e}function b(){return{current:null}}function k(n){return n.children}function x(n,l){this.props=n,this.context=l}function S(n,l){if(null==l)return n.__?S(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?S(n):null}function C(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return C(n)}}function M(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!$.__r++||r!=l.debounceRendering)&&((r=l.debounceRendering)||o)($)}function $(){for(var n,u,t,r,o,f,c,s=1;i.length;)i.length>s&&i.sort(e),n=i.shift(),s=i.length,n.__d&&(t=void 0,o=(r=(u=n).__v).__e,f=[],c=[],u.__P&&((t=d({},r)).__v=r.__v+1,l.vnode&&l.vnode(t),O(u.__P,t,r,u.__n,u.__P.namespaceURI,32&r.__u?[o]:null,f,null==o?S(r):o,!!(32&r.__u),c),t.__v=r.__v,t.__.__k[t.__i]=t,z(f,t,c),t.__e!=o&&C(t)));$.__r=0}function I(n,l,u,t,i,r,o,e,f,c,s){var a,h,y,w,d,g,_=t&&t.__k||v,m=l.length;for(f=P(u,l,_,f,m),a=0;a<m;a++)null!=(y=u.__k[a])&&(h=-1==y.__i?p:_[y.__i]||p,y.__i=a,g=O(n,y,h,i,r,o,e,f,c,s),w=y.__e,y.ref&&h.ref!=y.ref&&(h.ref&&q(h.ref,null,y),s.push(y.ref,y.__c||w,y)),null==d&&null!=w&&(d=w),4&y.__u||h.__k===y.__k?f=A(y,f,n):\"function\"==typeof y.type&&void 0!==g?f=g:w&&(f=w.nextSibling),y.__u&=-7);return u.__e=d,f}function P(n,l,u,t,i){var r,o,e,f,c,s=u.length,a=s,h=0;for(n.__k=new Array(i),r=0;r<i;r++)null!=(o=l[r])&&\"boolean\"!=typeof o&&\"function\"!=typeof o?(f=r+h,(o=n.__k[r]=\"string\"==typeof o||\"number\"==typeof o||\"bigint\"==typeof o||o.constructor==String?m(null,o,null,null,null):w(o)?m(k,{children:o},null,null,null):null==o.constructor&&o.__b>0?m(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=n,o.__b=n.__b+1,e=null,-1!=(c=o.__i=L(o,u,f,a))&&(a--,(e=u[c])&&(e.__u|=2)),null==e||null==e.__v?(-1==c&&(i>s?h--:i<s&&h++),\"function\"!=typeof o.type&&(o.__u|=4)):c!=f&&(c==f-1?h--:c==f+1?h++:(c>f?h--:h++,o.__u|=4))):n.__k[r]=null;if(a)for(r=0;r<s;r++)null!=(e=u[r])&&0==(2&e.__u)&&(e.__e==t&&(t=S(e)),B(e,e));return t}function A(n,l,u){var t,i;if(\"function\"==typeof n.type){for(t=n.__k,i=0;t&&i<t.length;i++)t[i]&&(t[i].__=n,l=A(t[i],l,u));return l}n.__e!=l&&(l&&n.type&&!u.contains(l)&&(l=S(n)),u.insertBefore(n.__e,l||null),l=n.__e);do{l=l&&l.nextSibling}while(null!=l&&8==l.nodeType);return l}function H(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(w(n)?n.some(function(n){H(n,l)}):l.push(n)),l}function L(n,l,u,t){var i,r,o=n.key,e=n.type,f=l[u];if(null===f&&null==n.key||f&&o==f.key&&e==f.type&&0==(2&f.__u))return u;if(t>(null!=f&&0==(2&f.__u)?1:0))for(i=u-1,r=u+1;i>=0||r<l.length;){if(i>=0){if((f=l[i])&&0==(2&f.__u)&&o==f.key&&e==f.type)return i;i--}if(r<l.length){if((f=l[r])&&0==(2&f.__u)&&o==f.key&&e==f.type)return r;r++}}return-1}function T(n,l,u){\"-\"==l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||y.test(l)?u:u+\"px\"}function j(n,l,u,t,i){var r,o;n:if(\"style\"==l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||T(n.style,l,\"\");if(u)for(l in u)t&&u[l]==t[l]||T(n.style,l,u[l])}else if(\"o\"==l[0]&&\"n\"==l[1])r=l!=(l=l.replace(f,\"$1\")),o=l.toLowerCase(),l=o in n||\"onFocusOut\"==l||\"onFocusIn\"==l?o.slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?t?u.u=t.u:(u.u=c,n.addEventListener(l,r?a:s,r)):n.removeEventListener(l,r?a:s,r);else{if(\"http://www.w3.org/2000/svg\"==i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!=l&&\"height\"!=l&&\"href\"!=l&&\"list\"!=l&&\"form\"!=l&&\"tabIndex\"!=l&&\"download\"!=l&&\"rowSpan\"!=l&&\"colSpan\"!=l&&\"role\"!=l&&\"popover\"!=l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!=l[4]?n.removeAttribute(l):n.setAttribute(l,\"popover\"==l&&1==u?\"\":u))}}function F(n){return function(u){if(this.l){var t=this.l[u.type+n];if(null==u.t)u.t=c++;else if(u.t<t.u)return;return t(l.event?l.event(u):u)}}}function O(n,u,t,i,r,o,e,f,c,s){var a,h,p,v,y,_,m,b,S,C,M,$,P,A,H,L,T,j=u.type;if(null!=u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),o=[f=u.__e=t.__e]),(a=l.__b)&&a(u);n:if(\"function\"==typeof j)try{if(b=u.props,S=\"prototype\"in j&&j.prototype.render,C=(a=j.contextType)&&i[a.__c],M=a?C?C.props.value:a.__:i,t.__c?m=(h=u.__c=t.__c).__=h.__E:(S?u.__c=h=new j(b,M):(u.__c=h=new x(b,M),h.constructor=j,h.render=D),C&&C.sub(h),h.props=b,h.state||(h.state={}),h.context=M,h.__n=i,p=h.__d=!0,h.__h=[],h._sb=[]),S&&null==h.__s&&(h.__s=h.state),S&&null!=j.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=d({},h.__s)),d(h.__s,j.getDerivedStateFromProps(b,h.__s))),v=h.props,y=h.state,h.__v=u,p)S&&null==j.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),S&&null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(S&&null==j.getDerivedStateFromProps&&b!==v&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(b,M),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(b,h.__s,M)||u.__v==t.__v){for(u.__v!=t.__v&&(h.props=b,h.state=h.__s,h.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.some(function(n){n&&(n.__=u)}),$=0;$<h._sb.length;$++)h.__h.push(h._sb[$]);h._sb=[],h.__h.length&&e.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(b,h.__s,M),S&&null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(v,y,_)})}if(h.context=M,h.props=b,h.__P=n,h.__e=!1,P=l.__r,A=0,S){for(h.state=h.__s,h.__d=!1,P&&P(u),a=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[]}else do{h.__d=!1,P&&P(u),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++A<25);h.state=h.__s,null!=h.getChildContext&&(i=d(d({},i),h.getChildContext())),S&&!p&&null!=h.getSnapshotBeforeUpdate&&(_=h.getSnapshotBeforeUpdate(v,y)),L=a,null!=a&&a.type===k&&null==a.key&&(L=N(a.props.children)),f=I(n,w(L)?L:[L],u,t,i,r,o,e,f,c,s),h.base=u.__e,u.__u&=-161,h.__h.length&&e.push(h),m&&(h.__E=h.__=null)}catch(n){if(u.__v=null,c||null!=o)if(n.then){for(u.__u|=c?160:128;f&&8==f.nodeType&&f.nextSibling;)f=f.nextSibling;o[o.indexOf(f)]=null,u.__e=f}else for(T=o.length;T--;)g(o[T]);else u.__e=t.__e,u.__k=t.__k;l.__e(n,u,t)}else null==o&&u.__v==t.__v?(u.__k=t.__k,u.__e=t.__e):f=u.__e=V(t.__e,u,t,i,r,o,e,c,s);return(a=l.diffed)&&a(u),128&u.__u?void 0:f}function z(n,u,t){for(var i=0;i<t.length;i++)q(t[i],t[++i],t[++i]);l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function N(n){return\"object\"!=typeof n||null==n||n.__b&&n.__b>0?n:w(n)?n.map(N):d({},n)}function V(u,t,i,r,o,e,f,c,s){var a,h,v,y,d,_,m,b=i.props,k=t.props,x=t.type;if(\"svg\"==x?o=\"http://www.w3.org/2000/svg\":\"math\"==x?o=\"http://www.w3.org/1998/Math/MathML\":o||(o=\"http://www.w3.org/1999/xhtml\"),null!=e)for(a=0;a<e.length;a++)if((d=e[a])&&\"setAttribute\"in d==!!x&&(x?d.localName==x:3==d.nodeType)){u=d,e[a]=null;break}if(null==u){if(null==x)return document.createTextNode(k);u=document.createElementNS(o,x,k.is&&k),c&&(l.__m&&l.__m(t,e),c=!1),e=null}if(null==x)b===k||c&&u.data==k||(u.data=k);else{if(e=e&&n.call(u.childNodes),b=i.props||p,!c&&null!=e)for(b={},a=0;a<u.attributes.length;a++)b[(d=u.attributes[a]).name]=d.value;for(a in b)if(d=b[a],\"children\"==a);else if(\"dangerouslySetInnerHTML\"==a)v=d;else if(!(a in k)){if(\"value\"==a&&\"defaultValue\"in k||\"checked\"==a&&\"defaultChecked\"in k)continue;j(u,a,null,d,o)}for(a in k)d=k[a],\"children\"==a?y=d:\"dangerouslySetInnerHTML\"==a?h=d:\"value\"==a?_=d:\"checked\"==a?m=d:c&&\"function\"!=typeof d||b[a]===d||j(u,a,d,b[a],o);if(h)c||v&&(h.__html==v.__html||h.__html==u.innerHTML)||(u.innerHTML=h.__html),t.__k=[];else if(v&&(u.innerHTML=\"\"),I(\"template\"==t.type?u.content:u,w(y)?y:[y],t,i,r,\"foreignObject\"==x?\"http://www.w3.org/1999/xhtml\":o,e,f,e?e[0]:i.__k&&S(i,0),c,s),null!=e)for(a=e.length;a--;)g(e[a]);c||(a=\"value\",\"progress\"==x&&null==_?u.removeAttribute(\"value\"):null!=_&&(_!==u[a]||\"progress\"==x&&!_||\"option\"==x&&_!=b[a])&&j(u,a,_,b[a],o),a=\"checked\",null!=m&&m!=u[a]&&j(u,a,m,b[a],o))}return u}function q(n,u,t){try{if(\"function\"==typeof n){var i=\"function\"==typeof n.__u;i&&n.__u(),i&&null==u||(n.__u=n(u))}else n.current=u}catch(n){l.__e(n,t)}}function B(n,u,t){var i,r;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!=n.__e||q(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,u)}i.base=i.__P=null}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&B(i[r],u,t||\"function\"!=typeof n.type);t||g(n.__e),n.__c=n.__=n.__e=void 0}function D(n,l,u){return this.constructor(n,u)}function E(u,t,i){var r,o,e,f;t==document&&(t=document.documentElement),l.__&&l.__(u,t),o=(r=\"function\"==typeof i)?null:i&&i.__k||t.__k,e=[],f=[],O(t,u=(!r&&i||t).__k=_(k,null,[u]),o||p,p,t.namespaceURI,!r&&i?[i]:o?null:t.firstChild?n.call(t.childNodes):null,e,!r&&i?i:o?o.__e:t.firstChild,r,f),z(e,u,f)}function G(n,l){E(n,l,G)}function J(l,u,t){var i,r,o,e,f=d({},l.props);for(o in l.type&&l.type.defaultProps&&(e=l.type.defaultProps),u)\"key\"==o?i=u[o]:\"ref\"==o?r=u[o]:f[o]=void 0===u[o]&&null!=e?e[o]:u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),m(l.type,f,i||l.key,r||l.ref,null)}function K(n){function l(n){var u,t;return this.getChildContext||(u=new Set,(t={})[l.__c]=this,this.getChildContext=function(){return t},this.componentWillUnmount=function(){u=null},this.shouldComponentUpdate=function(n){this.props.value!=n.value&&u.forEach(function(n){n.__e=!0,M(n)})},this.sub=function(n){u.add(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u&&u.delete(n),l&&l.call(n)}}),n.children}return l.__c=\"__cC\"+h++,l.__=n,l.Provider=l.__l=(l.Consumer=function(n,l){return n.children(l)}).contextType=l,l}n=v.slice,l={__e:function(n,l,u,t){for(var i,r,o;l=l.__;)if((i=l.__c)&&!i.__)try{if((r=i.constructor)&&null!=r.getDerivedStateFromError&&(i.setState(r.getDerivedStateFromError(n)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),o=i.__d),o)return i.__E=i}catch(l){n=l}throw n}},u=0,t=function(n){return null!=n&&null==n.constructor},x.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=d({},this.state),\"function\"==typeof n&&(n=n(d({},u),this.props)),n&&d(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),M(this))},x.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),M(this))},x.prototype.render=k,i=[],o=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,e=function(n,l){return n.__v.__b-l.__v.__b},$.__r=0,f=/(PointerCapture)$|Capture$/i,c=0,s=F(!1),a=F(!0),h=0;export{x as Component,k as Fragment,J as cloneElement,K as createContext,_ as createElement,b as createRef,_ as h,G as hydrate,t as isValidElement,l as options,E as render,H as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","import{options as r,Fragment as e}from\"preact\";export{Fragment}from\"preact\";var t=/[\"&<]/;function n(r){if(0===r.length||!1===t.test(r))return r;for(var e=0,n=0,o=\"\",f=\"\";n<r.length;n++){switch(r.charCodeAt(n)){case 34:f=\"&quot;\";break;case 38:f=\"&amp;\";break;case 60:f=\"&lt;\";break;default:continue}n!==e&&(o+=r.slice(e,n)),o+=f,e=n+1}return n!==e&&(o+=r.slice(e,n)),o}var o=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,f=0,i=Array.isArray;function u(e,t,n,o,i,u){t||(t={});var a,c,p=t;if(\"ref\"in p)for(c in p={},t)\"ref\"==c?a=t[c]:p[c]=t[c];var l={type:e,props:p,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--f,__i:-1,__u:0,__source:i,__self:u};if(\"function\"==typeof e&&(a=e.defaultProps))for(c in a)void 0===p[c]&&(p[c]=a[c]);return r.vnode&&r.vnode(l),l}function a(r){var t=u(e,{tpl:r,exprs:[].slice.call(arguments,1)});return t.key=t.__v,t}var c={},p=/[A-Z]/g;function l(e,t){if(r.attr){var f=r.attr(e,t);if(\"string\"==typeof f)return f}if(t=function(r){return null!==r&&\"object\"==typeof r&&\"function\"==typeof r.valueOf?r.valueOf():r}(t),\"ref\"===e||\"key\"===e)return\"\";if(\"style\"===e&&\"object\"==typeof t){var i=\"\";for(var u in t){var a=t[u];if(null!=a&&\"\"!==a){var l=\"-\"==u[0]?u:c[u]||(c[u]=u.replace(p,\"-$&\").toLowerCase()),s=\";\";\"number\"!=typeof a||l.startsWith(\"--\")||o.test(l)||(s=\"px;\"),i=i+l+\":\"+a+s}}return e+'=\"'+n(i)+'\"'}return null==t||!1===t||\"function\"==typeof t||\"object\"==typeof t?\"\":!0===t?e:e+'=\"'+n(\"\"+t)+'\"'}function s(r){if(null==r||\"boolean\"==typeof r||\"function\"==typeof r)return null;if(\"object\"==typeof r){if(void 0===r.constructor)return r;if(i(r)){for(var e=0;e<r.length;e++)r[e]=s(r[e]);return r}}return n(\"\"+r)}export{u as jsx,l as jsxAttr,u as jsxDEV,s as jsxEscape,a as jsxTemplate,u as jsxs};\n//# sourceMappingURL=jsxRuntime.module.js.map\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=n,e=c.__b,a=c.__r,v=c.diffed,l=c.__c,m=c.unmount,s=c.__;function p(n,t){c.__h&&c.__h(r,n,o||t),o=0;var u=r.__H||(r.__H={__:[],__h:[]});return n>=u.__.length&&u.__.push({}),u.__[n]}function d(n){return o=1,h(D,n)}function h(n,u,i){var o=p(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):D(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.__f)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return!!n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=o.__c.props!==n;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),c&&c.call(this,n,t,r)||i};r.__f=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function y(n,u){var i=p(t++,3);!c.__s&&C(i.__H,u)&&(i.__=n,i.u=u,r.__H.__h.push(i))}function _(n,u){var i=p(t++,4);!c.__s&&C(i.__H,u)&&(i.__=n,i.u=u,r.__h.push(i))}function A(n){return o=5,T(function(){return{current:n}},[])}function F(n,t,r){o=6,_(function(){if(\"function\"==typeof n){var r=n(t());return function(){n(null),r&&\"function\"==typeof r&&r()}}if(n)return n.current=t(),function(){return n.current=null}},null==r?r:r.concat(n))}function T(n,r){var u=p(t++,7);return C(u.__H,r)&&(u.__=n(),u.__H=r,u.__h=n),u.__}function q(n,t){return o=8,T(function(){return n},t)}function x(n){var u=r.context[n.__c],i=p(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function P(n,t){c.useDebugValue&&c.useDebugValue(t?t(n):n)}function b(n){var u=p(t++,10),i=d();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function g(){var n=p(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function j(){for(var n;n=f.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(z),n.__H.__h.forEach(B),n.__H.__h=[]}catch(t){n.__H.__h=[],c.__e(t,n.__v)}}c.__b=function(n){r=null,e&&e(n)},c.__=function(n,t){n&&t.__k&&t.__k.__m&&(n.__m=t.__k.__m),s&&s(n,t)},c.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(i.__h.forEach(z),i.__h.forEach(B),i.__h=[],t=0)),u=r},c.diffed=function(n){v&&v(n);var t=n.__c;t&&t.__H&&(t.__H.__h.length&&(1!==f.push(t)&&i===c.requestAnimationFrame||((i=c.requestAnimationFrame)||w)(j)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),u=r=null},c.__c=function(n,t){t.some(function(n){try{n.__h.forEach(z),n.__h=n.__h.filter(function(n){return!n.__||B(n)})}catch(r){t.some(function(n){n.__h&&(n.__h=[])}),t=[],c.__e(r,n.__v)}}),l&&l(n,t)},c.unmount=function(n){m&&m(n);var t,r=n.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{z(n)}catch(n){t=n}}),r.__H=void 0,t&&c.__e(t,r.__v))};var k=\"function\"==typeof requestAnimationFrame;function w(n){var t,r=function(){clearTimeout(u),k&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,35);k&&(t=requestAnimationFrame(r))}function z(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function B(n){var t=r;n.__c=n.__(),r=t}function C(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function D(n,t){return\"function\"==typeof t?t(n):t}export{q as useCallback,x as useContext,P as useDebugValue,y as useEffect,b as useErrorBoundary,g as useId,F as useImperativeHandle,_ as useLayoutEffect,T as useMemo,h as useReducer,A as useRef,d as useState};\n//# sourceMappingURL=hooks.module.js.map\n","import{createContext as n,Component as t,toChildArray as r,cloneElement as i,h as o}from\"preact\";import{useContext as e,useState as u,useEffect as f}from\"preact/hooks\";var a={};function c(n,t){for(var r in t)n[r]=t[r];return n}function s(n,t,r){var i,o=/(?:\\?([^#]*))?(#.*)?$/,e=n.match(o),u={};if(e&&e[1])for(var f=e[1].split(\"&\"),c=0;c<f.length;c++){var s=f[c].split(\"=\");u[decodeURIComponent(s[0])]=decodeURIComponent(s.slice(1).join(\"=\"))}n=d(n.replace(o,\"\")),t=d(t||\"\");for(var h=Math.max(n.length,t.length),v=0;v<h;v++)if(t[v]&&\":\"===t[v].charAt(0)){var l=t[v].replace(/(^:|[+*?]+$)/g,\"\"),p=(t[v].match(/[+*?]+$/)||a)[0]||\"\",m=~p.indexOf(\"+\"),y=~p.indexOf(\"*\"),U=n[v]||\"\";if(!U&&!y&&(p.indexOf(\"?\")<0||m)){i=!1;break}if(u[l]=decodeURIComponent(U),m||y){u[l]=n.slice(v).map(decodeURIComponent).join(\"/\");break}}else if(t[v]!==n[v]){i=!1;break}return(!0===r.default||!1!==i)&&u}function h(n,t){return n.rank<t.rank?1:n.rank>t.rank?-1:n.index-t.index}function v(n,t){return n.index=t,n.rank=function(n){return n.props.default?0:d(n.props.path).map(l).join(\"\")}(n),n.props}function d(n){return n.replace(/(^\\/+|\\/+$)/g,\"\").split(\"/\")}function l(n){return\":\"==n.charAt(0)?1+\"*+?\".indexOf(n.charAt(n.length-1))||4:5}var p={},m=[],y=[],U=null,g={url:R()},k=n(g);function C(){var n=e(k);if(n===g){var t=u()[1];f(function(){return y.push(t),function(){return y.splice(y.indexOf(t),1)}},[])}return[n,$]}function R(){var n;return\"\"+((n=U&&U.location?U.location:U&&U.getCurrentLocation?U.getCurrentLocation():\"undefined\"!=typeof location?location:p).pathname||\"\")+(n.search||\"\")}function $(n,t){return void 0===t&&(t=!1),\"string\"!=typeof n&&n.url&&(t=n.replace,n=n.url),function(n){for(var t=m.length;t--;)if(m[t].canRoute(n))return!0;return!1}(n)&&function(n,t){void 0===t&&(t=\"push\"),U&&U[t]?U[t](n):\"undefined\"!=typeof history&&history[t+\"State\"]&&history[t+\"State\"](null,null,n)}(n,t?\"replace\":\"push\"),I(n)}function I(n){for(var t=!1,r=0;r<m.length;r++)m[r].routeTo(n)&&(t=!0);return t}function M(n){if(n&&n.getAttribute){var t=n.getAttribute(\"href\"),r=n.getAttribute(\"target\");if(t&&t.match(/^\\//g)&&(!r||r.match(/^_?self$/i)))return $(t)}}function b(n){return n.stopImmediatePropagation&&n.stopImmediatePropagation(),n.stopPropagation&&n.stopPropagation(),n.preventDefault(),!1}function W(n){if(!(n.ctrlKey||n.metaKey||n.altKey||n.shiftKey||n.button)){var t=n.target;do{if(\"a\"===t.localName&&t.getAttribute(\"href\")){if(t.hasAttribute(\"data-native\")||t.hasAttribute(\"native\"))return;if(M(t))return b(n)}}while(t=t.parentNode)}}var w=!1;function D(n){n.history&&(U=n.history),this.state={url:n.url||R()}}c(D.prototype=new t,{shouldComponentUpdate:function(n){return!0!==n.static||n.url!==this.props.url||n.onChange!==this.props.onChange},canRoute:function(n){var t=r(this.props.children);return void 0!==this.g(t,n)},routeTo:function(n){this.setState({url:n});var t=this.canRoute(n);return this.p||this.forceUpdate(),t},componentWillMount:function(){this.p=!0},componentDidMount:function(){var n=this;w||(w=!0,U||addEventListener(\"popstate\",function(){I(R())}),addEventListener(\"click\",W)),m.push(this),U&&(this.u=U.listen(function(t){var r=t.location||t;n.routeTo(\"\"+(r.pathname||\"\")+(r.search||\"\"))})),this.p=!1},componentWillUnmount:function(){\"function\"==typeof this.u&&this.u(),m.splice(m.indexOf(this),1)},componentWillUpdate:function(){this.p=!0},componentDidUpdate:function(){this.p=!1},g:function(n,t){n=n.filter(v).sort(h);for(var r=0;r<n.length;r++){var i=n[r],o=s(t,i.props.path,i.props);if(o)return[i,o]}},render:function(n,t){var e,u,f=n.onChange,a=t.url,s=this.c,h=this.g(r(n.children),a);if(h&&(u=i(h[0],c(c({url:a,matches:e=h[1]},e),{key:void 0,ref:void 0}))),a!==(s&&s.url)){c(g,s=this.c={url:a,previous:s&&s.url,current:u,path:u?u.props.path:null,matches:e}),s.router=this,s.active=u?[u]:[];for(var v=y.length;v--;)y[v]({});\"function\"==typeof f&&f(s)}return o(k.Provider,{value:s},u)}});var E=function(n){return o(\"a\",c({onClick:W},n))},L=function(n){return o(n.component,n)};export{E as Link,L as Route,D as Router,D as default,s as exec,R as getCurrentUrl,$ as route,C as useRouter};\n//# sourceMappingURL=preact-router.module.js.map\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","import { useEffect } from 'preact/hooks'\n\n/**\n * Monitor authentication status on window focus\n */\nexport function useAuthMonitor() {\n  useEffect(() => {\n    // Check auth status when window regains focus\n    const handleFocus = async () => {\n      try {\n        // Simple auth status check\n        const response = await fetch(`${window.location.origin}/auth/status`)\n\n        if (response.status === 401) {\n          // Prevent redirect loop\n          if (window.location.pathname !== '/auth/login') {\n            console.warn('Session expired, reloading to show login...')\n            window.location.reload()\n          }\n        }\n      } catch (error) {\n        // Ignore network errors on focus check\n        console.debug('Auth check failed on focus:', error)\n      }\n    }\n\n    // Add event listener\n    window.addEventListener('focus', handleFocus)\n\n    // Check immediately on mount\n    handleFocus()\n\n    // Cleanup\n    return () => {\n      window.removeEventListener('focus', handleFocus)\n    }\n  }, [])\n}\n","import clsx from 'clsx'\nimport type { ComponentChildren } from 'preact'\nimport { route } from 'preact-router'\nimport { useAuthMonitor } from '../hooks/useAuthMonitor'\n\ninterface LayoutProps {\n  children: ComponentChildren\n}\n\nexport function Layout({ children }: LayoutProps) {\n  // Monitor authentication status\n  useAuthMonitor()\n\n  return (\n    <div class=\"min-h-screen bg-gray-50\">\n      <nav class=\"bg-white shadow-sm border-b\">\n        <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div class=\"flex justify-between h-16\">\n            <div class=\"flex\">\n              <div class=\"flex-shrink-0 flex items-center\">\n                <h1 class=\"text-xl font-bold text-gray-900\">Vibebase</h1>\n              </div>\n              <div class=\"hidden sm:ml-6 sm:flex sm:space-x-8\">\n                <NavLink href=\"/\">Dashboard</NavLink>\n                <NavLink href=\"/database\">Database</NavLink>\n                <NavLink href=\"/custom-sql\">Custom SQL</NavLink>\n                <NavLink href=\"/storage\">Storage</NavLink>\n                <NavLink href=\"/push\">Push</NavLink>\n                <NavLink href=\"/auth\">Auth</NavLink>\n                <NavLink href=\"/settings\">Settings</NavLink>\n              </div>\n            </div>\n            <div class=\"flex items-center space-x-4\">\n              <a\n                href=\"/api/docs/swagger\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                class=\"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n              >\n                📚 API Docs\n              </a>\n            </div>\n          </div>\n        </div>\n      </nav>\n\n      <main class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">{children}</main>\n    </div>\n  )\n}\n\ninterface NavLinkProps {\n  href: string\n  children: ComponentChildren\n}\n\nfunction NavLink({ href, children }: NavLinkProps) {\n  return (\n    <a\n      href={href}\n      onClick={(e) => {\n        e.preventDefault()\n        route(href)\n      }}\n      class={clsx(\n        'inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium',\n        'hover:border-gray-300 hover:text-gray-700',\n        'border-transparent text-gray-500 cursor-pointer'\n      )}\n    >\n      {children}\n    </a>\n  )\n}\n","/**\n * Unified API Client Factory\n * Provides standardized API communication with error handling, authentication, and type safety\n */\n\nexport interface ApiClientConfig {\n  baseUrl: string\n  defaultHeaders?: Record<string, string>\n  timeout?: number\n  credentials?: RequestCredentials\n  onAuthError?: () => void\n  onError?: (error: ApiError) => void\n}\n\nexport interface ApiError {\n  message: string\n  status?: number\n  code?: string\n  details?: unknown\n}\n\nexport interface ApiResponse<T = unknown> {\n  data?: T\n  error?: string\n  success: boolean\n  status: number\n}\n\nexport class ApiClient {\n  private config: ApiClientConfig\n\n  constructor(config: ApiClientConfig) {\n    this.config = config\n  }\n\n  /**\n   * Main request method with unified error handling\n   */\n  async request<T = unknown>(endpoint: string, options: RequestInit = {}): Promise<ApiResponse<T>> {\n    const url = endpoint.startsWith('http') ? endpoint : `${this.config.baseUrl}${endpoint}`\n\n    const requestOptions: RequestInit = {\n      credentials: this.config.credentials,\n      ...options,\n      headers: {\n        ...this.config.defaultHeaders,\n        ...options.headers,\n      },\n    }\n\n    // Add timeout if specified\n    const controller = new AbortController()\n    let timeoutId: ReturnType<typeof setTimeout> | undefined\n\n    if (this.config.timeout) {\n      timeoutId = setTimeout(() => controller.abort(), this.config.timeout)\n      requestOptions.signal = controller.signal\n    }\n\n    try {\n      const response = await fetch(url, requestOptions)\n\n      if (timeoutId) {\n        clearTimeout(timeoutId)\n      }\n\n      // Handle authentication errors\n      if (response.status === 401) {\n        const error: ApiError = {\n          message: 'Authentication required',\n          status: 401,\n          code: 'UNAUTHORIZED',\n        }\n\n        if (this.config.onAuthError) {\n          this.config.onAuthError()\n        }\n\n        return {\n          success: false,\n          error: error.message,\n          status: response.status,\n        }\n      }\n\n      // Parse response\n      let data: T | undefined\n      let errorMessage: string | undefined\n\n      const contentType = response.headers.get('content-type')\n      if (contentType?.includes('application/json')) {\n        try {\n          const jsonData = await response.json()\n\n          if (!response.ok) {\n            errorMessage =\n              jsonData.error ||\n              jsonData.message ||\n              `HTTP ${response.status}: ${response.statusText}`\n          } else {\n            data = jsonData\n          }\n        } catch (parseError) {\n          errorMessage = `Failed to parse JSON response: ${parseError instanceof Error ? parseError.message : 'Unknown error'}`\n        }\n      } else if (!response.ok) {\n        errorMessage = `HTTP ${response.status}: ${response.statusText}`\n      }\n\n      const result: ApiResponse<T> = {\n        success: response.ok,\n        status: response.status,\n        data,\n        error: errorMessage,\n      }\n\n      // Call error handler if provided\n      if (!response.ok && this.config.onError) {\n        const error: ApiError = {\n          message: errorMessage || 'Unknown error',\n          status: response.status,\n          details: data,\n        }\n        this.config.onError(error)\n      }\n\n      return result\n    } catch (error) {\n      if (timeoutId) {\n        clearTimeout(timeoutId)\n      }\n\n      const errorMessage = error instanceof Error ? error.message : 'Network error'\n      const apiError: ApiError = {\n        message: errorMessage,\n        details: error,\n      }\n\n      if (this.config.onError) {\n        this.config.onError(apiError)\n      }\n\n      return {\n        success: false,\n        error: errorMessage,\n        status: 0,\n      }\n    }\n  }\n\n  /**\n   * GET request\n   */\n  async get<T>(endpoint: string, options?: RequestInit): Promise<ApiResponse<T>> {\n    return this.request<T>(endpoint, { ...options, method: 'GET' })\n  }\n\n  /**\n   * POST request\n   */\n  async post<T>(endpoint: string, data?: unknown, options?: RequestInit): Promise<ApiResponse<T>> {\n    const requestOptions: RequestInit = {\n      ...options,\n      method: 'POST',\n    }\n\n    if (data !== undefined) {\n      requestOptions.body = JSON.stringify(data)\n    }\n\n    return this.request<T>(endpoint, requestOptions)\n  }\n\n  /**\n   * PUT request\n   */\n  async put<T>(endpoint: string, data?: unknown, options?: RequestInit): Promise<ApiResponse<T>> {\n    const requestOptions: RequestInit = {\n      ...options,\n      method: 'PUT',\n    }\n\n    if (data !== undefined) {\n      requestOptions.body = JSON.stringify(data)\n    }\n\n    return this.request<T>(endpoint, requestOptions)\n  }\n\n  /**\n   * PATCH request\n   */\n  async patch<T>(endpoint: string, data?: unknown, options?: RequestInit): Promise<ApiResponse<T>> {\n    const requestOptions: RequestInit = {\n      ...options,\n      method: 'PATCH',\n    }\n\n    if (data !== undefined) {\n      requestOptions.body = JSON.stringify(data)\n    }\n\n    return this.request<T>(endpoint, requestOptions)\n  }\n\n  /**\n   * DELETE request\n   */\n  async delete<T>(endpoint: string, options?: RequestInit): Promise<ApiResponse<T>> {\n    return this.request<T>(endpoint, { ...options, method: 'DELETE' })\n  }\n}\n\n/**\n * Factory function to create API client with default configuration\n */\nexport function createApiClient(config: Partial<ApiClientConfig> = {}): ApiClient {\n  const defaultConfig: ApiClientConfig = {\n    baseUrl: window.location.origin,\n    credentials: 'include',\n    defaultHeaders: {\n      'Content-Type': 'application/json',\n    },\n    timeout: 30000,\n    onAuthError: () => {\n      // Only redirect if not already on login page\n      if (window.location.pathname !== '/auth/login') {\n        window.location.href = '/auth/login'\n      }\n    },\n  }\n\n  return new ApiClient({ ...defaultConfig, ...config })\n}\n\n/**\n * Default API client instance\n */\nexport const defaultApiClient = createApiClient()\n\n/**\n * Legacy compatibility wrapper - maintains existing fetchWithAuth interface\n */\nexport async function fetchWithAuth(url: string, options: RequestInit = {}): Promise<Response> {\n  const response = await defaultApiClient.request(url, options)\n\n  // Convert ApiResponse back to Response for legacy compatibility\n  const mockResponse = new Response(\n    response.success ? JSON.stringify(response.data) : response.error,\n    {\n      status: response.status,\n      statusText: response.success ? 'OK' : response.error || 'Error',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    }\n  )\n\n  // For legacy compatibility, throw on non-success responses\n  if (!response.success) {\n    throw new Error(response.error || 'Request failed')\n  }\n\n  return mockResponse\n}\n","/**\n * Basic API client functions\n * Handles general API operations like health checks, items, and OAuth provider management\n */\n\nimport type { Item, OAuthProvider, SupportedProvider } from '../types/api'\nimport { createApiClient } from './api-client-factory'\n\n// Create API client instance\nconst client = createApiClient()\n\nexport const apiClient = {\n  // Health check\n  async health() {\n    const response = await client.get('/api/health')\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to fetch health status')\n    }\n    return response.data\n  },\n\n  // Items\n  async getItems(): Promise<{ items: Item[]; total: number; page: number; pageSize: number }> {\n    const response = await client.get<{\n      items: Item[]\n      total: number\n      page: number\n      pageSize: number\n    }>('/api/items')\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to fetch items')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async createItem(data: { name: string; description?: string }): Promise<Item> {\n    const response = await client.post<Item>('/api/items', data)\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to create item')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async updateItem(id: string, data: { name?: string; description?: string }): Promise<Item> {\n    const response = await client.put<Item>(`/api/items/${id}`, data)\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to update item')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async deleteItem(id: string): Promise<{ success: boolean; id: string }> {\n    const response = await client.delete<{ success: boolean; id: string }>(`/api/items/${id}`)\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to delete item')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  // OAuth Provider management\n  async getOAuthProviders(): Promise<{ providers: OAuthProvider[] }> {\n    const response = await client.get<{ providers: OAuthProvider[] }>('/api/admin/oauth/providers')\n    if (!response.success) {\n      let errorMessage = response.error || 'Failed to fetch OAuth providers'\n      if (response.status === 401) {\n        errorMessage = 'Admin authentication required. Please log in to access OAuth settings.'\n      }\n      throw new Error(errorMessage)\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async getOAuthProvider(provider: string): Promise<{ provider: OAuthProvider }> {\n    const response = await client.get<{ provider: OAuthProvider }>(\n      `/api/admin/oauth/providers/${provider}`\n    )\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to fetch OAuth provider')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async updateOAuthProvider(\n    provider: string,\n    data: {\n      client_id: string\n      client_secret: string\n      is_enabled?: boolean\n      scopes?: string[]\n      redirect_uri?: string\n    }\n  ): Promise<{ success: boolean; message: string; provider: OAuthProvider }> {\n    const response = await client.put<{\n      success: boolean\n      message: string\n      provider: OAuthProvider\n    }>(`/api/admin/oauth/providers/${provider}`, data)\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to update OAuth provider')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async toggleOAuthProvider(\n    provider: string,\n    enabled: boolean\n  ): Promise<{ success: boolean; message: string }> {\n    const response = await client.patch<{ success: boolean; message: string }>(\n      `/api/admin/oauth/providers/${provider}/toggle`,\n      { is_enabled: enabled }\n    )\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to toggle OAuth provider')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async deleteOAuthProvider(provider: string): Promise<{ success: boolean; message: string }> {\n    const response = await client.delete<{ success: boolean; message: string }>(\n      `/api/admin/oauth/providers/${provider}`\n    )\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to delete OAuth provider')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async getSupportedProviders(): Promise<{ supported_providers: SupportedProvider[] }> {\n    const response = await client.get<{ supported_providers: SupportedProvider[] }>(\n      '/api/admin/oauth/supported-providers'\n    )\n    if (!response.success) {\n      let errorMessage = response.error || 'Failed to fetch supported providers'\n      if (response.status === 401) {\n        errorMessage = 'Admin authentication required. Please log in to access OAuth settings.'\n      }\n      throw new Error(errorMessage)\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n}\n","/**\n * Table API client functions\n * Handles all table-related operations including schema management, data operations, and indexing\n */\n\nimport type { ColumnInfo, ForeignKeyInfo, IndexInfo, SchemaSnapshot, TableInfo } from '../types/api'\nimport { createApiClient } from './api-client-factory'\n\n// Create API client instance\nconst client = createApiClient()\n\nexport const tableApi = {\n  // Table management\n  async getTables(): Promise<{ tables: TableInfo[] }> {\n    const response = await client.get<{ tables: TableInfo[] }>('/api/tables')\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to fetch tables')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async getTableSchema(\n    tableName: string\n  ): Promise<{ tableName: string; columns: ColumnInfo[]; foreignKeys: ForeignKeyInfo[] }> {\n    const response = await client.get<{\n      tableName: string\n      columns: ColumnInfo[]\n      foreignKeys: ForeignKeyInfo[]\n    }>(`/api/tables/${tableName}/schema`)\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to fetch table schema')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async getTableData(\n    tableName: string,\n    limit = 100,\n    offset = 0\n  ): Promise<{ data: Record<string, unknown>[]; total: number }> {\n    const response = await client.get<{ data: Record<string, unknown>[]; total: number }>(\n      `/api/tables/${tableName}/data?limit=${limit}&offset=${offset}`\n    )\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to fetch table data')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async createTable(\n    name: string,\n    columns: {\n      name: string\n      type: string\n      constraints?: string\n      foreignKey?: { table: string; column: string }\n    }[]\n  ): Promise<{ success: boolean; table: string }> {\n    const response = await client.post<{ success: boolean; table: string }>('/api/tables', {\n      name,\n      columns,\n    })\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to create table')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async dropTable(tableName: string): Promise<{ success: boolean; table: string }> {\n    const response = await client.delete<{ success: boolean; table: string }>(\n      `/api/tables/${tableName}`\n    )\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to drop table')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async executeSQL(sql: string, params: unknown[] = []): Promise<{ result: unknown }> {\n    const response = await client.post<{ result: unknown }>('/api/tables/query', { sql, params })\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to execute SQL')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  // Column management\n  async addColumn(\n    tableName: string,\n    column: {\n      name: string\n      type: string\n      constraints?: string\n      foreignKey?: { table: string; column: string }\n    }\n  ): Promise<{ success: boolean; column: string }> {\n    const response = await client.post<{ success: boolean; column: string }>(\n      `/api/tables/${tableName}/columns`,\n      column\n    )\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to add column')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async renameColumn(\n    tableName: string,\n    oldName: string,\n    newName: string\n  ): Promise<{ success: boolean; oldName: string; newName: string }> {\n    const response = await client.put<{ success: boolean; oldName: string; newName: string }>(\n      `/api/tables/${tableName}/columns/${oldName}`,\n      { oldName, newName }\n    )\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to rename column')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async dropColumn(\n    tableName: string,\n    columnName: string\n  ): Promise<{ success: boolean; column: string }> {\n    const response = await client.delete<{ success: boolean; column: string }>(\n      `/api/tables/${tableName}/columns/${columnName}`\n    )\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to drop column')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async modifyColumn(\n    tableName: string,\n    columnName: string,\n    changes: {\n      type?: string\n      notNull?: boolean\n      foreignKey?: { table: string; column: string } | null\n    }\n  ): Promise<{ success: boolean; column: string; changes: Record<string, unknown> }> {\n    const response = await client.patch<{\n      success: boolean\n      column: string\n      changes: Record<string, unknown>\n    }>(`/api/tables/${tableName}/columns/${columnName}`, changes)\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to modify column')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async validateColumnChanges(\n    tableName: string,\n    columnName: string,\n    changes: {\n      type?: string\n      notNull?: boolean\n      foreignKey?: { table: string; column: string } | null\n    }\n  ): Promise<{ valid: boolean; errors: string[]; conflictingRows: number }> {\n    const response = await client.post<{\n      valid: boolean\n      errors: string[]\n      conflictingRows: number\n    }>(`/api/tables/${tableName}/columns/${columnName}/validate`, changes)\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to validate column changes')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  // Record management\n  async insertRecord(\n    tableName: string,\n    data: Record<string, unknown>\n  ): Promise<{ success: boolean; id: string }> {\n    const response = await client.post<{ success: boolean; id: string }>(\n      `/api/tables/${tableName}/data`,\n      data\n    )\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to create record')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async updateRecord(\n    tableName: string,\n    id: string,\n    data: Record<string, unknown>\n  ): Promise<{ success: boolean }> {\n    const response = await client.put<{ success: boolean }>(`/api/data/${tableName}/${id}`, data)\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to update record')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async deleteRecord(tableName: string, data: { id: string }): Promise<{ success: boolean }> {\n    const response = await client.delete<{ success: boolean }>(\n      `/api/tables/${tableName}/data/${data.id}`\n    )\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to delete record')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  // Schema snapshots\n  async getSnapshots(\n    limit = 20,\n    offset = 0\n  ): Promise<{ snapshots: SchemaSnapshot[]; total: number }> {\n    const response = await client.get<{ snapshots: SchemaSnapshot[]; total: number }>(\n      `/api/snapshots?limit=${limit}&offset=${offset}`\n    )\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to fetch snapshots')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async getSnapshot(id: string): Promise<SchemaSnapshot> {\n    const response = await client.get<SchemaSnapshot>(`/api/snapshots/${id}`)\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to fetch snapshot')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async createSnapshot(data: {\n    name?: string\n    description?: string\n  }): Promise<{ success: boolean; id: string }> {\n    const response = await client.post<{ success: boolean; id: string }>('/api/snapshots', data)\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to create snapshot')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async restoreSnapshot(id: string): Promise<{ success: boolean; message: string }> {\n    const response = await client.post<{ success: boolean; message: string }>(\n      `/api/snapshots/${id}/restore`\n    )\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to restore snapshot')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async deleteSnapshot(id: string): Promise<{ success: boolean; message: string }> {\n    const response = await client.delete<{ success: boolean; message: string }>(\n      `/api/snapshots/${id}`\n    )\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to delete snapshot')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async compareSnapshots(id1: string, id2: string): Promise<Record<string, unknown>> {\n    const response = await client.get<Record<string, unknown>>(\n      `/api/snapshots/compare/${id1}/${id2}`\n    )\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to compare snapshots')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  // Index management\n  async getTableIndexes(tableName: string): Promise<{ indexes: IndexInfo[] }> {\n    const response = await client.get<{ indexes: IndexInfo[] }>(`/api/tables/${tableName}/indexes`)\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to fetch table indexes')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async getAllIndexes(): Promise<{ indexes: IndexInfo[] }> {\n    const response = await client.get<{ indexes: IndexInfo[] }>('/api/tables/indexes')\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to fetch all indexes')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async createIndex(\n    tableName: string,\n    data: { name: string; columns: string[]; unique?: boolean }\n  ): Promise<{ success: boolean; index: IndexInfo }> {\n    const response = await client.post<{ success: boolean; index: IndexInfo }>(\n      `/api/tables/${tableName}/indexes`,\n      data\n    )\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to create index')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async dropIndex(\n    tableName: string,\n    indexName: string\n  ): Promise<{ success: boolean; message: string }> {\n    const response = await client.delete<{ success: boolean; message: string }>(\n      `/api/tables/${tableName}/indexes/${indexName}`\n    )\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to drop index')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  // Table access policy management\n  async getTablePolicy(\n    tableName: string\n  ): Promise<{ table_name: string; access_policy: 'public' | 'private' | 'system' }> {\n    const response = await client.get<{\n      table_name: string\n      access_policy: 'public' | 'private' | 'system'\n    }>(`/api/tables/${tableName}/policy`)\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to get table policy')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n\n  async updateTablePolicy(\n    tableName: string,\n    policy: 'public' | 'private'\n  ): Promise<{ success: boolean; message: string }> {\n    const response = await client.put<{ success: boolean; message: string }>(\n      `/api/tables/${tableName}/policy`,\n      { access_policy: policy }\n    )\n    if (!response.success) {\n      throw new Error(response.error || 'Failed to update table policy')\n    }\n    return response.data as NonNullable<typeof response.data>\n  },\n}\n","import { apiClient } from './api-client'\nimport { tableApi } from './table-api'\n\n// Re-export types for backward compatibility\nexport type {\n  ApiResponse,\n  ColumnInfo,\n  ForeignKeyInfo,\n  IndexInfo,\n  Item,\n  OAuthProvider,\n  SchemaSnapshot,\n  SupportedProvider,\n  TableInfo,\n} from '../types/api'\n\n// Main API client - orchestrates all API operations\nexport const api = {\n  // Basic API operations\n  ...apiClient,\n\n  // Table-related operations\n  ...tableApi,\n}\n","import type { TableInfo } from '../lib/api'\n\n// System tables that should not be available for FK references\n// NOTE: Keep this in sync with SYSTEM_TABLES in packages/core/src/lib/table-manager.ts\nexport const SYSTEM_TABLES = [\n  'admins',\n  'sessions',\n  'schema_snapshots',\n  'schema_snapshot_counter',\n  'd1_migrations',\n  'api_keys',\n  'user_sessions',\n  'oauth_providers',\n  'app_settings',\n  'table_policies',\n  'hooks',\n  'event_queue',\n  'realtime_subscriptions',\n  'custom_queries',\n  'custom_query_logs',\n  'push_subscriptions',\n  'notification_rules',\n  'notification_templates',\n  'notification_logs',\n] as const\n\n/**\n * Utility function to truncate IDs for display\n */\nexport const truncateId = (id: string | null): string => {\n  if (!id) return '-'\n  return id.length > 8 ? `${id.substring(0, 4)}...` : id\n}\n\n/**\n * Filter out system tables for FK references\n */\nexport const getUserTables = (tables: TableInfo[]): TableInfo[] => {\n  return tables.filter(\n    (table) => !SYSTEM_TABLES.includes(table.name as (typeof SYSTEM_TABLES)[number])\n  )\n}\n\n/**\n * Generate default index name\n */\nexport const generateIndexName = (tableName: string, columns: string[]): string => {\n  const columnPart = columns.filter((col) => col.trim() !== '').join('_')\n  return `idx_${tableName}_${columnPart}`.toLowerCase()\n}\n\n/**\n * Copy text to clipboard with fallback for older browsers\n */\nexport const copyToClipboard = async (text: string): Promise<boolean> => {\n  try {\n    await navigator.clipboard.writeText(text)\n    return true\n  } catch (_err) {\n    // Fallback for older browsers\n    try {\n      const textArea = document.createElement('textarea')\n      textArea.value = text\n      document.body.appendChild(textArea)\n      textArea.focus()\n      textArea.select()\n      const result = document.execCommand('copy')\n      document.body.removeChild(textArea)\n      return result\n    } catch (fallbackErr) {\n      console.error('Failed to copy to clipboard:', fallbackErr)\n      return false\n    }\n  }\n}\n\n/**\n * Normalize datetime string to ISO 8601 format with UTC timezone\n * If timezone info is missing, assumes UTC and adds 'Z' suffix\n */\nconst normalizeDateTimeToISO = (dateString: string): string => {\n  try {\n    // If it's already a proper ISO string with timezone, return as-is\n    if (dateString.endsWith('Z') || /[+-]\\d{2}:\\d{2}$/.test(dateString)) {\n      const date = new Date(dateString)\n      if (!Number.isNaN(date.getTime())) {\n        return date.toISOString()\n      }\n    }\n\n    // Handle SQLite datetime format without timezone (assume UTC)\n    // \"2025-06-26 16:07:43\" or \"2025-06-26T16:07:43\"\n    if (/^\\d{4}-\\d{2}-\\d{2}[T ]\\d{2}:\\d{2}:\\d{2}$/.test(dateString)) {\n      // Replace space with T if needed and add Z suffix\n      const normalizedString = `${dateString.replace(' ', 'T')}Z`\n      const date = new Date(normalizedString)\n      if (!Number.isNaN(date.getTime())) {\n        return date.toISOString()\n      }\n    }\n\n    // If all else fails, try to parse as-is and convert to ISO\n    const date = new Date(dateString)\n    if (!Number.isNaN(date.getTime())) {\n      return date.toISOString()\n    }\n\n    // Return original if unable to parse\n    return dateString\n  } catch {\n    return dateString\n  }\n}\n\n/**\n * Format datetime string for display in browser timezone with timezone abbreviation\n */\nexport const formatDateTime = (dateString: string): string => {\n  try {\n    // First normalize the datetime string to ensure proper timezone handling\n    const normalizedDateString = normalizeDateTimeToISO(dateString)\n    const date = new Date(normalizedDateString)\n\n    if (Number.isNaN(date.getTime())) {\n      return dateString // Return original if invalid date\n    }\n\n    // Format date with timezone abbreviation\n    const formatter = new Intl.DateTimeFormat('ja-JP', {\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit',\n      timeZoneName: 'short',\n    })\n\n    return formatter.format(date)\n  } catch (_err) {\n    return dateString // Return original if formatting fails\n  }\n}\n\n/**\n * Check if a value appears to be an ID (for copy/jump functionality)\n * Matches nanoid format: 21 characters using A-Za-z0-9_-\n */\nexport const isIdValue = (value: unknown): boolean => {\n  if (typeof value !== 'string') return false\n  // Check if it matches nanoid format (21 chars by default with URL-safe chars)\n  // Also accept 32-char format used for API keys\n  return /^[A-Za-z0-9_-]{21}$/.test(value) || /^[A-Za-z0-9_-]{32}$/.test(value)\n}\n\n/**\n * Validate table name format\n */\nexport const isValidTableName = (name: string): boolean => {\n  if (!name || typeof name !== 'string') return false\n  if (name.length > 63) return false\n  if (SYSTEM_TABLES.includes(name as (typeof SYSTEM_TABLES)[number])) return false\n\n  // Check for valid identifier format\n  const validNameRegex = /^[a-zA-Z_][a-zA-Z0-9_]*$/\n  return validNameRegex.test(name)\n}\n\n/**\n * Validate column name format\n */\nexport const isValidColumnName = (name: string): boolean => {\n  if (!name || typeof name !== 'string') return false\n  if (name.length > 63) return false\n\n  // Check for valid identifier format\n  const validNameRegex = /^[a-zA-Z_][a-zA-Z0-9_]*$/\n  return validNameRegex.test(name)\n}\n\n/**\n * Get SQL type options for column creation\n */\nexport const getSQLTypes = () =>\n  [\n    'TEXT',\n    'INTEGER',\n    'REAL',\n    'BLOB',\n    'NUMERIC',\n    'DATE',\n    'DATETIME',\n    'TIMESTAMP',\n    'BOOLEAN',\n    'VARCHAR(255)',\n    'CHAR(50)',\n  ] as const\n\n/**\n * Format file size for display\n */\nexport const formatFileSize = (bytes: number): string => {\n  if (bytes === 0) return '0 B'\n\n  const sizes = ['B', 'KB', 'MB', 'GB']\n  const i = Math.floor(Math.log(bytes) / Math.log(1024))\n\n  return `${(bytes / 1024 ** i).toFixed(1)} ${sizes[i]}`\n}\n\n/**\n * Debounce function for search inputs\n */\nexport const debounce = <T extends (...args: never[]) => unknown>(\n  func: T,\n  wait: number\n): ((...args: Parameters<T>) => void) => {\n  let timeout: ReturnType<typeof setTimeout>\n\n  return (...args: Parameters<T>) => {\n    clearTimeout(timeout)\n    timeout = setTimeout(() => func(...args), wait)\n  }\n}\n","import { useState } from 'preact/hooks'\nimport type { OAuthProvider, SupportedProvider } from '../lib/api'\nimport { api } from '../lib/api'\nimport { formatDateTime } from '../utils/database'\n\ninterface OAuthProviderCardProps {\n  supportedProvider: SupportedProvider\n  configuredProvider?: OAuthProvider\n  onUpdate: () => void\n}\n\nexport function OAuthProviderCard({\n  supportedProvider,\n  configuredProvider,\n  onUpdate,\n}: OAuthProviderCardProps) {\n  const [isEditing, setIsEditing] = useState(false)\n  const [isLoading, setIsLoading] = useState(false)\n  const [formData, setFormData] = useState({\n    client_id: configuredProvider?.client_id || '',\n    client_secret: configuredProvider?.client_secret || '',\n    is_enabled: configuredProvider?.is_enabled || false,\n    scopes: configuredProvider?.scopes || supportedProvider.default_scopes,\n  })\n  const [showSecret, setShowSecret] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  const isConfigured = !!configuredProvider\n  const isEnabled = configuredProvider?.is_enabled || false\n\n  const handleSave = async () => {\n    if (!formData.client_id || !formData.client_secret) {\n      setError('Client ID and Client Secret are required')\n      return\n    }\n\n    setIsLoading(true)\n    setError(null)\n\n    try {\n      await api.updateOAuthProvider(supportedProvider.provider, formData)\n      setIsEditing(false)\n      onUpdate()\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to save provider')\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleToggle = async () => {\n    if (!isConfigured) return\n\n    setIsLoading(true)\n    setError(null)\n\n    try {\n      await api.toggleOAuthProvider(supportedProvider.provider, !isEnabled)\n      onUpdate()\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to toggle provider')\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleDelete = async () => {\n    if (\n      !isConfigured ||\n      !confirm(`Are you sure you want to delete the ${supportedProvider.name} OAuth configuration?`)\n    ) {\n      return\n    }\n\n    setIsLoading(true)\n    setError(null)\n\n    try {\n      await api.deleteOAuthProvider(supportedProvider.provider)\n      onUpdate()\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to delete provider')\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const getProviderIcon = (provider: string) => {\n    const iconComponents = {\n      google: (\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" aria-label=\"Google logo\">\n          <title>Google logo</title>\n          <path\n            d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\n            fill=\"#4285F4\"\n          />\n          <path\n            d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\n            fill=\"#34A853\"\n          />\n          <path\n            d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\n            fill=\"#FBBC05\"\n          />\n          <path\n            d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\n            fill=\"#EA4335\"\n          />\n        </svg>\n      ),\n      github: (\n        <svg\n          width=\"20\"\n          height=\"20\"\n          viewBox=\"0 0 24 24\"\n          fill=\"currentColor\"\n          aria-label=\"GitHub logo\"\n        >\n          <title>GitHub logo</title>\n          <path d=\"M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z\" />\n        </svg>\n      ),\n      facebook: (\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"#1877F2\" aria-label=\"Facebook logo\">\n          <title>Facebook logo</title>\n          <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\" />\n        </svg>\n      ),\n      linkedin: (\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"#0A66C2\" aria-label=\"LinkedIn logo\">\n          <title>LinkedIn logo</title>\n          <path d=\"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z\" />\n        </svg>\n      ),\n      twitter: (\n        <svg\n          width=\"20\"\n          height=\"20\"\n          viewBox=\"0 0 24 24\"\n          fill=\"currentColor\"\n          aria-label=\"Twitter/X logo\"\n        >\n          <title>Twitter/X logo</title>\n          <path d=\"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z\" />\n        </svg>\n      ),\n      apple: (\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\" aria-label=\"Apple logo\">\n          <title>Apple logo</title>\n          <path d=\"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701\" />\n        </svg>\n      ),\n      microsoft: (\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" aria-label=\"Microsoft logo\">\n          <title>Microsoft logo</title>\n          <path d=\"M0 0h11.377v11.372H0z\" fill=\"#F25022\" />\n          <path d=\"M12.623 0H24v11.372H12.623z\" fill=\"#7FBA00\" />\n          <path d=\"M0 12.628h11.377V24H0z\" fill=\"#00A4EF\" />\n          <path d=\"M12.623 12.628H24V24H12.623z\" fill=\"#FFB900\" />\n        </svg>\n      ),\n      discord: (\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"#5865F2\" aria-label=\"Discord logo\">\n          <title>Discord logo</title>\n          <path d=\"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419-.0190 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9460 2.4189-2.1568 2.4189Z\" />\n        </svg>\n      ),\n      slack: (\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" aria-label=\"Slack logo\">\n          <title>Slack logo</title>\n          <path\n            d=\"M5.042 15.165a2.528 2.528 0 01-2.52 2.523A2.528 2.528 0 010 15.165a2.527 2.527 0 012.522-2.52h2.52v2.52z\"\n            fill=\"#E01E5A\"\n          />\n          <path\n            d=\"M6.313 15.165a2.527 2.527 0 012.521-2.52 2.527 2.527 0 012.521 2.52v6.313A2.528 2.528 0 018.834 24a2.528 2.528 0 01-2.521-2.522v-6.313z\"\n            fill=\"#E01E5A\"\n          />\n          <path\n            d=\"M8.834 5.042a2.528 2.528 0 01-2.521-2.52A2.528 2.528 0 018.834 0a2.528 2.528 0 012.521 2.522v2.52H8.834z\"\n            fill=\"#36C5F0\"\n          />\n          <path\n            d=\"M8.834 6.313a2.528 2.528 0 012.521 2.521 2.528 2.528 0 01-2.521 2.521H2.522A2.528 2.528 0 010 8.834a2.528 2.528 0 012.522-2.521h6.312z\"\n            fill=\"#36C5F0\"\n          />\n          <path\n            d=\"M18.956 8.834a2.528 2.528 0 012.521-2.521A2.528 2.528 0 0124 8.834a2.528 2.528 0 01-2.523 2.521h-2.521V8.834z\"\n            fill=\"#2EB67D\"\n          />\n          <path\n            d=\"M17.688 8.834a2.528 2.528 0 01-2.523 2.521 2.527 2.527 0 01-2.52-2.521V2.522A2.527 2.527 0 0115.165 0a2.528 2.528 0 012.523 2.522v6.312z\"\n            fill=\"#2EB67D\"\n          />\n          <path\n            d=\"M15.165 18.956a2.528 2.528 0 012.523 2.521A2.528 2.528 0 0115.165 24a2.527 2.527 0 01-2.52-2.523v-2.521h2.52z\"\n            fill=\"#ECB22E\"\n          />\n          <path\n            d=\"M15.165 17.688a2.527 2.527 0 01-2.52-2.523 2.526 2.526 0 012.52-2.52h6.313A2.527 2.527 0 0124 15.165a2.528 2.528 0 01-2.522 2.523h-6.313z\"\n            fill=\"#ECB22E\"\n          />\n        </svg>\n      ),\n    }\n\n    return (\n      iconComponents[provider as keyof typeof iconComponents] || (\n        <svg\n          width=\"20\"\n          height=\"20\"\n          viewBox=\"0 0 24 24\"\n          fill=\"currentColor\"\n          aria-label=\"Default provider logo\"\n        >\n          <title>Default provider logo</title>\n          <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\" />\n        </svg>\n      )\n    )\n  }\n\n  return (\n    <div class=\"bg-white border border-gray-200 rounded-lg p-6\">\n      <div class=\"flex items-start justify-between mb-4\">\n        <div class=\"flex items-center gap-3\">\n          <div class=\"w-8 h-8 flex items-center justify-center\">\n            {getProviderIcon(supportedProvider.provider)}\n          </div>\n          <div>\n            <h3 class=\"text-lg font-semibold text-gray-900\">{supportedProvider.name}</h3>\n            <div class=\"flex items-center gap-2 mt-1\">\n              <span\n                class={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                  isConfigured\n                    ? isEnabled\n                      ? 'bg-green-100 text-green-800'\n                      : 'bg-yellow-100 text-yellow-800'\n                    : 'bg-gray-100 text-gray-800'\n                }`}\n              >\n                {isConfigured ? (isEnabled ? 'Enabled' : 'Disabled') : 'Not Configured'}\n              </span>\n              {supportedProvider.note && (\n                <span class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n                  {supportedProvider.note}\n                </span>\n              )}\n            </div>\n          </div>\n        </div>\n\n        <div class=\"flex items-center gap-2\">\n          {isConfigured && (\n            <button\n              type=\"button\"\n              onClick={handleToggle}\n              disabled={isLoading}\n              class={`px-3 py-1 text-sm rounded-md font-medium transition-colors ${\n                isEnabled\n                  ? 'bg-yellow-100 text-yellow-800 hover:bg-yellow-200'\n                  : 'bg-green-100 text-green-800 hover:bg-green-200'\n              } disabled:opacity-50`}\n            >\n              {isEnabled ? 'Disable' : 'Enable'}\n            </button>\n          )}\n\n          <button\n            type=\"button\"\n            onClick={() => setIsEditing(!isEditing)}\n            disabled={isLoading}\n            class=\"px-3 py-1 text-sm rounded-md font-medium bg-blue-100 text-blue-800 hover:bg-blue-200 transition-colors disabled:opacity-50\"\n          >\n            {isEditing ? 'Cancel' : isConfigured ? 'Edit' : 'Configure'}\n          </button>\n        </div>\n      </div>\n\n      {error && (\n        <div class=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-md\">\n          <p class=\"text-sm text-red-600\">{error}</p>\n        </div>\n      )}\n\n      {isEditing ? (\n        <div class=\"space-y-4\">\n          <div>\n            <label htmlFor=\"client_id\" class=\"block text-sm font-medium text-gray-700 mb-1\">\n              Client ID\n            </label>\n            <input\n              id=\"client_id\"\n              type=\"text\"\n              value={formData.client_id}\n              onInput={(e) =>\n                setFormData({ ...formData, client_id: (e.target as HTMLInputElement).value })\n              }\n              class=\"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              placeholder=\"Enter your OAuth Client ID\"\n            />\n          </div>\n\n          <div>\n            <label htmlFor=\"client_secret\" class=\"block text-sm font-medium text-gray-700 mb-1\">\n              Client Secret\n            </label>\n            <div class=\"relative\">\n              <input\n                id=\"client_secret\"\n                type={showSecret ? 'text' : 'password'}\n                value={formData.client_secret}\n                onInput={(e) =>\n                  setFormData({ ...formData, client_secret: (e.target as HTMLInputElement).value })\n                }\n                class=\"w-full border border-gray-300 rounded-md px-3 py-2 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                placeholder=\"Enter your OAuth Client Secret\"\n              />\n              <button\n                type=\"button\"\n                onClick={() => setShowSecret(!showSecret)}\n                class=\"absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-gray-600\"\n              >\n                {showSecret ? '👁️' : '👁️‍🗨️'}\n              </button>\n            </div>\n          </div>\n\n          <div>\n            <div class=\"block text-sm font-medium text-gray-700 mb-2\">Scopes</div>\n            <div class=\"flex flex-wrap gap-2\">\n              {formData.scopes.map((scope) => (\n                <span\n                  key={scope}\n                  class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\"\n                >\n                  {scope}\n                </span>\n              ))}\n            </div>\n          </div>\n\n          <div class=\"flex items-center gap-3 pt-4\">\n            <button\n              type=\"button\"\n              onClick={handleSave}\n              disabled={isLoading}\n              class=\"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isLoading ? 'Saving...' : 'Save Configuration'}\n            </button>\n\n            {isConfigured && (\n              <button\n                type=\"button\"\n                onClick={handleDelete}\n                disabled={isLoading}\n                class=\"px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                Delete\n              </button>\n            )}\n          </div>\n        </div>\n      ) : (\n        <div class=\"space-y-3\">\n          <div class=\"text-sm text-gray-600\">\n            <strong>Setup Instructions:</strong>\n            <p class=\"mt-1\">{supportedProvider.setup_instructions}</p>\n          </div>\n\n          <div class=\"text-sm text-gray-600\">\n            <strong>OAuth Callback URL for Provider:</strong>\n            <br />\n            <code class=\"px-2 py-1 bg-gray-100 rounded text-xs\">\n              {window.location.origin}/api/auth/callback/{supportedProvider.provider}\n            </code>\n            <p class=\"mt-1 text-xs text-gray-500\">\n              Use this URL when configuring your OAuth application with the provider. After\n              authentication, users will be redirected to your app based on the callback URLs you\n              configure in your application settings.\n            </p>\n          </div>\n\n          <div class=\"text-sm text-gray-600\">\n            <strong>Default Scopes:</strong>\n            <div class=\"flex flex-wrap gap-1 mt-1\">\n              {supportedProvider.default_scopes.map((scope) => (\n                <span\n                  key={scope}\n                  class=\"inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-700\"\n                >\n                  {scope}\n                </span>\n              ))}\n            </div>\n          </div>\n\n          {isConfigured && (\n            <div class=\"pt-2 border-t border-gray-100\">\n              <div class=\"text-sm text-gray-600\">\n                <strong>Status:</strong> Configured and {isEnabled ? 'enabled' : 'disabled'}\n              </div>\n              {configuredProvider && (\n                <div class=\"text-sm text-gray-600 mt-1\">\n                  <strong>Last updated:</strong> {formatDateTime(configuredProvider.updated_at)}\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  )\n}\n","import { useEffect, useState } from 'preact/hooks'\nimport { OAuthProviderCard } from '../components/OAuthProviderCard'\nimport { api, type OAuthProvider, type SupportedProvider } from '../lib/api'\n\nfunction CallbackUrlsSection() {\n  const [callbackUrls, setCallbackUrls] = useState<string[]>([])\n  const [newUrl, setNewUrl] = useState('')\n  const [isLoading, setIsLoading] = useState(true)\n  const [isSaving, setIsSaving] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  const loadCallbackUrls = async () => {\n    try {\n      setIsLoading(true)\n      setError(null)\n\n      const response = await fetch('/api/app-settings', {\n        credentials: 'include',\n      })\n\n      if (!response.ok) {\n        throw new Error('Failed to load app settings')\n      }\n\n      const data = await response.json()\n      // Find callback_urls setting from the settings array\n      const callbackUrlsSetting = data.settings.find(\n        (s: { key: string; value: string }) => s.key === 'callback_urls'\n      )\n      setCallbackUrls(callbackUrlsSetting ? JSON.parse(callbackUrlsSetting.value) : [])\n    } catch (err) {\n      console.error('Failed to load callback URLs:', err)\n      setError(err instanceof Error ? err.message : 'Failed to load callback URLs')\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const saveCallbackUrls = async (urls: string[]) => {\n    try {\n      setIsSaving(true)\n      setError(null)\n\n      const response = await fetch('/api/app-settings', {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          callback_urls: JSON.stringify(urls),\n        }),\n      })\n\n      if (!response.ok) {\n        throw new Error('Failed to save callback URLs')\n      }\n\n      setCallbackUrls(urls)\n    } catch (err) {\n      console.error('Failed to save callback URLs:', err)\n      setError(err instanceof Error ? err.message : 'Failed to save callback URLs')\n    } finally {\n      setIsSaving(false)\n    }\n  }\n\n  const addUrl = async () => {\n    if (!newUrl.trim()) return\n\n    const updatedUrls = [...callbackUrls, newUrl.trim()]\n    await saveCallbackUrls(updatedUrls)\n    setNewUrl('')\n  }\n\n  const removeUrl = async (index: number) => {\n    const updatedUrls = callbackUrls.filter((_, i) => i !== index)\n    await saveCallbackUrls(updatedUrls)\n  }\n\n  const handleKeyPress = (e: KeyboardEvent) => {\n    if (e.key === 'Enter') {\n      e.preventDefault()\n      addUrl()\n    }\n  }\n\n  useEffect(() => {\n    loadCallbackUrls()\n  }, [])\n\n  if (isLoading) {\n    return (\n      <div class=\"flex items-center justify-center py-12\">\n        <div class=\"text-gray-500\">Loading callback URLs...</div>\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      <div class=\"mb-6\">\n        <h3 class=\"text-lg font-semibold text-gray-900\">Allowed Callback URLs</h3>\n        <p class=\"text-gray-600 mt-2\">\n          Configure URLs where users can be redirected after OAuth authentication. Supports web URLs\n          (https://), mobile deep links (myapp://), and localhost for development.\n        </p>\n      </div>\n\n      {error && (\n        <div class=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-md\">\n          <p class=\"text-sm text-red-600\">{error}</p>\n        </div>\n      )}\n\n      {/* Add new URL */}\n      <div class=\"bg-white border border-gray-200 rounded-lg p-6 mb-6\">\n        <h4 class=\"text-md font-medium text-gray-900 mb-4\">Add Callback URL</h4>\n        <div class=\"flex gap-3\">\n          <input\n            type=\"text\"\n            value={newUrl}\n            onInput={(e) => {\n              const target = e.target as HTMLInputElement\n              setNewUrl(target.value)\n            }}\n            onKeyPress={handleKeyPress}\n            placeholder=\"https://myapp.com/auth/callback or myapp://auth/callback\"\n            class=\"flex-1 border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          />\n          <button\n            type=\"button\"\n            onClick={addUrl}\n            disabled={!newUrl.trim() || isSaving}\n            class=\"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {isSaving ? 'Adding...' : 'Add URL'}\n          </button>\n        </div>\n      </div>\n\n      {/* URL List */}\n      <div class=\"bg-white border border-gray-200 rounded-lg p-6\">\n        <h4 class=\"text-md font-medium text-gray-900 mb-4\">\n          Configured URLs ({callbackUrls.length})\n        </h4>\n\n        {callbackUrls.length === 0 ? (\n          <div class=\"text-center py-8 text-gray-500\">\n            <p class=\"mb-2\">No callback URLs configured</p>\n            <p class=\"text-sm\">\n              When no URLs are configured, any callback URL will be allowed (for backward\n              compatibility)\n            </p>\n          </div>\n        ) : (\n          <div class=\"space-y-3\">\n            {callbackUrls.map((url, index) => (\n              <div\n                key={`callback-url-${index}-${url}`}\n                class=\"flex items-center justify-between p-3 bg-gray-50 rounded-md\"\n              >\n                <div class=\"flex-1\">\n                  <code class=\"text-sm text-gray-800\">{url}</code>\n                  <div class=\"text-xs text-gray-500 mt-1\">\n                    {url.startsWith('https://')\n                      ? '🌐 Web App'\n                      : url.startsWith('http://localhost') || url.startsWith('http://127.0.0.1')\n                        ? '🔧 Development'\n                        : url.includes('://')\n                          ? '📱 Mobile/Desktop App'\n                          : '❓ Unknown'}\n                  </div>\n                </div>\n                <button\n                  type=\"button\"\n                  onClick={() => removeUrl(index)}\n                  disabled={isSaving}\n                  class=\"ml-3 text-red-600 hover:text-red-800 text-sm font-medium disabled:opacity-50\"\n                >\n                  Remove\n                </button>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Help Section */}\n      <div class=\"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6\">\n        <h4 class=\"text-lg font-semibold text-blue-900 mb-3\">URL Format Examples</h4>\n        <div class=\"space-y-2 text-sm text-blue-800\">\n          <p>\n            <strong>Web Applications:</strong> <code>https://myapp.com/auth/callback</code>\n          </p>\n          <p>\n            <strong>Mobile Apps:</strong> <code>myapp://auth/callback</code> or{' '}\n            <code>com.example.myapp://callback</code>\n          </p>\n          <p>\n            <strong>Desktop Apps:</strong> <code>myapp://localhost/callback</code>\n          </p>\n          <p>\n            <strong>Development:</strong> <code>http://localhost:3000/callback</code> or{' '}\n            <code>http://127.0.0.1:8080/auth</code>\n          </p>\n        </div>\n      </div>\n\n      {/* API Usage */}\n      <div class=\"mt-6 bg-gray-50 border border-gray-200 rounded-lg p-6\">\n        <h4 class=\"text-lg font-semibold text-gray-900 mb-3\">API Usage</h4>\n        <div class=\"space-y-2 text-sm font-mono text-gray-700\">\n          <p>\n            <strong>Login with callback:</strong>\n          </p>\n          <code class=\"block bg-white p-2 rounded border\">\n            GET /api/auth/login/google?callback_url=https://myapp.com/auth/callback\n          </code>\n          <p class=\"mt-3\">\n            <strong>The callback response includes:</strong>\n          </p>\n          <code class=\"block bg-white p-2 rounded border text-xs\">\n            {JSON.stringify(\n              {\n                success: true,\n                access_token: '...',\n                refresh_token: '...',\n                user: { id: '...', email: '...', name: '...' },\n                return_url: 'https://myapp.com/auth/callback',\n              },\n              null,\n              2\n            )}\n          </code>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport function AuthPage() {\n  const [activeSection, setActiveSection] = useState<'providers' | 'callback-urls'>('providers')\n  const [supportedProviders, setSupportedProviders] = useState<SupportedProvider[]>([])\n  const [configuredProviders, setConfiguredProviders] = useState<OAuthProvider[]>([])\n  const [isLoading, setIsLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n\n  const loadData = async () => {\n    setIsLoading(true)\n    setError(null)\n\n    try {\n      const [supportedResult, configuredResult] = await Promise.all([\n        api.getSupportedProviders(),\n        api.getOAuthProviders(),\n      ])\n\n      setSupportedProviders(supportedResult.supported_providers)\n      setConfiguredProviders(configuredResult.providers)\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to load OAuth providers')\n      console.error('Error loading OAuth providers:', err)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    loadData()\n  }, [])\n\n  const getConfiguredProvider = (providerName: string): OAuthProvider | undefined => {\n    return configuredProviders.find((p) => p.provider === providerName)\n  }\n\n  const enabledCount = configuredProviders.filter((p) => p.is_enabled).length\n  const configuredCount = configuredProviders.length\n\n  if (isLoading) {\n    return (\n      <div>\n        <h2 class=\"text-2xl font-bold text-gray-900 mb-6\">Authentication</h2>\n        <div class=\"flex items-center justify-center py-12\">\n          <div class=\"text-gray-500\">Loading OAuth providers...</div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      <h2 class=\"text-2xl font-bold text-gray-900 mb-6\">Authentication</h2>\n\n      <div class=\"flex gap-6\">\n        {/* Navigation Sidebar */}\n        <div class=\"w-64 flex-shrink-0\">\n          <nav class=\"space-y-1\">\n            <button\n              type=\"button\"\n              onClick={() => setActiveSection('providers')}\n              class={`w-full text-left px-3 py-2 text-sm font-medium rounded-md transition-colors ${\n                activeSection === 'providers'\n                  ? 'bg-blue-50 text-blue-700 border-l-4 border-blue-700'\n                  : 'text-gray-700 hover:bg-gray-50'\n              }`}\n            >\n              OAuth Providers\n            </button>\n            <button\n              type=\"button\"\n              onClick={() => setActiveSection('callback-urls')}\n              class={`w-full text-left px-3 py-2 text-sm font-medium rounded-md transition-colors ${\n                activeSection === 'callback-urls'\n                  ? 'bg-blue-50 text-blue-700 border-l-4 border-blue-700'\n                  : 'text-gray-700 hover:bg-gray-50'\n              }`}\n            >\n              Callback URLs\n            </button>\n          </nav>\n        </div>\n\n        {/* Main Content */}\n        <div class=\"flex-1 min-w-0\">\n          {activeSection === 'providers' && (\n            <div>\n              <div class=\"mb-6\">\n                <h3 class=\"text-lg font-semibold text-gray-900\">OAuth Providers</h3>\n                <p class=\"text-gray-600 mt-2\">\n                  Configure OAuth providers to enable user authentication in your applications\n                </p>\n              </div>\n\n              {error && (\n                <div class=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-md\">\n                  <p class=\"text-sm text-red-600\">{error}</p>\n                  {error.includes('authentication required') ? (\n                    <div class=\"mt-3\">\n                      <p class=\"text-sm text-red-700 mb-2\">\n                        You need to log in as an administrator to manage OAuth settings.\n                      </p>\n                      <a\n                        href=\"/\"\n                        class=\"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n                      >\n                        Go to Dashboard\n                      </a>\n                    </div>\n                  ) : (\n                    <button\n                      type=\"button\"\n                      onClick={loadData}\n                      class=\"mt-2 text-sm text-red-700 hover:text-red-800 underline\"\n                    >\n                      Try again\n                    </button>\n                  )}\n                </div>\n              )}\n\n              {/* Stats */}\n              <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8\">\n                <div class=\"bg-white border border-gray-200 rounded-lg p-4\">\n                  <div class=\"text-2xl font-bold text-gray-900\">{supportedProviders.length}</div>\n                  <div class=\"text-sm text-gray-600\">Supported Providers</div>\n                </div>\n                <div class=\"bg-white border border-gray-200 rounded-lg p-4\">\n                  <div class=\"text-2xl font-bold text-blue-600\">{configuredCount}</div>\n                  <div class=\"text-sm text-gray-600\">Configured</div>\n                </div>\n                <div class=\"bg-white border border-gray-200 rounded-lg p-4\">\n                  <div class=\"text-2xl font-bold text-green-600\">{enabledCount}</div>\n                  <div class=\"text-sm text-gray-600\">Enabled</div>\n                </div>\n              </div>\n\n              {/* Provider Cards */}\n              <div class=\"space-y-6\">\n                {supportedProviders.map((supportedProvider) => (\n                  <OAuthProviderCard\n                    key={supportedProvider.provider}\n                    supportedProvider={supportedProvider}\n                    configuredProvider={getConfiguredProvider(supportedProvider.provider)}\n                    onUpdate={loadData}\n                  />\n                ))}\n              </div>\n\n              {/* Help Section */}\n              <div class=\"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6\">\n                <h3 class=\"text-lg font-semibold text-blue-900 mb-3\">Getting Started</h3>\n                <div class=\"space-y-2 text-sm text-blue-800\">\n                  <p>\n                    1. <strong>Choose a provider:</strong> Click \"Configure\" on any OAuth provider\n                    you want to enable\n                  </p>\n                  <p>\n                    2. <strong>Create OAuth app:</strong> Follow the setup instructions to create an\n                    OAuth application\n                  </p>\n                  <p>\n                    3. <strong>Configure credentials:</strong> Enter your Client ID and Client\n                    Secret\n                  </p>\n                  <p>\n                    4. <strong>Enable provider:</strong> Toggle the provider to \"Enabled\" status\n                  </p>\n                  <p>\n                    5. <strong>Test authentication:</strong> Users can now authenticate with this\n                    provider\n                  </p>\n                </div>\n              </div>\n\n              {/* API Endpoints */}\n              <div class=\"mt-8 bg-gray-50 border border-gray-200 rounded-lg p-6\">\n                <h3 class=\"text-lg font-semibold text-gray-900 mb-3\">Authentication Endpoints</h3>\n                <div class=\"space-y-2 text-sm font-mono text-gray-700\">\n                  <div>\n                    <strong>Available providers:</strong> <code>GET /api/auth/providers</code>\n                  </div>\n                  <div>\n                    <strong>Start authentication:</strong>{' '}\n                    <code>GET /api/auth/login/{'{{provider}}'}</code>\n                  </div>\n                  <div>\n                    <strong>OAuth callback:</strong>{' '}\n                    <code>GET /api/auth/callback/{'{{provider}}'}</code>\n                  </div>\n                  <div>\n                    <strong>Get user info:</strong> <code>GET /api/auth/me</code>\n                  </div>\n                  <div>\n                    <strong>Refresh token:</strong> <code>POST /api/auth/refresh</code>\n                  </div>\n                  <div>\n                    <strong>Logout:</strong> <code>POST /api/auth/logout</code>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {activeSection === 'callback-urls' && <CallbackUrlsSection />}\n        </div>\n      </div>\n    </div>\n  )\n}\n","/**\n * SQL utility functions\n * Handles SQL parsing, parameter extraction, and validation\n */\n\nimport type { Parameter, QueryFormData, ValidationErrors } from '../types/custom-sql'\n\n// Auto-generate slug from name (proven algorithm)\nexport const generateSlugFromName = (name: string): string => {\n  if (!name.trim()) {\n    return Date.now().toString(36).slice(-8).padStart(8, '0')\n  }\n\n  // Create a seed based on the string content and length\n  let seed = name.length + 1000 // Add offset to avoid small numbers\n\n  for (let i = 0; i < name.length; i++) {\n    const char = name.charCodeAt(i)\n    seed = seed * 31 + char // Classic polynomial rolling hash\n    seed = seed & 0x7fffffff // Keep positive\n  }\n\n  // Generate 8 characters using a simple PRNG approach\n  let result = ''\n  let rng = seed\n\n  for (let i = 0; i < 8; i++) {\n    // Linear congruential generator\n    rng = (rng * 1664525 + 1013904223) & 0x7fffffff\n    const digit = rng % 36\n    result += digit.toString(36)\n  }\n\n  return result\n}\n\n// Extract parameters from SQL query\nexport const extractParametersFromSQL = (sql: string): Parameter[] => {\n  const paramRegex = /:(\\w+)/g\n  const matches = new Set<string>()\n  let match: RegExpExecArray | null\n\n  match = paramRegex.exec(sql)\n  while (match !== null) {\n    matches.add(match[1])\n    match = paramRegex.exec(sql)\n  }\n\n  return Array.from(matches).map((paramName) => ({\n    name: paramName,\n    type: 'string' as const,\n    required: true,\n    description: '',\n  }))\n}\n\n// Determine HTTP method and readonly status based on SQL\nexport const determineMethodAndReadonly = (sql: string) => {\n  const trimmedSql = sql.trim().toLowerCase()\n  const isSelect = trimmedSql.startsWith('select')\n  const isPragma = trimmedSql.includes('pragma')\n\n  return {\n    method: isSelect ? 'GET' : 'POST',\n    readonly: isSelect || isPragma,\n  }\n}\n\n// Validate form data\nexport const validateForm = (formData: QueryFormData): ValidationErrors => {\n  const errors: ValidationErrors = {}\n\n  // Required field validation\n  if (!formData.name.trim()) {\n    errors.name = 'クエリ名は必須です'\n  }\n\n  if (!formData.slug.trim()) {\n    errors.slug = 'スラッグは必須です'\n  } else if (!/^[a-z0-9_-]+$/.test(formData.slug)) {\n    errors.slug = 'スラッグは小文字の英数字、ハイフン、アンダースコアのみ使用できます'\n  }\n\n  if (!formData.sql_query.trim()) {\n    errors.sql_query = 'SQLクエリは必須です'\n  } else {\n    // Check if SQL contains parameters that are not defined\n    const paramRegex = /:(\\w+)/g\n    const sqlParams = new Set<string>()\n    let match: RegExpExecArray | null\n\n    match = paramRegex.exec(formData.sql_query)\n    while (match !== null) {\n      sqlParams.add(match[1])\n      match = paramRegex.exec(formData.sql_query)\n    }\n\n    const definedParams = new Set((formData.parameters || []).map((p) => p.name))\n    const undefinedParams = Array.from(sqlParams).filter((p) => !definedParams.has(p))\n\n    if (undefinedParams.length > 0) {\n      errors.sql_query = `SQLに未定義のパラメーターが含まれています: ${undefinedParams.join(', ')}`\n    }\n  }\n  // Parameter validation\n  ;(formData.parameters || []).forEach((param, index) => {\n    if (!param.name.trim()) {\n      errors[`parameter_${index}_name`] = 'パラメーター名は必須です'\n    } else if (!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(param.name)) {\n      errors[`parameter_${index}_name`] =\n        'パラメーター名は英文字またはアンダースコアで始まり、英数字とアンダースコアのみ使用できます'\n    }\n  })\n\n  return errors\n}\n","/**\n * QueryForm component\n * Modal form for creating and editing custom SQL queries\n */\n\nimport type { Parameter, QueryFormData, ValidationErrors } from '../../types/custom-sql'\nimport {\n  determineMethodAndReadonly,\n  extractParametersFromSQL,\n  generateSlugFromName,\n} from '../../utils/sql-utils'\n\ninterface QueryFormProps {\n  isCreating: boolean\n  isEditing: boolean\n  formData: QueryFormData\n  validationErrors: ValidationErrors\n  error: string | null\n  onFormDataChange: (data: QueryFormData) => void\n  onValidationErrorsChange: (errors: ValidationErrors) => void\n  onCreate: () => void\n  onUpdate: () => void\n  onClose: () => void\n}\n\nexport function QueryForm({\n  isCreating,\n  isEditing,\n  formData,\n  validationErrors,\n  error,\n  onFormDataChange,\n  onValidationErrorsChange,\n  onCreate,\n  onUpdate,\n  onClose,\n}: QueryFormProps) {\n  if (!isCreating && !isEditing) {\n    return null\n  }\n\n  const addParameter = () => {\n    onFormDataChange({\n      ...formData,\n      parameters: [...formData.parameters, { name: '', type: 'string', required: false }],\n    })\n  }\n\n  const removeParameter = (index: number) => {\n    onFormDataChange({\n      ...formData,\n      parameters: formData.parameters.filter((_, i) => i !== index),\n    })\n  }\n\n  const updateParameter = (index: number, param: Partial<Parameter>) => {\n    onFormDataChange({\n      ...formData,\n      parameters: formData.parameters.map((p, i) => (i === index ? { ...p, ...param } : p)),\n    })\n\n    // Clear validation error for this parameter name field\n    if (param.name !== undefined) {\n      const errorKey = `parameter_${index}_name`\n      if (validationErrors[errorKey]) {\n        const newErrors = { ...validationErrors }\n        delete newErrors[errorKey]\n        onValidationErrorsChange(newErrors)\n      }\n    }\n  }\n\n  const clearValidationError = (field: string) => {\n    if (validationErrors[field]) {\n      const newErrors = { ...validationErrors }\n      delete newErrors[field]\n      onValidationErrorsChange(newErrors)\n    }\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6\">\n        <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n          {isCreating ? 'Create Custom Query' : 'Edit Custom Query'}\n        </h3>\n\n        {error && (\n          <div className=\"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\">\n            {error}\n          </div>\n        )}\n\n        <div className=\"space-y-4\">\n          <div>\n            <label htmlFor=\"query-name\" className=\"block text-sm font-medium text-gray-700\">\n              Name\n            </label>\n            <input\n              id=\"query-name\"\n              type=\"text\"\n              value={formData.name}\n              onChange={(e) => {\n                const newName = (e.target as HTMLInputElement).value\n                onFormDataChange({\n                  ...formData,\n                  name: newName,\n                  // Auto-generate slug when creating new query, but preserve manual changes when editing\n                  slug: isCreating ? generateSlugFromName(newName) : formData.slug,\n                })\n                // Clear validation errors for name and slug (if slug is auto-generated)\n                clearValidationError('name')\n                if (isCreating) {\n                  clearValidationError('slug')\n                }\n              }}\n              className={`mt-1 w-full px-3 py-2 border rounded-md ${\n                validationErrors.name ? 'border-red-500 bg-red-50' : 'border-gray-300'\n              }`}\n            />\n            {validationErrors.name && (\n              <p className=\"mt-1 text-sm text-red-600\">{validationErrors.name}</p>\n            )}\n          </div>\n\n          <div>\n            <div className=\"flex justify-between items-center\">\n              <label htmlFor=\"query-slug\" className=\"block text-sm font-medium text-gray-700\">\n                Slug\n                <span className=\"text-xs text-gray-500\">(auto-generated, but editable)</span>\n              </label>\n              <button\n                type=\"button\"\n                onClick={() => {\n                  onFormDataChange({ ...formData, slug: generateSlugFromName(formData.name) })\n                  clearValidationError('slug')\n                }}\n                className=\"text-xs text-indigo-600 hover:text-indigo-800\"\n              >\n                Re-generate from name\n              </button>\n            </div>\n            <input\n              id=\"query-slug\"\n              type=\"text\"\n              value={formData.slug}\n              onChange={(e) => {\n                onFormDataChange({ ...formData, slug: (e.target as HTMLInputElement).value })\n                clearValidationError('slug')\n              }}\n              placeholder=\"lowercase-with-hyphens\"\n              className={`mt-1 w-full px-3 py-2 border rounded-md ${\n                validationErrors.slug ? 'border-red-500 bg-red-50' : 'border-gray-300'\n              }`}\n            />\n            {validationErrors.slug && (\n              <p className=\"mt-1 text-sm text-red-600\">{validationErrors.slug}</p>\n            )}\n            <p className=\"mt-1 text-sm text-gray-500\">\n              This will be the API endpoint: /api/custom/{formData.slug || 'a1b2c3d4'}\n            </p>\n          </div>\n\n          <div>\n            <label htmlFor=\"query-description\" className=\"block text-sm font-medium text-gray-700\">\n              Description\n            </label>\n            <input\n              id=\"query-description\"\n              type=\"text\"\n              value={formData.description}\n              onChange={(e) =>\n                onFormDataChange({ ...formData, description: (e.target as HTMLInputElement).value })\n              }\n              className=\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md\"\n            />\n          </div>\n\n          <div>\n            <label htmlFor=\"query-sql\" className=\"block text-sm font-medium text-gray-700\">\n              SQL Query\n            </label>\n            <textarea\n              id=\"query-sql\"\n              value={formData.sql_query}\n              onChange={(e) => {\n                const newSql = (e.target as HTMLTextAreaElement).value\n                const extractedParams = extractParametersFromSQL(newSql)\n\n                // Merge with existing parameters, preserving manual edits\n                const existingParamNames = new Set(formData.parameters.map((p) => p.name))\n                const newParams = [\n                  ...formData.parameters.filter((p) => newSql.includes(`:${p.name}`)), // Keep params still used in SQL\n                  ...extractedParams.filter((p) => !existingParamNames.has(p.name)), // Add new params\n                ]\n\n                onFormDataChange({\n                  ...formData,\n                  sql_query: newSql,\n                  parameters: newParams,\n                })\n                clearValidationError('sql_query')\n              }}\n              rows={6}\n              placeholder=\"SELECT * FROM users WHERE created_at > :start_date\"\n              className={`mt-1 w-full px-3 py-2 border rounded-md font-mono text-sm ${\n                validationErrors.sql_query ? 'border-red-500 bg-red-50' : 'border-gray-300'\n              }`}\n            />\n            {validationErrors.sql_query && (\n              <p className=\"mt-1 text-sm text-red-600\">{validationErrors.sql_query}</p>\n            )}\n            <div className=\"mt-2 flex justify-between items-center\">\n              <p className=\"text-sm text-gray-500\">\n                Use :parameter_name for parameters (will be auto-detected)\n              </p>\n              {formData.sql_query && (\n                <div className=\"flex gap-2\">\n                  <span\n                    className={`px-2 py-1 rounded text-xs ${\n                      determineMethodAndReadonly(formData.sql_query).method === 'GET'\n                        ? 'bg-green-100 text-green-800'\n                        : 'bg-blue-100 text-blue-800'\n                    }`}\n                  >\n                    {determineMethodAndReadonly(formData.sql_query).method}\n                  </span>\n                  {determineMethodAndReadonly(formData.sql_query).readonly && (\n                    <span className=\"px-2 py-1 rounded text-xs bg-gray-100 text-gray-800\">\n                      Read-only\n                    </span>\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div>\n            <div className=\"flex justify-between items-center mb-2\">\n              <div className=\"block text-sm font-medium text-gray-700\">\n                Parameters\n                {(formData.parameters || []).length > 0 && (\n                  <span className=\"text-xs text-gray-500 ml-1\">\n                    ({(formData.parameters || []).length} detected)\n                  </span>\n                )}\n              </div>\n              <button\n                type=\"button\"\n                onClick={addParameter}\n                className=\"text-sm text-indigo-600 hover:text-indigo-800\"\n              >\n                Add Parameter\n              </button>\n            </div>\n\n            {(formData.parameters || []).length === 0 ? (\n              <div className=\"text-sm text-gray-500 bg-gray-50 p-3 rounded border-2 border-dashed border-gray-200\">\n                No parameters detected. Use :param_name in your SQL query to automatically add\n                parameters here.\n              </div>\n            ) : (\n              (formData.parameters || []).map((param, index) => (\n                <div key={`param-${param.name}-${index}`} className=\"mb-3\">\n                  <div className=\"flex gap-2 mb-1\">\n                    <input\n                      id={`param-name-${index}`}\n                      type=\"text\"\n                      value={param.name}\n                      onChange={(e) =>\n                        updateParameter(index, { name: (e.target as HTMLInputElement).value })\n                      }\n                      placeholder=\"param_name\"\n                      className={`flex-1 px-3 py-1 border rounded-md text-sm ${\n                        validationErrors[`parameter_${index}_name`]\n                          ? 'border-red-500 bg-red-50'\n                          : 'border-gray-300'\n                      }`}\n                    />\n                    <select\n                      id={`param-type-${index}`}\n                      value={param.type}\n                      onChange={(e) =>\n                        updateParameter(index, {\n                          type: (e.target as HTMLSelectElement).value as Parameter['type'],\n                        })\n                      }\n                      className=\"px-3 py-1 border border-gray-300 rounded-md text-sm\"\n                    >\n                      <option value=\"string\">String</option>\n                      <option value=\"number\">Number</option>\n                      <option value=\"boolean\">Boolean</option>\n                      <option value=\"date\">Date</option>\n                    </select>\n                    <label htmlFor={`param-required-${index}`} className=\"flex items-center\">\n                      <input\n                        id={`param-required-${index}`}\n                        type=\"checkbox\"\n                        checked={param.required}\n                        onChange={(e) =>\n                          updateParameter(index, {\n                            required: (e.target as HTMLInputElement).checked,\n                          })\n                        }\n                        className=\"mr-1\"\n                      />\n                      <span className=\"text-sm\">Required</span>\n                    </label>\n                    <button\n                      type=\"button\"\n                      onClick={() => removeParameter(index)}\n                      className=\"text-red-600 hover:text-red-800 text-sm\"\n                    >\n                      Remove\n                    </button>\n                  </div>\n                  {validationErrors[`parameter_${index}_name`] && (\n                    <p className=\"text-xs text-red-600 ml-1\">\n                      {validationErrors[`parameter_${index}_name`]}\n                    </p>\n                  )}\n                </div>\n              ))\n            )}\n          </div>\n\n          <div>\n            <label htmlFor=\"query-cache-ttl\" className=\"block text-sm font-medium text-gray-700\">\n              Cache TTL (seconds)\n            </label>\n            <input\n              id=\"query-cache-ttl\"\n              type=\"number\"\n              value={formData.cache_ttl}\n              onChange={(e) =>\n                onFormDataChange({\n                  ...formData,\n                  cache_ttl: parseInt((e.target as HTMLInputElement).value) || 0,\n                })\n              }\n              className=\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md\"\n            />\n          </div>\n\n          <div>\n            <label htmlFor=\"query-enabled\" className=\"flex items-center\">\n              <input\n                id=\"query-enabled\"\n                type=\"checkbox\"\n                checked={formData.is_enabled}\n                onChange={(e) =>\n                  onFormDataChange({\n                    ...formData,\n                    is_enabled: (e.target as HTMLInputElement).checked,\n                  })\n                }\n                className=\"mr-2\"\n              />\n              <span className=\"text-sm font-medium text-gray-700\">Enabled</span>\n            </label>\n          </div>\n        </div>\n\n        <div className=\"flex justify-end gap-2 mt-6\">\n          <button\n            type=\"button\"\n            onClick={onClose}\n            className=\"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50\"\n          >\n            Cancel\n          </button>\n          <button\n            type=\"button\"\n            onClick={isCreating ? onCreate : onUpdate}\n            className=\"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700\"\n          >\n            {isCreating ? 'Create' : 'Update'}\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n","/**\n * QueryList component\n * Displays and manages the list of custom SQL queries\n */\n\nimport type { CustomQuery } from '../../types/custom-sql'\n\ninterface QueryListProps {\n  queries: CustomQuery[]\n  selectedQuery: CustomQuery | null\n  onSelectQuery: (query: CustomQuery) => void\n  onEditClick: (query: CustomQuery) => void\n  onDeleteClick: (id: string) => void\n  onToggleEnabled: (id: string, enabled: boolean) => void\n  onCreateClick: () => void\n}\n\nexport function QueryList({\n  queries,\n  selectedQuery,\n  onSelectQuery,\n  onEditClick,\n  onDeleteClick,\n  onToggleEnabled,\n  onCreateClick,\n}: QueryListProps) {\n  return (\n    <div className=\"bg-white shadow rounded-lg p-6\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h3 className=\"text-lg font-medium text-gray-900\">Queries</h3>\n        <button\n          type=\"button\"\n          onClick={onCreateClick}\n          className=\"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700\"\n        >\n          Create Query\n        </button>\n      </div>\n\n      <div className=\"space-y-2\">\n        {queries.length === 0 ? (\n          <p className=\"text-gray-500\">No custom queries yet</p>\n        ) : (\n          queries.map((query) => (\n            <button\n              type=\"button\"\n              key={query.id}\n              className={`text-left w-full p-3 border rounded hover:bg-gray-50 ${\n                selectedQuery?.id === query.id\n                  ? 'border-indigo-500 bg-indigo-50'\n                  : 'border-gray-200'\n              }`}\n              onClick={() => {\n                // Parse parameters if they're stored as JSON string\n                const parsedQuery = {\n                  ...query,\n                  parameters:\n                    typeof query.parameters === 'string'\n                      ? JSON.parse(query.parameters || '[]')\n                      : query.parameters || [],\n                }\n                onSelectQuery(parsedQuery)\n              }}\n            >\n              <div className=\"flex justify-between items-start\">\n                <div>\n                  <h4 className=\"font-medium text-gray-900\">{query.name}</h4>\n                  <p className=\"text-sm text-gray-500\">/{query.slug}</p>\n                  <div className=\"flex gap-2 mt-1\">\n                    <span\n                      className={`text-xs px-2 py-1 rounded ${\n                        query.method === 'GET'\n                          ? 'bg-green-100 text-green-800'\n                          : 'bg-blue-100 text-blue-800'\n                      }`}\n                    >\n                      {query.method}\n                    </span>\n                    <span\n                      className={`text-xs px-2 py-1 rounded ${\n                        query.is_enabled\n                          ? 'bg-green-100 text-green-800'\n                          : 'bg-gray-100 text-gray-800'\n                      }`}\n                    >\n                      {query.is_enabled ? 'Enabled' : 'Disabled'}\n                    </span>\n                    {query.is_readonly && (\n                      <span className=\"text-xs px-2 py-1 rounded bg-gray-100 text-gray-800\">\n                        Read-only\n                      </span>\n                    )}\n                  </div>\n                </div>\n                <div className=\"flex gap-2\">\n                  <button\n                    type=\"button\"\n                    onClick={(e) => {\n                      e.stopPropagation()\n                      onToggleEnabled(query.id, !query.is_enabled)\n                    }}\n                    className={\n                      query.is_enabled\n                        ? 'text-orange-600 hover:text-orange-800'\n                        : 'text-green-600 hover:text-green-800'\n                    }\n                  >\n                    {query.is_enabled ? 'Disable' : 'Enable'}\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={(e) => {\n                      e.stopPropagation()\n                      onEditClick(query)\n                    }}\n                    className=\"text-indigo-600 hover:text-indigo-800\"\n                  >\n                    Edit\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={(e) => {\n                      e.stopPropagation()\n                      onDeleteClick(query.id)\n                    }}\n                    className=\"text-red-600 hover:text-red-800\"\n                  >\n                    Delete\n                  </button>\n                </div>\n              </div>\n            </button>\n          ))\n        )}\n      </div>\n    </div>\n  )\n}\n","/**\n * QueryTester component\n * Handles testing custom SQL queries with parameters\n */\n\nimport type { CustomQuery, TestResult } from '../../types/custom-sql'\n\ninterface QueryTesterProps {\n  selectedQuery: CustomQuery | null\n  testParams: Record<string, unknown>\n  testResult: TestResult | null\n  testError: string | null\n  testing: boolean\n  onTestParamsChange: (params: Record<string, unknown>) => void\n  onTest: () => void\n}\n\nexport function QueryTester({\n  selectedQuery,\n  testParams,\n  testResult,\n  testError,\n  testing,\n  onTestParamsChange,\n  onTest,\n}: QueryTesterProps) {\n  if (!selectedQuery) {\n    return (\n      <div className=\"bg-white shadow rounded-lg p-6\">\n        <h3 className=\"text-lg font-medium text-gray-900\">Query Details</h3>\n        <p className=\"text-gray-500 mt-4\">Select a query to view details and test</p>\n      </div>\n    )\n  }\n\n  const handleParamChange = (paramName: string, value: string, type: string) => {\n    let parsedValue: unknown = value\n\n    // Convert value based on parameter type\n    if (type === 'number') {\n      parsedValue = value === '' ? undefined : Number(value)\n    } else if (type === 'boolean') {\n      parsedValue = value === 'true'\n    } else if (type === 'date') {\n      parsedValue = value === '' ? undefined : value\n    }\n\n    onTestParamsChange({\n      ...testParams,\n      [paramName]: parsedValue,\n    })\n  }\n\n  return (\n    <div className=\"bg-white shadow rounded-lg p-6\">\n      <div className=\"space-y-4\">\n        <div>\n          <h3 className=\"text-lg font-medium text-gray-900\">{selectedQuery.name}</h3>\n          {selectedQuery.description && (\n            <p className=\"text-gray-600 mt-1\">{selectedQuery.description}</p>\n          )}\n          <p className=\"text-sm text-gray-500 mt-2\">\n            Endpoint:{' '}\n            <code className=\"bg-gray-100 px-1 py-0.5 rounded\">\n              {selectedQuery.method} /api/custom/{selectedQuery.slug}\n            </code>\n          </p>\n        </div>\n\n        {/* SQL Query */}\n        <div>\n          <h4 className=\"text-sm font-medium text-gray-700 mb-2\">SQL Query</h4>\n          <pre className=\"bg-gray-100 p-3 rounded text-sm overflow-x-auto\">\n            {selectedQuery.sql_query}\n          </pre>\n        </div>\n\n        {/* Parameters */}\n        {(selectedQuery.parameters || []).length > 0 && (\n          <div>\n            <h4 className=\"text-sm font-medium text-gray-700 mb-2\">Test Parameters</h4>\n            <div className=\"space-y-3\">\n              {(selectedQuery.parameters || []).map((param) => (\n                <div key={param.name}>\n                  <label\n                    htmlFor={`param-${param.name}`}\n                    className=\"block text-sm font-medium text-gray-700\"\n                  >\n                    {param.name}\n                    {param.required && <span className=\"text-red-500 ml-1\">*</span>}\n                    <span className=\"text-gray-500 ml-1\">({param.type})</span>\n                  </label>\n                  {param.description && (\n                    <p className=\"text-xs text-gray-500 mt-1\">{param.description}</p>\n                  )}\n                  {param.type === 'boolean' ? (\n                    <select\n                      id={`param-${param.name}`}\n                      value={String(testParams[param.name] ?? '')}\n                      onChange={(e) =>\n                        handleParamChange(\n                          param.name,\n                          (e.target as HTMLSelectElement).value,\n                          param.type\n                        )\n                      }\n                      className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                    >\n                      <option value=\"\">Select...</option>\n                      <option value=\"true\">true</option>\n                      <option value=\"false\">false</option>\n                    </select>\n                  ) : (\n                    <input\n                      id={`param-${param.name}`}\n                      type={\n                        param.type === 'number' ? 'number' : param.type === 'date' ? 'date' : 'text'\n                      }\n                      value={String(testParams[param.name] ?? '')}\n                      onChange={(e) =>\n                        handleParamChange(\n                          param.name,\n                          (e.target as HTMLInputElement).value,\n                          param.type\n                        )\n                      }\n                      placeholder={param.default ? `Default: ${param.default}` : ''}\n                      className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                    />\n                  )}\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Test Button */}\n        <button\n          type=\"button\"\n          onClick={onTest}\n          disabled={testing}\n          className=\"w-full px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50\"\n        >\n          {testing ? 'Testing...' : 'Test Query'}\n        </button>\n\n        {/* Test Results */}\n        {testError && (\n          <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\">\n            <h4 className=\"font-medium\">Test Error</h4>\n            <p className=\"mt-1\">{testError}</p>\n          </div>\n        )}\n\n        {testResult && (\n          <div className=\"bg-green-50 border border-green-200 rounded p-4\">\n            <h4 className=\"font-medium text-green-800 mb-2\">Test Results</h4>\n            <div className=\"text-sm text-green-700 space-y-1\">\n              <p>Rows returned: {testResult.row_count}</p>\n              <p>Execution time: {testResult.execution_time}ms</p>\n            </div>\n            {testResult.data && testResult.data.length > 0 && (\n              <div className=\"mt-3\">\n                <h5 className=\"font-medium text-green-800 mb-2\">Sample Data (first 5 rows)</h5>\n                <div className=\"bg-white rounded border overflow-x-auto\">\n                  <table className=\"min-w-full text-sm\">\n                    <thead className=\"bg-gray-50\">\n                      <tr>\n                        {Object.keys(testResult.data[0] as Record<string, unknown>).map((key) => (\n                          <th key={key} className=\"px-3 py-2 text-left font-medium text-gray-700\">\n                            {key}\n                          </th>\n                        ))}\n                      </tr>\n                    </thead>\n                    <tbody className=\"divide-y divide-gray-200\">\n                      {testResult.data.slice(0, 5).map((row, index) => {\n                        const rowData = row as Record<string, unknown>\n                        const rowKey = Object.values(rowData).join('-') || `row-${index}`\n                        return (\n                          <tr key={rowKey}>\n                            {Object.entries(rowData).map(([key, value]) => (\n                              <td key={key} className=\"px-3 py-2 text-gray-900\">\n                                {String(value)}\n                              </td>\n                            ))}\n                          </tr>\n                        )\n                      })}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n","/**\n * Generic CRUD hook for consistent data management\n * Provides standardized create, read, update, delete operations with loading states and error handling\n */\n\nimport { useEffect, useState } from 'preact/hooks'\nimport type { ApiConfig, BaseResource, LoadingStates, ValidationErrors } from '../types/common'\n\nexport interface CRUDOptions<T extends BaseResource> {\n  apiConfig: ApiConfig\n  initialData?: T[]\n  autoFetch?: boolean\n  validateFn?: (data: Partial<T>) => ValidationErrors\n  transformResponse?: (response: unknown) => T[]\n  transformItem?: (response: unknown) => T\n}\n\nexport interface CRUDState<T extends BaseResource> extends LoadingStates {\n  items: T[]\n  selectedItem: T | null\n  error: string | null\n  validationErrors: ValidationErrors\n}\n\nexport interface CRUDActions<T extends BaseResource> {\n  // Data operations\n  fetchItems: () => Promise<void>\n  createItem: (data: Partial<T>) => Promise<T | null>\n  updateItem: (id: string, data: Partial<T>) => Promise<T | null>\n  deleteItem: (id: string) => Promise<boolean>\n\n  // State management\n  setSelectedItem: (item: T | null) => void\n  setError: (error: string | null) => void\n  clearValidationErrors: () => void\n  setValidationErrors: (errors: ValidationErrors) => void\n\n  // Utility actions\n  refreshData: () => Promise<void>\n  getItemById: (id: string) => T | undefined\n}\n\nexport function useCRUD<T extends BaseResource>(\n  options: CRUDOptions<T>\n): CRUDState<T> & CRUDActions<T> {\n  const {\n    apiConfig,\n    initialData = [],\n    autoFetch = true,\n    validateFn,\n    transformResponse = (response: unknown) => (response as { data?: T[] }).data || [],\n    transformItem = (response: unknown) => (response as { data?: T }).data || (response as T),\n  } = options\n\n  // State management\n  const [state, setState] = useState<CRUDState<T>>({\n    items: initialData,\n    selectedItem: null,\n    loading: false,\n    creating: false,\n    updating: false,\n    deleting: false,\n    error: null,\n    validationErrors: {},\n  })\n\n  // Initialize on mount\n  useEffect(() => {\n    if (autoFetch) {\n      fetchItems()\n    }\n  }, [autoFetch])\n\n  // Helper function for API calls\n  const makeApiCall = async (url: string, options: RequestInit = {}): Promise<Response> => {\n    const defaultOptions: RequestInit = {\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json',\n        ...options.headers,\n      },\n      ...options,\n    }\n\n    const response = await fetch(url, defaultOptions)\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}))\n      throw new Error(errorData.error || errorData.message || `HTTP ${response.status}`)\n    }\n\n    return response\n  }\n\n  // Data operations\n  const fetchItems = async (): Promise<void> => {\n    setState((prev) => ({ ...prev, loading: true, error: null }))\n\n    try {\n      const response = await makeApiCall(apiConfig.listEndpoint)\n      const data = await response.json()\n      const items = transformResponse(data)\n\n      setState((prev) => ({\n        ...prev,\n        items,\n        loading: false,\n      }))\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to fetch items'\n      setState((prev) => ({\n        ...prev,\n        error: errorMessage,\n        loading: false,\n      }))\n    }\n  }\n\n  const createItem = async (data: Partial<T>): Promise<T | null> => {\n    // Clear previous errors\n    setState((prev) => ({ ...prev, error: null, validationErrors: {} }))\n\n    // Validate if validation function provided\n    if (validateFn) {\n      const errors = validateFn(data)\n      if (Object.keys(errors).length > 0) {\n        setState((prev) => ({ ...prev, validationErrors: errors }))\n        return null\n      }\n    }\n\n    setState((prev) => ({ ...prev, creating: true }))\n\n    try {\n      const response = await makeApiCall(apiConfig.createEndpoint, {\n        method: 'POST',\n        body: JSON.stringify(data),\n      })\n\n      const responseData = await response.json()\n      const newItem = transformItem(responseData)\n\n      setState((prev) => ({\n        ...prev,\n        items: [...prev.items, newItem],\n        creating: false,\n      }))\n\n      return newItem\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to create item'\n      setState((prev) => ({\n        ...prev,\n        error: errorMessage,\n        creating: false,\n      }))\n      return null\n    }\n  }\n\n  const updateItem = async (id: string, data: Partial<T>): Promise<T | null> => {\n    // Clear previous errors\n    setState((prev) => ({ ...prev, error: null, validationErrors: {} }))\n\n    // Validate if validation function provided\n    if (validateFn) {\n      const errors = validateFn(data)\n      if (Object.keys(errors).length > 0) {\n        setState((prev) => ({ ...prev, validationErrors: errors }))\n        return null\n      }\n    }\n\n    setState((prev) => ({ ...prev, updating: true }))\n\n    try {\n      const response = await makeApiCall(apiConfig.updateEndpoint(id), {\n        method: 'PUT',\n        body: JSON.stringify(data),\n      })\n\n      const responseData = await response.json()\n      const updatedItem = transformItem(responseData)\n\n      setState((prev) => ({\n        ...prev,\n        items: prev.items.map((item) => (item.id === id ? updatedItem : item)),\n        selectedItem: prev.selectedItem?.id === id ? updatedItem : prev.selectedItem,\n        updating: false,\n      }))\n\n      return updatedItem\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to update item'\n      setState((prev) => ({\n        ...prev,\n        error: errorMessage,\n        updating: false,\n      }))\n      return null\n    }\n  }\n\n  const deleteItem = async (id: string): Promise<boolean> => {\n    setState((prev) => ({ ...prev, deleting: true, error: null }))\n\n    try {\n      await makeApiCall(apiConfig.deleteEndpoint(id), {\n        method: 'DELETE',\n      })\n\n      setState((prev) => ({\n        ...prev,\n        items: prev.items.filter((item) => item.id !== id),\n        selectedItem: prev.selectedItem?.id === id ? null : prev.selectedItem,\n        deleting: false,\n      }))\n\n      return true\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to delete item'\n      setState((prev) => ({\n        ...prev,\n        error: errorMessage,\n        deleting: false,\n      }))\n      return false\n    }\n  }\n\n  // State management actions\n  const setSelectedItem = (item: T | null): void => {\n    setState((prev) => ({ ...prev, selectedItem: item }))\n  }\n\n  const setError = (error: string | null): void => {\n    setState((prev) => ({ ...prev, error }))\n  }\n\n  const clearValidationErrors = (): void => {\n    setState((prev) => ({ ...prev, validationErrors: {} }))\n  }\n\n  const setValidationErrors = (validationErrors: ValidationErrors): void => {\n    setState((prev) => ({ ...prev, validationErrors }))\n  }\n\n  // Utility actions\n  const refreshData = async (): Promise<void> => {\n    await fetchItems()\n  }\n\n  const getItemById = (id: string): T | undefined => {\n    return state.items.find((item) => item.id === id)\n  }\n\n  return {\n    // State\n    ...state,\n\n    // Actions\n    fetchItems,\n    createItem,\n    updateItem,\n    deleteItem,\n    setSelectedItem,\n    setError,\n    clearValidationErrors,\n    setValidationErrors,\n    refreshData,\n    getItemById,\n  }\n}\n","/**\n * Custom queries hook - refactored to use useCRUD\n * Handles state management and API calls for custom SQL queries\n */\n\nimport { useState } from 'preact/hooks'\nimport type { ApiConfig } from '../types/common'\nimport type { CustomQuery, Parameter, QueryFormData, TestResult } from '../types/custom-sql'\nimport { validateForm } from '../utils/sql-utils'\nimport { useCRUD } from './useCRUD'\n\n// API configuration for custom queries\nconst customQueriesApiConfig: ApiConfig = {\n  baseUrl: window.location.origin,\n  listEndpoint: '/api/custom-queries',\n  getEndpoint: (id: string) => `/api/custom-queries/${id}`,\n  createEndpoint: '/api/custom-queries',\n  updateEndpoint: (id: string) => `/api/custom-queries/${id}`,\n  deleteEndpoint: (id: string) => `/api/custom-queries/${id}`,\n}\n\nexport function useCustomQueries() {\n  // Use the generic CRUD hook for basic operations\n  const crud = useCRUD<CustomQuery>({\n    apiConfig: customQueriesApiConfig,\n    validateFn: (data: Partial<CustomQuery>) => {\n      // Convert CustomQuery partial to QueryFormData for validation\n      const formData: QueryFormData = {\n        slug: (data as Partial<QueryFormData>).slug || '',\n        name: (data as Partial<QueryFormData>).name || '',\n        description: (data as Partial<QueryFormData>).description || '',\n        sql_query: (data as Partial<QueryFormData>).sql_query || '',\n        parameters: (data as Partial<QueryFormData>).parameters || [],\n        cache_ttl: (data as Partial<QueryFormData>).cache_ttl || 0,\n        is_enabled: (data as Partial<QueryFormData>).is_enabled ?? false,\n      }\n      return validateForm(formData)\n    },\n    transformResponse: (response: unknown) =>\n      (response as { queries?: CustomQuery[] }).queries || [],\n    transformItem: (response: unknown) => {\n      // Handle both { query: CustomQuery } and CustomQuery formats\n      if (response && typeof response === 'object' && 'query' in response) {\n        return (response as { query: CustomQuery }).query\n      }\n      return response as CustomQuery\n    },\n  })\n\n  // Additional state specific to custom queries\n  const [isCreating, setIsCreating] = useState(false)\n  const [isEditing, setIsEditing] = useState(false)\n  const [formData, setFormData] = useState<QueryFormData>({\n    slug: '',\n    name: '',\n    description: '',\n    sql_query: '',\n    parameters: [],\n    cache_ttl: 0,\n    is_enabled: false,\n  })\n\n  // Test execution state\n  const [testParams, setTestParams] = useState<Record<string, unknown>>({})\n  const [testResult, setTestResult] = useState<TestResult | null>(null)\n  const [testError, setTestError] = useState<string | null>(null)\n  const [testing, setTesting] = useState(false)\n\n  // Custom create operation that handles form data\n  const handleCreate = async (): Promise<void> => {\n    try {\n      const result = await crud.createItem(formData)\n      if (result) {\n        resetForm()\n      }\n    } finally {\n      setIsCreating(false)\n    }\n  }\n\n  // Custom update operation that handles form data\n  const handleUpdate = async (): Promise<void> => {\n    if (!crud.selectedItem) return\n\n    try {\n      const result = await crud.updateItem(crud.selectedItem.id, formData)\n      if (result) {\n        crud.setSelectedItem(null)\n        resetForm()\n      }\n    } finally {\n      setIsEditing(false)\n    }\n  }\n\n  // Custom delete operation with confirmation\n  const handleDelete = async (id: string): Promise<void> => {\n    if (!confirm('Are you sure you want to delete this query?')) return\n\n    const success = await crud.deleteItem(id)\n    if (success && crud.selectedItem?.id === id) {\n      crud.setSelectedItem(null)\n    }\n  }\n\n  // Test query execution\n  const handleTest = async (): Promise<void> => {\n    if (!crud.selectedItem) return\n\n    setTesting(true)\n    setTestResult(null)\n    setTestError(null)\n\n    try {\n      const response = await fetch(`/api/custom-queries/${crud.selectedItem.id}/test`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        credentials: 'include',\n        body: JSON.stringify({ parameters: testParams }),\n      })\n\n      if (!response.ok) {\n        const data = await response.json().catch(() => ({ error: 'Failed to test query' }))\n        throw new Error(data.error || 'Failed to test query')\n      }\n\n      const data = await response.json()\n      setTestResult(data)\n    } catch (err) {\n      setTestError(err instanceof Error ? err.message : 'Failed to test query')\n    } finally {\n      setTesting(false)\n    }\n  }\n\n  // Toggle enabled status\n  const handleToggleEnabled = async (id: string, enabled: boolean): Promise<void> => {\n    try {\n      const response = await fetch(`/api/custom-queries/${id}`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        credentials: 'include',\n        body: JSON.stringify({ is_enabled: enabled }),\n      })\n\n      if (!response.ok) throw new Error('Failed to toggle query')\n\n      await crud.refreshData()\n    } catch (err) {\n      crud.setError(err instanceof Error ? err.message : 'Failed to toggle query')\n    }\n  }\n\n  // Form helpers\n  const resetForm = (): void => {\n    setFormData({\n      slug: '',\n      name: '',\n      description: '',\n      sql_query: '',\n      parameters: [],\n      cache_ttl: 0,\n      is_enabled: false,\n    })\n    crud.clearValidationErrors()\n  }\n\n  const loadQueryToForm = (query: CustomQuery): void => {\n    // Safely parse parameters - handle both string and array formats\n    let parameters: Parameter[] = []\n    if (query.parameters) {\n      if (typeof query.parameters === 'string') {\n        try {\n          parameters = JSON.parse(query.parameters)\n        } catch {\n          parameters = []\n        }\n      } else if (Array.isArray(query.parameters)) {\n        parameters = query.parameters\n      }\n    }\n\n    setFormData({\n      slug: query.slug,\n      name: query.name,\n      description: query.description || '',\n      sql_query: query.sql_query,\n      parameters,\n      cache_ttl: query.cache_ttl,\n      is_enabled: query.is_enabled,\n    })\n    crud.clearValidationErrors()\n  }\n\n  return {\n    // State from CRUD hook\n    queries: crud.items,\n    selectedQuery: crud.selectedItem,\n    loading: crud.loading,\n    error: crud.error,\n    validationErrors: crud.validationErrors,\n\n    // Custom state\n    isCreating,\n    isEditing,\n    formData,\n    testParams,\n    testResult,\n    testError,\n    testing,\n\n    // Setters from CRUD hook\n    setSelectedQuery: crud.setSelectedItem,\n    setError: crud.setError,\n    setValidationErrors: crud.setValidationErrors,\n\n    // Custom setters\n    setIsCreating,\n    setIsEditing,\n    setFormData,\n    setTestParams,\n    setTestResult,\n    setTestError,\n\n    // Actions from CRUD hook (renamed for compatibility)\n    fetchQueries: crud.refreshData,\n\n    // Custom actions\n    handleCreate,\n    handleUpdate,\n    handleDelete,\n    handleTest,\n    handleToggleEnabled,\n    resetForm,\n    loadQueryToForm,\n  }\n}\n","/**\n * CustomSQL page component\n * Main page for managing custom SQL queries\n */\n\nimport { QueryForm } from '../components/custom-sql/QueryForm'\nimport { QueryList } from '../components/custom-sql/QueryList'\nimport { QueryTester } from '../components/custom-sql/QueryTester'\nimport { useCustomQueries } from '../hooks/useCustomQueries'\nimport type { CustomQuery } from '../types/custom-sql'\n\nexport function CustomSQL() {\n  const {\n    // State\n    queries,\n    selectedQuery,\n    isCreating,\n    isEditing,\n    loading,\n    error,\n    validationErrors,\n    formData,\n    testParams,\n    testResult,\n    testError,\n    testing,\n\n    // Setters\n    setSelectedQuery,\n    setIsCreating,\n    setIsEditing,\n    setError,\n    setFormData,\n    setTestParams,\n    setTestResult,\n    setTestError,\n    setValidationErrors,\n\n    // Actions\n    handleCreate,\n    handleUpdate,\n    handleDelete,\n    handleTest,\n    handleToggleEnabled,\n    resetForm,\n    loadQueryToForm,\n  } = useCustomQueries()\n\n  // Handle query selection\n  const handleSelectQuery = (query: CustomQuery) => {\n    setSelectedQuery(query)\n    setTestParams({})\n    setTestResult(null)\n    setTestError(null)\n  }\n\n  // Handle edit click\n  const handleEditClick = (query: CustomQuery) => {\n    setSelectedQuery(query)\n    loadQueryToForm(query)\n    setIsEditing(true)\n  }\n\n  // Handle create click\n  const handleCreateClick = () => {\n    resetForm()\n    setIsCreating(true)\n  }\n\n  // Handle close form\n  const handleCloseForm = () => {\n    setIsCreating(false)\n    setIsEditing(false)\n    resetForm()\n    setError(null)\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600\"></div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-6\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"mb-6\">\n          <h1 className=\"text-3xl font-bold text-gray-900\">Custom SQL Queries</h1>\n          <p className=\"mt-1 text-sm text-gray-600\">\n            Create and manage custom SQL queries with secure parameter handling and caching\n          </p>\n        </div>\n\n        {/* Global error display */}\n        {error && !isCreating && !isEditing && (\n          <div className=\"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\">\n            {error}\n          </div>\n        )}\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n          {/* Query List */}\n          <QueryList\n            queries={queries}\n            selectedQuery={selectedQuery}\n            onSelectQuery={handleSelectQuery}\n            onEditClick={handleEditClick}\n            onDeleteClick={handleDelete}\n            onToggleEnabled={handleToggleEnabled}\n            onCreateClick={handleCreateClick}\n          />\n\n          {/* Query Tester */}\n          <QueryTester\n            selectedQuery={selectedQuery}\n            testParams={testParams}\n            testResult={testResult}\n            testError={testError}\n            testing={testing}\n            onTestParamsChange={setTestParams}\n            onTest={handleTest}\n          />\n        </div>\n\n        {/* Query Form Modal */}\n        <QueryForm\n          isCreating={isCreating}\n          isEditing={isEditing}\n          formData={formData}\n          validationErrors={validationErrors}\n          error={error}\n          onFormDataChange={setFormData}\n          onValidationErrorsChange={setValidationErrors}\n          onCreate={handleCreate}\n          onUpdate={handleUpdate}\n          onClose={handleCloseForm}\n        />\n      </div>\n    </div>\n  )\n}\n","import { useState } from 'preact/hooks'\nimport { api } from '../lib/api'\nimport { isValidColumnName, isValidTableName } from '../utils/database'\n\nexport interface NewTableColumn {\n  name: string\n  type: string\n  notNull: boolean\n  foreignKey: {\n    enabled: boolean\n    table: string\n    column: string\n  }\n}\n\nexport interface NewTableData {\n  name: string\n  columns: NewTableColumn[]\n  indexes: { name: string; columns: string[]; unique: boolean }[]\n}\n\nexport interface TableOperationsState {\n  loading: boolean\n  error: string | null\n}\n\nexport interface TableOperationsActions {\n  createTable: (tableData: NewTableData) => Promise<boolean>\n  dropTable: (tableName: string) => Promise<boolean>\n  changeAccessPolicy: (tableName: string, policy: 'public' | 'private') => Promise<boolean>\n  createRecord: (tableName: string, data: Record<string, unknown>) => Promise<boolean>\n  updateRecord: (tableName: string, id: string, data: Record<string, unknown>) => Promise<boolean>\n  deleteRecord: (tableName: string, id: string) => Promise<boolean>\n  addColumn: (tableName: string, column: NewTableColumn) => Promise<boolean>\n  validateTableName: (name: string) => string | null\n  validateColumnName: (name: string) => string | null\n  clearError: () => void\n}\n\n/**\n * Custom hook for table operations (CRUD, schema changes)\n */\nexport const useTableOperations = (): TableOperationsState & TableOperationsActions => {\n  const [state, setState] = useState<TableOperationsState>({\n    loading: false,\n    error: null,\n  })\n\n  const setLoading = (loading: boolean) => {\n    setState((prev) => ({ ...prev, loading }))\n  }\n\n  const setError = (error: string | null) => {\n    setState((prev) => ({ ...prev, error }))\n  }\n\n  const clearError = () => {\n    setState((prev) => ({ ...prev, error: null }))\n  }\n\n  // Validate table name\n  const validateTableName = (name: string): string | null => {\n    if (!name.trim()) {\n      return 'Table name is required'\n    }\n\n    if (!isValidTableName(name)) {\n      return 'Invalid table name format. Use letters, numbers, and underscores only.'\n    }\n\n    return null\n  }\n\n  // Validate column name\n  const validateColumnName = (name: string): string | null => {\n    if (!name.trim()) {\n      return 'Column name is required'\n    }\n\n    if (!isValidColumnName(name)) {\n      return 'Invalid column name format. Use letters, numbers, and underscores only.'\n    }\n\n    return null\n  }\n\n  // Create a new table\n  const createTable = async (tableData: NewTableData): Promise<boolean> => {\n    setLoading(true)\n    setError(null)\n\n    try {\n      // Validate table name\n      const tableNameError = validateTableName(tableData.name)\n      if (tableNameError) {\n        setError(tableNameError)\n        setLoading(false)\n        return false\n      }\n\n      // Validate columns\n      const validColumns = tableData.columns.filter((col) => col.name.trim() !== '')\n      if (validColumns.length === 0) {\n        setError('At least one column is required')\n        setLoading(false)\n        return false\n      }\n\n      // Check for duplicate column names\n      const columnNames = validColumns.map((col) => col.name.toLowerCase())\n      const duplicates = columnNames.filter((name, index) => columnNames.indexOf(name) !== index)\n      if (duplicates.length > 0) {\n        setError(`Duplicate column names: ${duplicates.join(', ')}`)\n        setLoading(false)\n        return false\n      }\n\n      // Validate each column name\n      for (const column of validColumns) {\n        const columnError = validateColumnName(column.name)\n        if (columnError) {\n          setError(`Column \"${column.name}\": ${columnError}`)\n          setLoading(false)\n          return false\n        }\n      }\n\n      // Prepare columns for API\n      const columns = validColumns.map((col) => ({\n        name: col.name,\n        type: col.type,\n        constraints: col.notNull ? 'NOT NULL' : undefined,\n        foreignKey: col.foreignKey.enabled\n          ? { table: col.foreignKey.table, column: col.foreignKey.column }\n          : undefined,\n      }))\n\n      await api.createTable(tableData.name, columns)\n\n      // Create indexes if specified\n      for (const index of tableData.indexes) {\n        if (index.columns.length > 0 && index.name.trim() !== '') {\n          try {\n            await api.createIndex(tableData.name, {\n              name: index.name,\n              columns: index.columns,\n              unique: index.unique,\n            })\n          } catch (indexErr) {\n            console.warn(`Failed to create index ${index.name}:`, indexErr)\n            // Don't fail the entire operation for index creation\n          }\n        }\n      }\n\n      setLoading(false)\n      return true\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to create table'\n      setError(errorMessage)\n      setLoading(false)\n      return false\n    }\n  }\n\n  // Drop a table\n  const dropTable = async (tableName: string): Promise<boolean> => {\n    setLoading(true)\n    setError(null)\n\n    try {\n      await api.dropTable(tableName)\n      setLoading(false)\n      return true\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to drop table'\n      setError(errorMessage)\n      setLoading(false)\n      return false\n    }\n  }\n\n  // Change table access policy\n  const changeAccessPolicy = async (\n    tableName: string,\n    policy: 'public' | 'private'\n  ): Promise<boolean> => {\n    setLoading(true)\n    setError(null)\n\n    try {\n      await api.updateTablePolicy(tableName, policy)\n      setLoading(false)\n      return true\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to change access policy'\n      setError(errorMessage)\n      setLoading(false)\n      return false\n    }\n  }\n\n  // Create a new record\n  const createRecord = async (\n    tableName: string,\n    data: Record<string, unknown>\n  ): Promise<boolean> => {\n    setLoading(true)\n    setError(null)\n\n    try {\n      // Filter out empty values\n      const cleanData = Object.entries(data).reduce(\n        (acc, [key, value]) => {\n          if (value !== '' && value !== null && value !== undefined) {\n            acc[key] = value\n          }\n          return acc\n        },\n        {} as Record<string, unknown>\n      )\n\n      await api.insertRecord(tableName, cleanData)\n      setLoading(false)\n      return true\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to create record'\n      setError(errorMessage)\n      setLoading(false)\n      return false\n    }\n  }\n\n  // Delete a record\n  const deleteRecord = async (tableName: string, id: string): Promise<boolean> => {\n    setLoading(true)\n    setError(null)\n\n    try {\n      await api.deleteRecord(tableName, { id })\n      setLoading(false)\n      return true\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to delete record'\n      setError(errorMessage)\n      setLoading(false)\n      return false\n    }\n  }\n\n  // Update a record\n  const updateRecord = async (\n    tableName: string,\n    id: string,\n    data: Record<string, unknown>\n  ): Promise<boolean> => {\n    setLoading(true)\n    setError(null)\n\n    try {\n      await api.updateRecord(tableName, id, data)\n      setLoading(false)\n      return true\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to update record'\n      setError(errorMessage)\n      setLoading(false)\n      return false\n    }\n  }\n\n  // Add a new column to an existing table\n  const addColumn = async (tableName: string, column: NewTableColumn): Promise<boolean> => {\n    setLoading(true)\n    setError(null)\n\n    try {\n      // Validate column name\n      const columnError = validateColumnName(column.name)\n      if (columnError) {\n        setError(columnError)\n        setLoading(false)\n        return false\n      }\n\n      const columnData = {\n        name: column.name,\n        type: column.type,\n        constraints: column.notNull ? 'NOT NULL' : undefined,\n        foreignKey: column.foreignKey.enabled\n          ? { table: column.foreignKey.table, column: column.foreignKey.column }\n          : undefined,\n      }\n\n      await api.addColumn(tableName, columnData)\n      setLoading(false)\n      return true\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to add column'\n      setError(errorMessage)\n      setLoading(false)\n      return false\n    }\n  }\n\n  return {\n    ...state,\n    createTable,\n    dropTable,\n    changeAccessPolicy,\n    createRecord,\n    updateRecord,\n    deleteRecord,\n    addColumn,\n    validateTableName,\n    validateColumnName,\n    clearError,\n  }\n}\n","import { useRef, useState } from 'preact/hooks'\nimport { useTableOperations } from '../../hooks/useTableOperations'\nimport type { ColumnInfo, ForeignKeyInfo } from '../../lib/api'\nimport { copyToClipboard, formatDateTime, isIdValue, truncateId } from '../../utils/database'\n\ninterface DataViewerProps {\n  tableName: string\n  tableData: Record<string, unknown>[]\n  tableColumns: ColumnInfo[]\n  tableForeignKeys: ForeignKeyInfo[]\n  onDataChange: () => void // Callback when data is modified\n  onTableSelect: (tableName: string | null, highlightRecordId?: string) => void // Callback to switch tables\n  highlightRecordId?: string // ID of record to highlight\n  loading: boolean\n}\n\ninterface EditingCell {\n  rowId: string\n  columnName: string\n  value: unknown\n}\n\ninterface EditingRecord {\n  id: string\n  data: Record<string, unknown>\n}\n\nexport function DataViewer({\n  tableName,\n  tableData,\n  tableColumns,\n  tableForeignKeys,\n  onDataChange,\n  onTableSelect,\n  highlightRecordId,\n  loading,\n}: DataViewerProps) {\n  const [showCreateForm, setShowCreateForm] = useState(false)\n  const [newRecord, setNewRecord] = useState<Record<string, unknown>>({})\n  const [editingCell, setEditingCell] = useState<EditingCell | null>(null)\n  const [editingRecord, setEditingRecord] = useState<EditingRecord | null>(null)\n  const [copiedCell, setCopiedCell] = useState<string | null>(null)\n  const hasInitializedFocus = useRef(false)\n\n  const {\n    createRecord,\n    updateRecord,\n    deleteRecord,\n    loading: operationsLoading,\n    error: operationsError,\n    clearError,\n  } = useTableOperations()\n\n  // Helper function to check if a column has foreign key constraint\n  const hasForeignKey = (columnName: string): boolean => {\n    return tableForeignKeys.some((fk) => fk.from === columnName)\n  }\n\n  // Handle create record form submission\n  const handleCreateRecord = async (e: Event) => {\n    e.preventDefault()\n    clearError()\n\n    const success = await createRecord(tableName, newRecord)\n    if (success) {\n      setNewRecord({})\n      setShowCreateForm(false)\n      onDataChange()\n    }\n  }\n\n  // Handle delete record\n  const handleDeleteRecord = async (id: string) => {\n    if (!confirm('Are you sure you want to delete this record? This action cannot be undone.')) {\n      return\n    }\n\n    const success = await deleteRecord(tableName, id)\n    if (success) {\n      onDataChange()\n    }\n  }\n\n  // Handle cell click for inline editing\n  const handleCellClick = (rowId: string, columnName: string, currentValue: unknown) => {\n    // Don't edit system columns\n    if (['id', 'created_at', 'updated_at'].includes(columnName)) {\n      return\n    }\n\n    // Check if this field has foreign key references\n    const column = tableColumns.find((col) => col.name === columnName)\n    const hasFK = column && columnName.endsWith('_id') && isIdValue(currentValue)\n\n    if (hasFK || !column) {\n      // Open modal for FK references or complex fields\n      const record = tableData.find((row) => row.id === rowId)\n      if (record) {\n        setEditingRecord({ id: rowId, data: { ...record } })\n      }\n    } else {\n      // Inline editing for simple fields\n      hasInitializedFocus.current = false\n      setEditingCell({ rowId, columnName, value: currentValue })\n    }\n  }\n\n  // Save inline cell edit\n  const handleCellSave = async (rowId: string, columnName: string, newValue: unknown) => {\n    console.log('Cell save:', { rowId, columnName, newValue })\n    clearError()\n\n    const success = await updateRecord(tableName, rowId, { [columnName]: newValue })\n    if (success) {\n      setEditingCell(null)\n      onDataChange()\n    }\n  }\n\n  // Cancel inline cell edit\n  const handleCellCancel = () => {\n    setEditingCell(null)\n  }\n\n  // Handle record edit via modal\n  const handleRecordSave = async () => {\n    if (!editingRecord) return\n\n    console.log('Record save:', editingRecord)\n    clearError()\n\n    // Remove system fields from the update data\n    const updateData = { ...editingRecord.data }\n    delete updateData.id\n    delete updateData.created_at\n    delete updateData.updated_at\n\n    const success = await updateRecord(tableName, editingRecord.id, updateData)\n    if (success) {\n      setEditingRecord(null)\n      onDataChange()\n    }\n  }\n\n  // Handle copy ID to clipboard\n  const handleCopyId = async (id: string, rowIndex: number, columnName: string) => {\n    const success = await copyToClipboard(id)\n    if (success) {\n      setCopiedCell(`${rowIndex}-${columnName}`)\n      setTimeout(() => setCopiedCell(null), 2000)\n    }\n  }\n\n  // Jump to record with specific ID using FK constraint information\n  const jumpToRecord = async (id: string, columnName: string) => {\n    // Find the foreign key constraint for this column\n    const foreignKey = tableForeignKeys.find((fk) => fk.from === columnName)\n\n    if (!foreignKey) {\n      console.warn(`No foreign key constraint found for column: ${columnName}`)\n      return\n    }\n\n    // Switch to the target table with highlighting\n    onTableSelect(foreignKey.table, id)\n  }\n\n  if (!tableName) {\n    return (\n      <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n        <div className=\"text-center py-8\">\n          <p className=\"text-gray-500\">Select a table to view its data</p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm border\">\n      <div className=\"p-6 border-b\">\n        <div className=\"flex justify-between items-center\">\n          <h2 className=\"text-xl font-semibold text-gray-900\">{tableName} Data</h2>\n          <button\n            type=\"button\"\n            onClick={() => setShowCreateForm(true)}\n            className=\"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors\"\n            disabled={loading || operationsLoading}\n          >\n            Add Record\n          </button>\n        </div>\n\n        {operationsError && (\n          <div className=\"mt-4 p-3 bg-red-50 border border-red-200 rounded-md\">\n            <p className=\"text-red-700 text-sm\">{operationsError}</p>\n            <button\n              type=\"button\"\n              onClick={clearError}\n              className=\"mt-2 text-red-600 hover:text-red-800 text-sm underline\"\n            >\n              Dismiss\n            </button>\n          </div>\n        )}\n      </div>\n\n      {loading ? (\n        <div className=\"flex items-center justify-center py-8\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"></div>\n        </div>\n      ) : tableData.length === 0 ? (\n        <div className=\"text-center py-8\">\n          <p className=\"text-gray-500\">No records found</p>\n        </div>\n      ) : (\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                {tableColumns.map((column) => (\n                  <th\n                    key={column.name}\n                    className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                  >\n                    {column.name}\n                  </th>\n                ))}\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Actions\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-gray-200\">\n              {tableData.map((row, rowIndex) => {\n                const isHighlighted = highlightRecordId === row.id\n                return (\n                  <tr\n                    key={row.id as string}\n                    className={`${isHighlighted ? 'bg-yellow-100 border-yellow-300' : 'hover:bg-gray-50'} ${isHighlighted ? 'transition-colors duration-1000' : ''}`}\n                  >\n                    {tableColumns.map((column) => {\n                      const value = row[column.name]\n                      const cellKey = `${rowIndex}-${column.name}`\n                      const isEditing =\n                        editingCell?.rowId === row.id && editingCell?.columnName === column.name\n                      const isCopied = copiedCell === cellKey\n                      const isSystemColumn = ['id', 'created_at', 'updated_at'].includes(\n                        column.name\n                      )\n\n                      return (\n                        <td\n                          key={column.name}\n                          className={`px-4 py-3 text-sm relative ${\n                            isSystemColumn ? 'text-gray-500' : 'text-gray-900'\n                          } ${!isSystemColumn ? 'cursor-pointer hover:bg-blue-50' : ''}`}\n                          onClick={() =>\n                            !isEditing && handleCellClick(row.id as string, column.name, value)\n                          }\n                          onKeyDown={(e) => {\n                            if ((e.key === 'Enter' || e.key === ' ') && !isEditing) {\n                              handleCellClick(row.id as string, column.name, value)\n                            }\n                          }}\n                          tabIndex={!isSystemColumn ? 0 : -1}\n                          role={!isSystemColumn ? 'button' : undefined}\n                        >\n                          {isEditing ? (\n                            <input\n                              type=\"text\"\n                              value={editingCell.value as string}\n                              onChange={(e) =>\n                                setEditingCell((prev) =>\n                                  prev ? { ...prev, value: e.currentTarget.value } : null\n                                )\n                              }\n                              onKeyDown={(e) => {\n                                if (e.key === 'Enter') {\n                                  handleCellSave(row.id as string, column.name, editingCell.value)\n                                } else if (e.key === 'Escape') {\n                                  handleCellCancel()\n                                }\n                              }}\n                              onBlur={() =>\n                                handleCellSave(row.id as string, column.name, editingCell.value)\n                              }\n                              className=\"w-full px-2 py-1 border border-blue-500 rounded focus:outline-none\"\n                            />\n                          ) : (\n                            <div className=\"flex items-center gap-2\">\n                              <span>\n                                {['created_at', 'updated_at'].includes(column.name)\n                                  ? formatDateTime(value as string)\n                                  : isIdValue(value)\n                                    ? truncateId(value as string)\n                                    : value === null\n                                      ? 'NULL'\n                                      : value === ''\n                                        ? '(empty)'\n                                        : String(value)}\n                              </span>\n\n                              {(isIdValue(value) || hasForeignKey(column.name)) && (\n                                <div className=\"flex gap-1\">\n                                  {/* Copy button: show for nanoid values */}\n                                  {isIdValue(value) && (\n                                    <button\n                                      type=\"button\"\n                                      onClick={(e) => {\n                                        e.stopPropagation()\n                                        handleCopyId(value as string, rowIndex, column.name)\n                                      }}\n                                      className={`p-1 rounded text-xs ${\n                                        isCopied\n                                          ? 'bg-green-100 text-green-600'\n                                          : 'hover:bg-gray-100 text-gray-400'\n                                      }`}\n                                      title=\"Copy to clipboard\"\n                                    >\n                                      {isCopied ? '✓' : '📋'}\n                                    </button>\n                                  )}\n\n                                  {/* Link button: show for FK constraints */}\n                                  {hasForeignKey(column.name) && (\n                                    <button\n                                      type=\"button\"\n                                      onClick={(e) => {\n                                        e.stopPropagation()\n                                        jumpToRecord(value as string, column.name)\n                                      }}\n                                      className=\"p-1 hover:bg-gray-100 text-gray-400 rounded text-xs\"\n                                      title=\"Jump to related record\"\n                                    >\n                                      🔗\n                                    </button>\n                                  )}\n                                </div>\n                              )}\n                            </div>\n                          )}\n                        </td>\n                      )\n                    })}\n                    <td className=\"px-4 py-3 text-sm\">\n                      <button\n                        type=\"button\"\n                        onClick={() => handleDeleteRecord(row.id as string)}\n                        className=\"text-red-600 hover:text-red-800 text-sm\"\n                        disabled={operationsLoading}\n                      >\n                        Delete\n                      </button>\n                    </td>\n                  </tr>\n                )\n              })}\n            </tbody>\n          </table>\n        </div>\n      )}\n\n      {/* Create Record Modal */}\n      {showCreateForm && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto\">\n            <h3 className=\"text-lg font-semibold mb-4\">Add New Record</h3>\n\n            <form onSubmit={handleCreateRecord} className=\"space-y-4\">\n              {tableColumns\n                .filter((col) => !['id', 'created_at', 'updated_at'].includes(col.name))\n                .map((column) => (\n                  <div key={column.name}>\n                    <label\n                      htmlFor={`new-${column.name}`}\n                      className=\"block text-sm font-medium text-gray-700 mb-1\"\n                    >\n                      {column.name}\n                      {column.notnull === 1 && <span className=\"text-red-500\">*</span>}\n                    </label>\n                    <input\n                      id={`new-${column.name}`}\n                      type=\"text\"\n                      value={(newRecord[column.name] as string) || ''}\n                      onChange={(e) =>\n                        setNewRecord((prev) => ({\n                          ...prev,\n                          [column.name]: e.currentTarget.value,\n                        }))\n                      }\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      placeholder={`Enter ${column.name}`}\n                      required={column.notnull === 1}\n                    />\n                  </div>\n                ))}\n\n              <div className=\"flex justify-end space-x-3 pt-4\">\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setShowCreateForm(false)\n                    setNewRecord({})\n                    clearError()\n                  }}\n                  className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50\"\n                  disabled={operationsLoading}\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 disabled:opacity-50\"\n                  disabled={operationsLoading}\n                >\n                  {operationsLoading ? 'Creating...' : 'Create Record'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Edit Record Modal */}\n      {editingRecord && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto\">\n            <h3 className=\"text-lg font-semibold mb-4\">Edit Record</h3>\n\n            <div className=\"space-y-4\">\n              {tableColumns.map((column) => (\n                <div key={column.name}>\n                  <label\n                    htmlFor={`edit-${column.name}`}\n                    className=\"block text-sm font-medium text-gray-700 mb-1\"\n                  >\n                    {column.name}\n                    {['id', 'created_at', 'updated_at'].includes(column.name) && (\n                      <span className=\"text-gray-500 text-xs ml-1\">(read-only)</span>\n                    )}\n                  </label>\n                  <input\n                    id={`edit-${column.name}`}\n                    type=\"text\"\n                    value={(editingRecord.data[column.name] as string) || ''}\n                    onChange={(e) =>\n                      setEditingRecord((prev) =>\n                        prev\n                          ? {\n                              ...prev,\n                              data: { ...prev.data, [column.name]: e.currentTarget.value },\n                            }\n                          : null\n                      )\n                    }\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    disabled={['id', 'created_at', 'updated_at'].includes(column.name)}\n                  />\n                </div>\n              ))}\n\n              <div className=\"flex justify-end space-x-3 pt-4\">\n                <button\n                  type=\"button\"\n                  onClick={() => setEditingRecord(null)}\n                  className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={handleRecordSave}\n                  className=\"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600\"\n                >\n                  Save Changes\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n","import { useState } from 'preact/hooks'\nimport { type NewTableColumn, useTableOperations } from '../../hooks/useTableOperations'\nimport type { ColumnInfo, ForeignKeyInfo, IndexInfo, TableInfo } from '../../lib/api'\nimport { generateIndexName, getSQLTypes, getUserTables } from '../../utils/database'\n\ninterface SchemaEditorProps {\n  tableName: string | null\n  tableColumns: ColumnInfo[]\n  tableForeignKeys: ForeignKeyInfo[]\n  tables: TableInfo[]\n  onSchemaChange: () => void // Callback when schema is modified\n  loading: boolean\n}\n\nexport function SchemaEditor({\n  tableName,\n  tableColumns,\n  tableForeignKeys,\n  tables,\n  onSchemaChange,\n  loading,\n}: SchemaEditorProps) {\n  const [showSchemaEditor, setShowSchemaEditor] = useState(false)\n  const [showIndexManager, setShowIndexManager] = useState(false)\n  const [newColumn, setNewColumn] = useState<NewTableColumn>({\n    name: '',\n    type: 'TEXT',\n    notNull: false,\n    foreignKey: { enabled: false, table: '', column: '' },\n  })\n  const [newIndex, setNewIndex] = useState({\n    name: '',\n    columns: [''] as string[],\n    unique: false,\n  })\n  const [tableIndexes] = useState<IndexInfo[]>([])\n\n  const {\n    addColumn,\n    validateColumnName,\n    loading: operationsLoading,\n    error: operationsError,\n    clearError,\n  } = useTableOperations()\n\n  // Handle add column\n  const handleAddColumn = async (e: Event) => {\n    e.preventDefault()\n    if (!tableName) return\n\n    clearError()\n    const success = await addColumn(tableName, newColumn)\n    if (success) {\n      setNewColumn({\n        name: '',\n        type: 'TEXT',\n        notNull: false,\n        foreignKey: { enabled: false, table: '', column: '' },\n      })\n      setShowSchemaEditor(false)\n      onSchemaChange()\n    }\n  }\n\n  // Handle create index\n  const handleCreateIndex = async (e: Event) => {\n    e.preventDefault()\n    if (!tableName) return\n\n    try {\n      const columnsToIndex = newIndex.columns.filter((col) => col.trim() !== '')\n      if (columnsToIndex.length === 0) {\n        alert('At least one column is required for the index')\n        return\n      }\n\n      // TODO: Replace with actual API call\n      console.log('Create index:', {\n        tableName,\n        name: newIndex.name,\n        columns: columnsToIndex,\n        unique: newIndex.unique,\n      })\n\n      setNewIndex({ name: '', columns: [''], unique: false })\n      setShowIndexManager(false)\n      onSchemaChange()\n    } catch (err) {\n      console.error('Failed to create index:', err)\n    }\n  }\n\n  // Handle drop index\n  const handleDropIndex = async (indexName: string) => {\n    if (!tableName) return\n\n    if (\n      !confirm(\n        `Are you sure you want to drop the index \"${indexName}\"? This action cannot be undone.`\n      )\n    ) {\n      return\n    }\n\n    try {\n      // TODO: Replace with actual API call\n      console.log('Drop index:', indexName)\n      onSchemaChange()\n    } catch (err) {\n      console.error('Failed to drop index:', err)\n    }\n  }\n\n  if (!tableName) {\n    return (\n      <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n        <div className=\"text-center py-8\">\n          <p className=\"text-gray-500\">Select a table to view its schema</p>\n        </div>\n      </div>\n    )\n  }\n\n  const userTables = getUserTables(tables)\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Schema Overview */}\n      <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h2 className=\"text-xl font-semibold text-gray-900\">{tableName} Schema</h2>\n          <div className=\"flex gap-2\">\n            <button\n              type=\"button\"\n              onClick={() => setShowSchemaEditor(true)}\n              className=\"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors\"\n              disabled={loading || operationsLoading}\n            >\n              Add Column\n            </button>\n            <button\n              type=\"button\"\n              onClick={() => setShowIndexManager(true)}\n              className=\"px-4 py-2 bg-purple-500 text-white rounded-md hover:bg-purple-600 transition-colors\"\n              disabled={loading || operationsLoading}\n            >\n              Manage Indexes\n            </button>\n          </div>\n        </div>\n\n        {operationsError && (\n          <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-md\">\n            <p className=\"text-red-700 text-sm\">{operationsError}</p>\n            <button\n              type=\"button\"\n              onClick={clearError}\n              className=\"mt-2 text-red-600 hover:text-red-800 text-sm underline\"\n            >\n              Dismiss\n            </button>\n          </div>\n        )}\n\n        {loading ? (\n          <div className=\"flex items-center justify-center py-8\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"></div>\n          </div>\n        ) : (\n          <div className=\"space-y-6\">\n            {/* Columns */}\n            <div>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-3\">Columns</h3>\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full border border-gray-200 rounded-md\">\n                  <thead className=\"bg-gray-50\">\n                    <tr>\n                      <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-700\">\n                        Name\n                      </th>\n                      <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-700\">\n                        Type\n                      </th>\n                      <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-700\">\n                        Constraints\n                      </th>\n                      <th className=\"px-4 py-2 text-left text-sm font-medium text-gray-700\">\n                        Default\n                      </th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"divide-y divide-gray-200\">\n                    {tableColumns.map((column) => (\n                      <tr key={column.name} className=\"hover:bg-gray-50\">\n                        <td className=\"px-4 py-2 text-sm font-medium text-gray-900\">\n                          {column.name}\n                          {column.pk === 1 && (\n                            <span className=\"ml-2 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded\">\n                              PK\n                            </span>\n                          )}\n                        </td>\n                        <td className=\"px-4 py-2 text-sm text-gray-600\">{column.type}</td>\n                        <td className=\"px-4 py-2 text-sm text-gray-600\">\n                          {column.notnull === 1 && (\n                            <span className=\"px-2 py-1 text-xs bg-orange-100 text-orange-800 rounded mr-1\">\n                              NOT NULL\n                            </span>\n                          )}\n                        </td>\n                        <td className=\"px-4 py-2 text-sm text-gray-600\">\n                          {column.dflt_value || '-'}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n\n            {/* Foreign Keys */}\n            {tableForeignKeys.length > 0 && (\n              <div>\n                <h3 className=\"text-lg font-medium text-gray-900 mb-3\">Foreign Keys</h3>\n                <div className=\"space-y-2\">\n                  {tableForeignKeys.map((fk, index) => (\n                    <div\n                      key={`${fk.from}-${fk.table}-${fk.to}-${index}`}\n                      className=\"p-3 bg-gray-50 rounded-md\"\n                    >\n                      <span className=\"font-medium\">{fk.from}</span>\n                      <span className=\"text-gray-500 mx-2\">→</span>\n                      <span className=\"text-blue-600\">\n                        {fk.table}.{fk.to}\n                      </span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Indexes */}\n            <div>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-3\">Indexes</h3>\n              {tableIndexes.length === 0 ? (\n                <p className=\"text-gray-500 italic\">No custom indexes created.</p>\n              ) : (\n                <div className=\"space-y-2\">\n                  {tableIndexes.map((index) => (\n                    <div\n                      key={index.name}\n                      className=\"flex items-center justify-between p-3 bg-gray-50 rounded-md\"\n                    >\n                      <div>\n                        <span className=\"font-medium\">{index.name}</span>\n                        <span className=\"text-gray-500 ml-2\">({index.columns?.join(', ')})</span>\n                        {index.unique && (\n                          <span className=\"ml-2 px-2 py-1 text-xs bg-green-100 text-green-800 rounded\">\n                            UNIQUE\n                          </span>\n                        )}\n                      </div>\n                      <button\n                        type=\"button\"\n                        onClick={() => handleDropIndex(index.name)}\n                        className=\"text-red-600 hover:text-red-800 text-sm\"\n                        disabled={operationsLoading}\n                      >\n                        Drop\n                      </button>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Add Column Modal */}\n      {showSchemaEditor && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\n            <h3 className=\"text-lg font-semibold mb-4\">Add New Column</h3>\n\n            <form onSubmit={handleAddColumn} className=\"space-y-4\">\n              <div>\n                <label\n                  htmlFor=\"column-name\"\n                  className=\"block text-sm font-medium text-gray-700 mb-1\"\n                >\n                  Column Name\n                </label>\n                <input\n                  id=\"column-name\"\n                  type=\"text\"\n                  value={newColumn.name}\n                  onChange={(e) =>\n                    setNewColumn((prev) => ({ ...prev, name: e.currentTarget.value }))\n                  }\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  placeholder=\"Enter column name\"\n                  required\n                />\n                {newColumn.name && validateColumnName(newColumn.name) && (\n                  <p className=\"text-red-600 text-sm mt-1\">{validateColumnName(newColumn.name)}</p>\n                )}\n              </div>\n\n              <div>\n                <label\n                  htmlFor=\"column-type\"\n                  className=\"block text-sm font-medium text-gray-700 mb-1\"\n                >\n                  Data Type\n                </label>\n                <select\n                  id=\"column-type\"\n                  value={newColumn.type}\n                  onChange={(e) =>\n                    setNewColumn((prev) => ({ ...prev, type: e.currentTarget.value }))\n                  }\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  {getSQLTypes().map((type) => (\n                    <option key={type} value={type}>\n                      {type}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              <div>\n                <label className=\"flex items-center\">\n                  <input\n                    type=\"checkbox\"\n                    checked={newColumn.notNull}\n                    onChange={(e) =>\n                      setNewColumn((prev) => ({ ...prev, notNull: e.currentTarget.checked }))\n                    }\n                    className=\"mr-2\"\n                  />\n                  NOT NULL\n                </label>\n              </div>\n\n              <div>\n                <label className=\"flex items-center\">\n                  <input\n                    type=\"checkbox\"\n                    checked={newColumn.foreignKey.enabled}\n                    onChange={(e) =>\n                      setNewColumn((prev) => ({\n                        ...prev,\n                        foreignKey: { ...prev.foreignKey, enabled: e.currentTarget.checked },\n                      }))\n                    }\n                    className=\"mr-2\"\n                  />\n                  Foreign Key Reference\n                </label>\n              </div>\n\n              {newColumn.foreignKey.enabled && (\n                <div className=\"space-y-3 ml-6\">\n                  <div>\n                    <label\n                      htmlFor=\"reference-table\"\n                      className=\"block text-sm font-medium text-gray-700 mb-1\"\n                    >\n                      Reference Table\n                    </label>\n                    <select\n                      id=\"reference-table\"\n                      value={newColumn.foreignKey.table}\n                      onChange={(e) =>\n                        setNewColumn((prev) => ({\n                          ...prev,\n                          foreignKey: {\n                            ...prev.foreignKey,\n                            table: e.currentTarget.value,\n                            column: '',\n                          },\n                        }))\n                      }\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    >\n                      <option value=\"\">Select table</option>\n                      {userTables.map((table) => (\n                        <option key={table.name} value={table.name}>\n                          {table.name}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n\n                  <div>\n                    <label\n                      htmlFor=\"reference-column\"\n                      className=\"block text-sm font-medium text-gray-700 mb-1\"\n                    >\n                      Reference Column\n                    </label>\n                    <input\n                      id=\"reference-column\"\n                      type=\"text\"\n                      value={newColumn.foreignKey.column}\n                      onChange={(e) =>\n                        setNewColumn((prev) => ({\n                          ...prev,\n                          foreignKey: { ...prev.foreignKey, column: e.currentTarget.value },\n                        }))\n                      }\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      placeholder=\"Usually 'id'\"\n                    />\n                  </div>\n                </div>\n              )}\n\n              <div className=\"flex justify-end space-x-3 pt-4\">\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setShowSchemaEditor(false)\n                    clearError()\n                  }}\n                  className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50\"\n                  disabled={operationsLoading}\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50\"\n                  disabled={operationsLoading}\n                >\n                  {operationsLoading ? 'Adding...' : 'Add Column'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Index Manager Modal */}\n      {showIndexManager && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\n            <h3 className=\"text-lg font-semibold mb-4\">Create Index</h3>\n\n            <form onSubmit={handleCreateIndex} className=\"space-y-4\">\n              <div>\n                <label\n                  htmlFor=\"index-name\"\n                  className=\"block text-sm font-medium text-gray-700 mb-1\"\n                >\n                  Index Name\n                </label>\n                <input\n                  id=\"index-name\"\n                  type=\"text\"\n                  value={newIndex.name}\n                  onChange={(e) =>\n                    setNewIndex((prev) => ({ ...prev, name: e.currentTarget.value }))\n                  }\n                  onFocus={() => {\n                    if (!newIndex.name && tableName) {\n                      const columns = newIndex.columns.filter((col) => col.trim() !== '')\n                      if (columns.length > 0) {\n                        setNewIndex((prev) => ({\n                          ...prev,\n                          name: generateIndexName(tableName, columns),\n                        }))\n                      }\n                    }\n                  }}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  placeholder=\"Enter index name\"\n                  required\n                />\n              </div>\n\n              <div>\n                <div className=\"text-sm font-medium text-gray-700 mb-2\">Columns</div>\n                <div className=\"space-y-2\">\n                  {newIndex.columns.map((column, index) => (\n                    <div key={`column-${index}-${column || 'empty'}`} className=\"flex gap-2\">\n                      <select\n                        value={column}\n                        onChange={(e) => {\n                          const newColumns = [...newIndex.columns]\n                          newColumns[index] = e.currentTarget.value\n                          setNewIndex((prev) => ({ ...prev, columns: newColumns }))\n                        }}\n                        className=\"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      >\n                        <option value=\"\">Select column</option>\n                        {tableColumns.map((col) => (\n                          <option key={col.name} value={col.name}>\n                            {col.name}\n                          </option>\n                        ))}\n                      </select>\n\n                      {newIndex.columns.length > 1 && (\n                        <button\n                          type=\"button\"\n                          onClick={() => {\n                            const newColumns = newIndex.columns.filter((_, i) => i !== index)\n                            setNewIndex((prev) => ({ ...prev, columns: newColumns }))\n                          }}\n                          className=\"p-2 text-red-600 hover:text-red-800\"\n                        >\n                          <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                            <title>Remove column from index</title>\n                            <path\n                              fillRule=\"evenodd\"\n                              d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\n                              clipRule=\"evenodd\"\n                            />\n                          </svg>\n                        </button>\n                      )}\n                    </div>\n                  ))}\n                </div>\n\n                <button\n                  type=\"button\"\n                  onClick={() =>\n                    setNewIndex((prev) => ({ ...prev, columns: [...prev.columns, ''] }))\n                  }\n                  className=\"mt-2 text-blue-600 hover:text-blue-800 text-sm\"\n                >\n                  + Add Column\n                </button>\n              </div>\n\n              <div>\n                <label className=\"flex items-center\">\n                  <input\n                    type=\"checkbox\"\n                    checked={newIndex.unique}\n                    onChange={(e) =>\n                      setNewIndex((prev) => ({ ...prev, unique: e.currentTarget.checked }))\n                    }\n                    className=\"mr-2\"\n                  />\n                  Unique Index\n                </label>\n              </div>\n\n              <div className=\"flex justify-end space-x-3 pt-4\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowIndexManager(false)}\n                  className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"px-4 py-2 bg-purple-500 text-white rounded-md hover:bg-purple-600\"\n                >\n                  Create Index\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n","import { useState } from 'preact/hooks'\nimport { type NewTableData, useTableOperations } from '../../hooks/useTableOperations'\nimport type { TableInfo } from '../../lib/api'\nimport { getSQLTypes, getUserTables, SYSTEM_TABLES } from '../../utils/database'\n\ninterface TableListProps {\n  tables: TableInfo[]\n  selectedTable: string | null\n  onTableSelect: (tableName: string | null) => void\n  onTablesChange: () => void // Callback when tables are modified\n  loading: boolean\n}\n\nexport function TableList({\n  tables,\n  selectedTable,\n  onTableSelect,\n  onTablesChange,\n  loading,\n}: TableListProps) {\n  const [showCreateForm, setShowCreateForm] = useState(false)\n  const [newTable, setNewTable] = useState<NewTableData>({\n    name: '',\n    columns: [\n      {\n        name: '',\n        type: 'TEXT',\n        notNull: false,\n        foreignKey: { enabled: false, table: '', column: '' },\n      },\n    ],\n    indexes: [],\n  })\n  const [openDropdownTable, setOpenDropdownTable] = useState<string | null>(null)\n\n  const {\n    createTable,\n    dropTable,\n    changeAccessPolicy,\n    validateTableName,\n    validateColumnName,\n    loading: operationsLoading,\n    error: operationsError,\n    clearError,\n  } = useTableOperations()\n\n  // Handle create table form submission\n  const handleCreateTable = async (e: Event) => {\n    e.preventDefault()\n    clearError()\n\n    const success = await createTable(newTable)\n    if (success) {\n      // Reset form\n      setNewTable({\n        name: '',\n        columns: [\n          {\n            name: '',\n            type: 'TEXT',\n            notNull: false,\n            foreignKey: { enabled: false, table: '', column: '' },\n          },\n        ],\n        indexes: [],\n      })\n      setShowCreateForm(false)\n      onTablesChange()\n    }\n  }\n\n  // Handle drop table\n  const handleDropTable = async (tableName: string) => {\n    if (\n      !confirm(`Are you sure you want to drop table \"${tableName}\"? This action cannot be undone.`)\n    ) {\n      return\n    }\n\n    const success = await dropTable(tableName)\n    if (success) {\n      if (selectedTable === tableName) {\n        onTableSelect(null)\n      }\n      onTablesChange()\n    }\n    setOpenDropdownTable(null)\n  }\n\n  // Handle access policy change\n  const handleChangeAccessPolicy = async (tableName: string, newPolicy: 'public' | 'private') => {\n    const success = await changeAccessPolicy(tableName, newPolicy)\n    if (success) {\n      onTablesChange()\n    }\n    setOpenDropdownTable(null)\n  }\n\n  // Add new column to table creation form\n  const addColumn = () => {\n    setNewTable((prev) => ({\n      ...prev,\n      columns: [\n        ...prev.columns,\n        {\n          name: '',\n          type: 'TEXT',\n          notNull: false,\n          foreignKey: { enabled: false, table: '', column: '' },\n        },\n      ],\n    }))\n  }\n\n  // Remove column from table creation form\n  const removeColumn = (index: number) => {\n    setNewTable((prev) => ({\n      ...prev,\n      columns: prev.columns.filter((_, i) => i !== index),\n    }))\n  }\n\n  // Update column in table creation form\n  const updateColumn = (index: number, field: string, value: unknown) => {\n    setNewTable((prev) => ({\n      ...prev,\n      columns: prev.columns.map((col, i) => (i === index ? { ...col, [field]: value } : col)),\n    }))\n  }\n\n  const userTables = getUserTables(tables)\n  const systemTables = tables.filter((table) =>\n    SYSTEM_TABLES.includes(table.name as (typeof SYSTEM_TABLES)[number])\n  )\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h2 className=\"text-xl font-semibold text-gray-900\">Tables</h2>\n        <button\n          type=\"button\"\n          onClick={() => setShowCreateForm(true)}\n          className=\"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors\"\n          disabled={loading || operationsLoading}\n        >\n          Create Table\n        </button>\n      </div>\n\n      {operationsError && (\n        <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-md\">\n          <p className=\"text-red-700 text-sm\">{operationsError}</p>\n          <button\n            type=\"button\"\n            onClick={clearError}\n            className=\"mt-2 text-red-600 hover:text-red-800 text-sm underline\"\n          >\n            Dismiss\n          </button>\n        </div>\n      )}\n\n      {loading ? (\n        <div className=\"flex items-center justify-center py-8\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"></div>\n        </div>\n      ) : (\n        <div className=\"space-y-6\">\n          {/* User Tables */}\n          <div>\n            <h3 className=\"text-lg font-medium text-gray-900 mb-3\">User Tables</h3>\n            {userTables.length === 0 ? (\n              <p className=\"text-gray-500 italic\">No user tables created yet.</p>\n            ) : (\n              <div className=\"grid gap-2\">\n                {userTables.map((table) => (\n                  <div\n                    key={table.name}\n                    className={`p-3 border rounded-md cursor-pointer transition-colors relative ${\n                      selectedTable === table.name\n                        ? 'border-blue-500 bg-blue-50'\n                        : 'border-gray-200 hover:border-gray-300'\n                    }`}\n                  >\n                    <div className=\"flex items-center justify-between\">\n                      <button\n                        type=\"button\"\n                        onClick={() => onTableSelect(table.name)}\n                        className=\"flex-1 text-left\"\n                      >\n                        <div className=\"flex items-center gap-2\">\n                          <span className=\"font-medium\">{table.name}</span>\n                          <span\n                            className={`px-2 py-1 text-xs rounded-full ${\n                              table.access_policy === 'public'\n                                ? 'bg-green-100 text-green-800'\n                                : 'bg-orange-100 text-orange-800'\n                            }`}\n                          >\n                            {table.access_policy || 'public'}\n                          </span>\n                        </div>\n                        <p className=\"text-sm text-gray-500\">{table.rowCount} rows</p>\n                      </button>\n\n                      <div className=\"relative\">\n                        <button\n                          type=\"button\"\n                          onClick={(e) => {\n                            e.stopPropagation()\n                            setOpenDropdownTable(\n                              openDropdownTable === table.name ? null : table.name\n                            )\n                          }}\n                          className=\"p-1 hover:bg-gray-100 rounded\"\n                        >\n                          <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                            <title>Table options menu</title>\n                            <path d=\"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z\" />\n                          </svg>\n                        </button>\n\n                        {openDropdownTable === table.name && (\n                          <div className=\"absolute right-0 mt-1 w-48 bg-white border border-gray-200 rounded-md shadow-lg z-10\">\n                            <button\n                              type=\"button\"\n                              onClick={() =>\n                                handleChangeAccessPolicy(\n                                  table.name,\n                                  table.access_policy === 'public' ? 'private' : 'public'\n                                )\n                              }\n                              className=\"w-full text-left px-4 py-2 text-sm hover:bg-gray-50\"\n                              disabled={operationsLoading}\n                            >\n                              Make {table.access_policy === 'public' ? 'Private' : 'Public'}\n                            </button>\n                            <button\n                              type=\"button\"\n                              onClick={() => handleDropTable(table.name)}\n                              className=\"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-50\"\n                              disabled={operationsLoading}\n                            >\n                              Drop Table\n                            </button>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n\n          {/* System Tables */}\n          <div>\n            <h3 className=\"text-lg font-medium text-gray-500 mb-3\">System Tables</h3>\n            <div className=\"grid gap-2\">\n              {systemTables.map((table) => (\n                <button\n                  key={table.name}\n                  type=\"button\"\n                  onClick={() => onTableSelect(table.name)}\n                  className={`p-3 border rounded-md cursor-pointer transition-colors text-left w-full ${\n                    selectedTable === table.name\n                      ? 'border-blue-500 bg-blue-50'\n                      : 'border-gray-200 hover:border-gray-300'\n                  }`}\n                >\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"font-medium text-gray-700\">{table.name}</span>\n                    <span className=\"text-sm text-gray-500\">{table.rowCount} rows</span>\n                  </div>\n                </button>\n              ))}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Create Table Modal */}\n      {showCreateForm && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n            <h3 className=\"text-lg font-semibold mb-4\">Create New Table</h3>\n\n            <form onSubmit={handleCreateTable} className=\"space-y-4\">\n              <div>\n                <label\n                  htmlFor=\"table-name\"\n                  className=\"block text-sm font-medium text-gray-700 mb-1\"\n                >\n                  Table Name\n                </label>\n                <input\n                  id=\"table-name\"\n                  type=\"text\"\n                  value={newTable.name}\n                  onChange={(e) =>\n                    setNewTable((prev) => ({ ...prev, name: e.currentTarget.value }))\n                  }\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  placeholder=\"Enter table name\"\n                  required\n                />\n                {newTable.name && validateTableName(newTable.name) && (\n                  <p className=\"text-red-600 text-sm mt-1\">{validateTableName(newTable.name)}</p>\n                )}\n              </div>\n\n              <div>\n                <div className=\"text-sm font-medium text-gray-700 mb-2\">Columns</div>\n                <div className=\"space-y-3\">\n                  {newTable.columns.map((column, index) => (\n                    <div\n                      key={`column-${column.name || index}`}\n                      className=\"border border-gray-200 rounded-md p-3\"\n                    >\n                      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\n                        <div>\n                          <input\n                            type=\"text\"\n                            placeholder=\"Column name\"\n                            value={column.name}\n                            onChange={(e) => updateColumn(index, 'name', e.currentTarget.value)}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                          />\n                          {column.name && validateColumnName(column.name) && (\n                            <p className=\"text-red-600 text-xs mt-1\">\n                              {validateColumnName(column.name)}\n                            </p>\n                          )}\n                        </div>\n\n                        <div>\n                          <select\n                            value={column.type}\n                            onChange={(e) => updateColumn(index, 'type', e.currentTarget.value)}\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                          >\n                            {getSQLTypes().map((type) => (\n                              <option key={type} value={type}>\n                                {type}\n                              </option>\n                            ))}\n                          </select>\n                        </div>\n\n                        <div className=\"flex items-center gap-2\">\n                          <label className=\"flex items-center\">\n                            <input\n                              type=\"checkbox\"\n                              checked={column.notNull}\n                              onChange={(e) =>\n                                updateColumn(index, 'notNull', e.currentTarget.checked)\n                              }\n                              className=\"mr-1\"\n                            />\n                            NOT NULL\n                          </label>\n\n                          {newTable.columns.length > 1 && (\n                            <button\n                              type=\"button\"\n                              onClick={() => removeColumn(index)}\n                              className=\"p-1 text-red-600 hover:text-red-800\"\n                            >\n                              <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                                <title>Remove column</title>\n                                <path\n                                  fillRule=\"evenodd\"\n                                  d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\n                                  clipRule=\"evenodd\"\n                                />\n                              </svg>\n                            </button>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n\n                <button\n                  type=\"button\"\n                  onClick={addColumn}\n                  className=\"mt-3 px-3 py-2 text-blue-600 hover:text-blue-800 text-sm\"\n                >\n                  + Add Column\n                </button>\n              </div>\n\n              <div className=\"flex justify-end space-x-3 pt-4\">\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setShowCreateForm(false)\n                    clearError()\n                  }}\n                  className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50\"\n                  disabled={operationsLoading}\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50\"\n                  disabled={operationsLoading}\n                >\n                  {operationsLoading ? 'Creating...' : 'Create Table'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n","import { useEffect, useState } from 'preact/hooks'\nimport { api, type SchemaSnapshot } from '../lib/api'\nimport { formatDateTime } from '../utils/database'\n\ninterface SchemaHistoryProps {\n  onClose: () => void\n  onRestore?: () => void\n}\n\n// Spinner component\nfunction Spinner({ size = 'sm' }: { size?: 'sm' | 'md' }) {\n  const sizeClasses = size === 'sm' ? 'h-4 w-4' : 'h-6 w-6'\n  return (\n    <svg\n      class={`animate-spin ${sizeClasses} text-white`}\n      fill=\"none\"\n      viewBox=\"0 0 24 24\"\n      aria-label=\"Loading spinner\"\n    >\n      <title>Loading spinner</title>\n      <circle\n        class=\"opacity-25\"\n        cx=\"12\"\n        cy=\"12\"\n        r=\"10\"\n        stroke=\"currentColor\"\n        strokeWidth=\"4\"\n      ></circle>\n      <path\n        class=\"opacity-75\"\n        fill=\"currentColor\"\n        d=\"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n      ></path>\n    </svg>\n  )\n}\n\nexport function SchemaHistory({ onClose, onRestore }: SchemaHistoryProps) {\n  const [snapshots, setSnapshots] = useState<SchemaSnapshot[]>([])\n  const [selectedSnapshot, setSelectedSnapshot] = useState<SchemaSnapshot | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [showCreateForm, setShowCreateForm] = useState(false)\n  const [newSnapshot, setNewSnapshot] = useState({ name: '', description: '' })\n  const [confirmRestore, setConfirmRestore] = useState<string | null>(null)\n  const [confirmDelete, setConfirmDelete] = useState<string | null>(null)\n  const [openMenuId, setOpenMenuId] = useState<string | null>(null)\n  const [isCreating, setIsCreating] = useState(false)\n  const [isRestoring, setIsRestoring] = useState(false)\n  const [isDeleting, setIsDeleting] = useState(false)\n\n  useEffect(() => {\n    loadData()\n  }, [])\n\n  // Close menu when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (openMenuId) {\n        const target = event.target as Element\n        // Don't close if clicking inside the menu or on menu buttons\n        if (!target.closest('[data-menu-container]') && !target.closest('[data-menu-button]')) {\n          setOpenMenuId(null)\n        }\n      }\n    }\n\n    document.addEventListener('mousedown', handleClickOutside)\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside)\n    }\n  }, [openMenuId])\n\n  const loadData = async () => {\n    try {\n      setLoading(true)\n      setError(null)\n\n      const result = await api.getSnapshots()\n      setSnapshots(result.snapshots)\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to load data')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleCreateSnapshot = async (e: Event) => {\n    e.preventDefault()\n    try {\n      setError(null)\n      setIsCreating(true)\n      await api.createSnapshot(newSnapshot)\n      setShowCreateForm(false)\n      setNewSnapshot({ name: '', description: '' })\n      await loadData()\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to create snapshot')\n    } finally {\n      setIsCreating(false)\n    }\n  }\n\n  const handleRestore = async () => {\n    if (!confirmRestore) return\n\n    try {\n      setError(null)\n      setIsRestoring(true)\n      await api.restoreSnapshot(confirmRestore)\n      setConfirmRestore(null)\n      if (onRestore) onRestore()\n      onClose()\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to restore')\n      setConfirmRestore(null)\n    } finally {\n      setIsRestoring(false)\n    }\n  }\n\n  const handleDelete = async () => {\n    if (!confirmDelete) return\n\n    try {\n      setError(null)\n      setIsDeleting(true)\n      await api.deleteSnapshot(confirmDelete)\n      setConfirmDelete(null)\n      setOpenMenuId(null)\n      await loadData()\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to delete snapshot')\n      setConfirmDelete(null)\n    } finally {\n      setIsDeleting(false)\n    }\n  }\n\n  const getRelativeTime = (dateString: string) => {\n    const date = new Date(dateString)\n    const now = new Date()\n    const diff = now.getTime() - date.getTime()\n    const days = Math.floor(diff / (1000 * 60 * 60 * 24))\n    const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))\n\n    if (days > 0) return `${days} day${days > 1 ? 's' : ''} ago`\n    if (hours > 0) return `${hours} hour${hours > 1 ? 's' : ''} ago`\n    return 'Just now'\n  }\n\n  return (\n    <div class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div class=\"bg-white rounded-lg w-full max-w-6xl mx-4 max-h-[90vh] overflow-hidden flex flex-col\">\n        {/* Header */}\n        <div class=\"px-6 py-4 border-b flex items-center justify-between\">\n          <h2 class=\"text-xl font-semibold text-gray-900\">Schema Snapshots</h2>\n          <button type=\"button\" onClick={onClose} class=\"text-gray-400 hover:text-gray-600\">\n            <svg\n              class=\"h-6 w-6\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n              aria-label=\"Close\"\n            >\n              <title>Close</title>\n              <path\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                stroke-width=\"2\"\n                d=\"M6 18L18 6M6 6l12 12\"\n              />\n            </svg>\n          </button>\n        </div>\n\n        {/* Error Display */}\n        {error && (\n          <div class=\"mx-6 mt-4 bg-red-50 border border-red-200 rounded-md p-4\">\n            <div class=\"text-sm text-red-700\">{error}</div>\n          </div>\n        )}\n\n        {/* Time Travel Info Box */}\n        <div class=\"mx-6 mt-4 bg-blue-50 border border-blue-200 rounded-md p-4\">\n          <div class=\"flex\">\n            <div class=\"flex-shrink-0\">\n              <svg\n                class=\"h-5 w-5 text-blue-400\"\n                fill=\"currentColor\"\n                viewBox=\"0 0 20 20\"\n                aria-label=\"Information\"\n              >\n                <title>Information</title>\n                <path\n                  fill-rule=\"evenodd\"\n                  d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\"\n                  clip-rule=\"evenodd\"\n                />\n              </svg>\n            </div>\n            <div class=\"ml-3\">\n              <h3 class=\"text-sm font-medium text-blue-800\">\n                💡 CloudflareのTime Travel機能について\n              </h3>\n              <p class=\"mt-1 text-sm text-blue-700\">\n                Cloudflareの管理画面から、D1データベースを過去の任意の時点（無料プランで7日間、有料プランで30日間）に復元できるTime\n                Travel機能が利用可能です。 詳しくは\n                <a\n                  href=\"https://developers.cloudflare.com/d1/reference/time-travel/\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  class=\"font-medium underline hover:no-underline\"\n                >\n                  Cloudflare D1 Time Travelドキュメント\n                </a>\n                をご確認ください。\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Content */}\n        <div class=\"flex-1 overflow-auto p-6\">\n          {loading ? (\n            <div class=\"text-center py-8\">\n              <div class=\"text-gray-500\">Loading...</div>\n            </div>\n          ) : (\n            <div>\n              {/* Create Snapshot Button */}\n              {!showCreateForm && (\n                <div class=\"mb-6\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowCreateForm(true)}\n                    class=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n                  >\n                    <svg\n                      class=\"h-5 w-5 mr-2\"\n                      fill=\"none\"\n                      viewBox=\"0 0 24 24\"\n                      stroke=\"currentColor\"\n                      aria-label=\"Plus\"\n                    >\n                      <title>Plus</title>\n                      <path\n                        stroke-linecap=\"round\"\n                        stroke-linejoin=\"round\"\n                        stroke-width=\"2\"\n                        d=\"M12 4v16m8-8H4\"\n                      />\n                    </svg>\n                    Create Snapshot\n                  </button>\n                </div>\n              )}\n\n              {/* Create Snapshot Form */}\n              {showCreateForm && (\n                <div class=\"mb-6 bg-gray-50 rounded-lg p-4\">\n                  <h3 class=\"text-sm font-medium text-gray-900 mb-3\">Create New Snapshot</h3>\n                  <form onSubmit={handleCreateSnapshot}>\n                    <div class=\"space-y-3\">\n                      <div>\n                        <label\n                          htmlFor=\"snapshot_name\"\n                          class=\"block text-sm font-medium text-gray-700\"\n                        >\n                          Name\n                        </label>\n                        <input\n                          id=\"snapshot_name\"\n                          type=\"text\"\n                          value={newSnapshot.name}\n                          onInput={(e) =>\n                            setNewSnapshot({\n                              ...newSnapshot,\n                              name: (e.target as HTMLInputElement).value,\n                            })\n                          }\n                          class=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                          placeholder=\"e.g., Before major refactoring\"\n                        />\n                      </div>\n                      <div>\n                        <label\n                          htmlFor=\"snapshot_description\"\n                          class=\"block text-sm font-medium text-gray-700\"\n                        >\n                          Description\n                        </label>\n                        <textarea\n                          id=\"snapshot_description\"\n                          value={newSnapshot.description}\n                          onInput={(e) =>\n                            setNewSnapshot({\n                              ...newSnapshot,\n                              description: (e.target as HTMLTextAreaElement).value,\n                            })\n                          }\n                          class=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n                          rows={2}\n                          placeholder=\"Optional description of current state\"\n                        />\n                      </div>\n                      <div class=\"flex space-x-3\">\n                        <button\n                          type=\"submit\"\n                          disabled={isCreating}\n                          class={`inline-flex justify-center items-center space-x-2 py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${\n                            isCreating\n                              ? 'bg-indigo-400 cursor-not-allowed'\n                              : 'bg-indigo-600 hover:bg-indigo-700'\n                          }`}\n                        >\n                          {isCreating && <Spinner size=\"sm\" />}\n                          <span>{isCreating ? 'Creating...' : 'Create'}</span>\n                        </button>\n                        <button\n                          type=\"button\"\n                          onClick={() => {\n                            setShowCreateForm(false)\n                            setNewSnapshot({ name: '', description: '' })\n                          }}\n                          class=\"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n                        >\n                          Cancel\n                        </button>\n                      </div>\n                    </div>\n                  </form>\n                </div>\n              )}\n\n              {/* Snapshots List */}\n              <div class=\"space-y-3\">\n                {snapshots.length === 0 ? (\n                  <div class=\"text-center py-8 text-gray-500\">\n                    No snapshots yet. Create your first snapshot to start tracking schema changes.\n                  </div>\n                ) : (\n                  snapshots.map((snapshot) => (\n                    <button\n                      type=\"button\"\n                      key={snapshot.id}\n                      class={`text-left w-full border rounded-lg p-4 hover:shadow-md transition-shadow ${\n                        selectedSnapshot?.id === snapshot.id\n                          ? 'border-indigo-500 bg-indigo-50'\n                          : 'border-gray-200'\n                      }`}\n                      onClick={() => setSelectedSnapshot(snapshot)}\n                    >\n                      <div class=\"flex items-start justify-between\">\n                        <div class=\"flex-1\">\n                          <div class=\"flex items-center space-x-3\">\n                            <h4 class=\"text-sm font-medium text-gray-900\">\n                              {snapshot.name || `Snapshot v${snapshot.version}`}\n                            </h4>\n                            <span\n                              class={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                                snapshot.snapshotType === 'manual'\n                                  ? 'bg-blue-100 text-blue-800'\n                                  : snapshot.snapshotType === 'auto'\n                                    ? 'bg-green-100 text-green-800'\n                                    : 'bg-yellow-100 text-yellow-800'\n                              }`}\n                            >\n                              {snapshot.snapshotType}\n                            </span>\n                          </div>\n                          {snapshot.description && (\n                            <p class=\"mt-1 text-sm text-gray-600\">{snapshot.description}</p>\n                          )}\n                          <div class=\"mt-2 flex items-center space-x-4 text-xs text-gray-500\">\n                            <span>Version {snapshot.version}</span>\n                            <span>{formatDateTime(snapshot.createdAt)}</span>\n                            <span>{getRelativeTime(snapshot.createdAt)}</span>\n                          </div>\n                        </div>\n                        <div class=\"ml-4 flex items-center space-x-2\">\n                          <button\n                            type=\"button\"\n                            onClick={(e) => {\n                              e.stopPropagation()\n                              setConfirmRestore(snapshot.id)\n                            }}\n                            class=\"inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n                          >\n                            Restore\n                          </button>\n\n                          <div class=\"relative\">\n                            <button\n                              type=\"button\"\n                              onClick={(e) => {\n                                e.stopPropagation()\n                                setOpenMenuId(openMenuId === snapshot.id ? null : snapshot.id)\n                              }}\n                              data-menu-button=\"true\"\n                              class=\"inline-flex items-center p-1.5 text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 rounded-md\"\n                            >\n                              <svg\n                                class=\"h-4 w-4\"\n                                fill=\"currentColor\"\n                                viewBox=\"0 0 20 20\"\n                                aria-label=\"More options\"\n                              >\n                                <title>More options</title>\n                                <path d=\"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z\" />\n                              </svg>\n                            </button>\n\n                            {/* Dropdown Menu */}\n                            {openMenuId === snapshot.id && (\n                              <div\n                                class=\"absolute right-0 top-full mt-1 w-32 bg-white rounded-md shadow-lg border border-gray-200 z-10\"\n                                data-menu-container=\"true\"\n                              >\n                                <div class=\"py-1\">\n                                  <button\n                                    type=\"button\"\n                                    onClick={(e) => {\n                                      e.preventDefault()\n                                      e.stopPropagation()\n                                      setOpenMenuId(null)\n                                      setConfirmDelete(snapshot.id)\n                                    }}\n                                    class=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 focus:outline-none\"\n                                  >\n                                    <div class=\"flex items-center space-x-2\">\n                                      <svg\n                                        class=\"h-4 w-4\"\n                                        fill=\"none\"\n                                        viewBox=\"0 0 24 24\"\n                                        stroke=\"currentColor\"\n                                        aria-label=\"Delete\"\n                                      >\n                                        <title>Delete</title>\n                                        <path\n                                          stroke-linecap=\"round\"\n                                          stroke-linejoin=\"round\"\n                                          stroke-width=\"2\"\n                                          d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n                                        />\n                                      </svg>\n                                      <span>Delete</span>\n                                    </div>\n                                  </button>\n                                </div>\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                    </button>\n                  ))\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Restore Confirmation Modal */}\n        {confirmRestore && (\n          <div class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div class=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\n              <div class=\"flex items-center mb-4\">\n                <div class=\"flex-shrink-0\">\n                  <svg\n                    class=\"h-6 w-6 text-red-600\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    stroke=\"currentColor\"\n                    aria-label=\"Warning\"\n                  >\n                    <title>Warning</title>\n                    <path\n                      stroke-linecap=\"round\"\n                      stroke-linejoin=\"round\"\n                      stroke-width=\"2\"\n                      d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\"\n                    />\n                  </svg>\n                </div>\n                <div class=\"ml-3\">\n                  <h3 class=\"text-lg font-medium text-gray-900\">Confirm Restore</h3>\n                </div>\n              </div>\n\n              <div class=\"mb-6\">\n                <p class=\"text-sm text-gray-700\">\n                  This will restore your database schema to the selected snapshot. All current\n                  tables and data will be replaced.\n                </p>\n                <p class=\"text-sm text-red-600 mt-2 font-medium\">\n                  This action cannot be undone. Make sure you have a backup of your current data.\n                </p>\n              </div>\n\n              <div class=\"flex space-x-3\">\n                <button\n                  type=\"button\"\n                  onClick={handleRestore}\n                  disabled={isRestoring}\n                  class={`inline-flex justify-center items-center space-x-2 py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${\n                    isRestoring ? 'bg-red-400 cursor-not-allowed' : 'bg-red-600 hover:bg-red-700'\n                  }`}\n                >\n                  {isRestoring && <Spinner size=\"sm\" />}\n                  <span>{isRestoring ? 'Restoring...' : 'Restore'}</span>\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => setConfirmRestore(null)}\n                  disabled={isRestoring}\n                  class={`inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${\n                    isRestoring\n                      ? 'text-gray-400 bg-gray-100 cursor-not-allowed'\n                      : 'text-gray-700 bg-white hover:bg-gray-50'\n                  }`}\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Delete Confirmation Modal */}\n        {confirmDelete && (\n          <div class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div class=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\n              <div class=\"flex items-center mb-4\">\n                <div class=\"flex-shrink-0\">\n                  <svg\n                    class=\"h-6 w-6 text-red-600\"\n                    fill=\"none\"\n                    viewBox=\"0 0 24 24\"\n                    stroke=\"currentColor\"\n                    aria-label=\"Warning\"\n                  >\n                    <title>Warning</title>\n                    <path\n                      stroke-linecap=\"round\"\n                      stroke-linejoin=\"round\"\n                      stroke-width=\"2\"\n                      d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\"\n                    />\n                  </svg>\n                </div>\n                <div class=\"ml-3\">\n                  <h3 class=\"text-lg font-medium text-gray-900\">Delete Snapshot</h3>\n                </div>\n              </div>\n\n              <div class=\"mb-6\">\n                <p class=\"text-sm text-gray-700\">\n                  Are you sure you want to delete this snapshot? This action cannot be undone.\n                </p>\n              </div>\n\n              <div class=\"flex space-x-3\">\n                <button\n                  type=\"button\"\n                  onClick={handleDelete}\n                  disabled={isDeleting}\n                  class={`inline-flex justify-center items-center space-x-2 py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${\n                    isDeleting ? 'bg-red-400 cursor-not-allowed' : 'bg-red-600 hover:bg-red-700'\n                  }`}\n                >\n                  {isDeleting && <Spinner size=\"sm\" />}\n                  <span>{isDeleting ? 'Deleting...' : 'Delete'}</span>\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => setConfirmDelete(null)}\n                  disabled={isDeleting}\n                  class={`inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${\n                    isDeleting\n                      ? 'text-gray-400 bg-gray-100 cursor-not-allowed'\n                      : 'text-gray-700 bg-white hover:bg-gray-50'\n                  }`}\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n","import { useEffect, useState } from 'preact/hooks'\nimport { api, type ColumnInfo, type ForeignKeyInfo, type TableInfo } from '../lib/api'\n\nexport interface DatabaseState {\n  tables: TableInfo[]\n  selectedTable: string | null\n  tableData: Record<string, unknown>[]\n  tableColumns: ColumnInfo[]\n  tableForeignKeys: ForeignKeyInfo[]\n  loading: boolean\n  error: string | null\n}\n\nexport interface DatabaseActions {\n  loadTables: () => Promise<void>\n  loadTableSchema: (tableName?: string) => Promise<void>\n  loadTableData: (tableName?: string) => Promise<void>\n  selectTable: (tableName: string | null) => void\n  setSelectedTable: (tableName: string | null) => void\n  setError: (error: string | null) => void\n  clearError: () => void\n  refreshData: () => Promise<void>\n}\n\n/**\n * Custom hook for managing database state and operations\n */\nexport const useDatabase = (): DatabaseState & DatabaseActions => {\n  const [state, setState] = useState<DatabaseState>({\n    tables: [],\n    selectedTable: null,\n    tableData: [],\n    tableColumns: [],\n    tableForeignKeys: [],\n    loading: false,\n    error: null,\n  })\n\n  // Load all tables\n  const loadTables = async () => {\n    setState((prev) => ({ ...prev, loading: true, error: null }))\n\n    try {\n      const response = await api.getTables()\n      setState((prev) => ({\n        ...prev,\n        tables: response.tables || [],\n        loading: false,\n      }))\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to load tables'\n      setState((prev) => ({\n        ...prev,\n        error: errorMessage,\n        loading: false,\n      }))\n    }\n  }\n\n  // Load table schema (columns and foreign keys)\n  const loadTableSchema = async (tableName?: string) => {\n    const table = tableName || state.selectedTable\n    if (!table) return\n\n    setState((prev) => ({ ...prev, loading: true, error: null }))\n\n    try {\n      const response = await api.getTableSchema(table)\n\n      setState((prev) => ({\n        ...prev,\n        tableColumns: response.columns || [],\n        tableForeignKeys: response.foreignKeys || [],\n        loading: false,\n      }))\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to load table schema'\n      setState((prev) => ({\n        ...prev,\n        error: errorMessage,\n        loading: false,\n      }))\n    }\n  }\n\n  // Load table data\n  const loadTableData = async (tableName?: string) => {\n    const table = tableName || state.selectedTable\n    if (!table) return\n\n    setState((prev) => ({ ...prev, loading: true, error: null }))\n\n    try {\n      const response = await api.getTableData(table)\n      setState((prev) => ({\n        ...prev,\n        tableData: response.data || [],\n        loading: false,\n      }))\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to load table data'\n      setState((prev) => ({\n        ...prev,\n        error: errorMessage,\n        loading: false,\n      }))\n    }\n  }\n\n  // Select a table and load its data\n  const selectTable = (tableName: string | null) => {\n    setState((prev) => ({\n      ...prev,\n      selectedTable: tableName,\n      tableData: [],\n      tableColumns: [],\n      tableForeignKeys: [],\n    }))\n\n    if (tableName) {\n      loadTableSchema(tableName)\n      loadTableData(tableName)\n    }\n  }\n\n  // Alias for selectTable for backward compatibility\n  const setSelectedTable = selectTable\n\n  // Set error state\n  const setError = (error: string | null) => {\n    setState((prev) => ({ ...prev, error }))\n  }\n\n  // Clear error state\n  const clearError = () => {\n    setState((prev) => ({ ...prev, error: null }))\n  }\n\n  // Refresh all data\n  const refreshData = async () => {\n    await loadTables()\n    if (state.selectedTable) {\n      await Promise.all([loadTableSchema(state.selectedTable), loadTableData(state.selectedTable)])\n    }\n  }\n\n  // Load tables on mount\n  useEffect(() => {\n    loadTables()\n  }, [])\n\n  return {\n    ...state,\n    loadTables,\n    loadTableSchema,\n    loadTableData,\n    selectTable,\n    setSelectedTable,\n    setError,\n    clearError,\n    refreshData,\n  }\n}\n","import { useState } from 'preact/hooks'\nimport { DataViewer } from '../components/database/DataViewer'\nimport { SchemaEditor } from '../components/database/SchemaEditor'\nimport { TableList } from '../components/database/TableList'\nimport { SchemaHistory } from '../components/SchemaHistory'\nimport { useDatabase } from '../hooks/useDatabase'\n\nexport function DatabasePage() {\n  const [showSchemaHistory, setShowSchemaHistory] = useState(false)\n  const [highlightRecordId, setHighlightRecordId] = useState<string | undefined>(undefined)\n\n  const {\n    tables,\n    selectedTable,\n    tableData,\n    tableColumns,\n    tableForeignKeys,\n    loading,\n    error,\n    setSelectedTable,\n    loadTables,\n    loadTableData,\n    loadTableSchema,\n  } = useDatabase()\n\n  const handleTableSelect = async (tableName: string | null, highlightRecordId?: string) => {\n    // First switch the table\n    setSelectedTable(tableName)\n\n    // If we need to highlight a record, wait a bit for data to load\n    if (highlightRecordId && tableName) {\n      // Wait for the table data to be loaded before highlighting\n      setTimeout(() => {\n        setHighlightRecordId(highlightRecordId)\n\n        // Clear highlight after 3 seconds\n        setTimeout(() => {\n          setHighlightRecordId(undefined)\n        }, 3000)\n      }, 500) // Give time for table data to load\n    }\n  }\n\n  const handleTablesChange = () => {\n    loadTables()\n  }\n\n  const handleDataChange = () => {\n    loadTableData()\n  }\n\n  const handleSchemaChange = () => {\n    loadTableSchema()\n    loadTableData() // Refresh data as schema changes might affect display\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"mb-8\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-gray-900\">Database</h1>\n              <p className=\"mt-2 text-gray-600\">\n                Manage your application's database tables and data\n              </p>\n            </div>\n            <button\n              type=\"button\"\n              onClick={() => setShowSchemaHistory(true)}\n              className=\"px-4 py-2 bg-indigo-500 text-white rounded-md hover:bg-indigo-600 transition-colors\"\n            >\n              Schema Snapshots\n            </button>\n          </div>\n        </div>\n\n        {error && (\n          <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-md\">\n            <p className=\"text-red-700\">{error}</p>\n          </div>\n        )}\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* Table List - Left Column */}\n          <div className=\"lg:col-span-1\">\n            <TableList\n              tables={tables}\n              selectedTable={selectedTable}\n              onTableSelect={handleTableSelect}\n              onTablesChange={handleTablesChange}\n              loading={loading}\n            />\n          </div>\n\n          {/* Data and Schema - Right Columns */}\n          <div className=\"lg:col-span-2 space-y-6\">\n            {selectedTable ? (\n              <>\n                {/* Data Viewer */}\n                <DataViewer\n                  tableName={selectedTable}\n                  tableData={tableData}\n                  tableColumns={tableColumns}\n                  tableForeignKeys={tableForeignKeys}\n                  onDataChange={handleDataChange}\n                  onTableSelect={handleTableSelect}\n                  highlightRecordId={highlightRecordId}\n                  loading={loading}\n                />\n\n                {/* Schema Editor */}\n                <SchemaEditor\n                  tableName={selectedTable}\n                  tableColumns={tableColumns}\n                  tableForeignKeys={tableForeignKeys}\n                  tables={tables}\n                  onSchemaChange={handleSchemaChange}\n                  loading={loading}\n                />\n              </>\n            ) : (\n              <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n                <div className=\"text-center py-8\">\n                  <p className=\"text-gray-500\">\n                    Select a table from the left to view and manage its data and schema\n                  </p>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Schema History Modal */}\n        {showSchemaHistory && (\n          <SchemaHistory\n            onClose={() => setShowSchemaHistory(false)}\n            onRestore={() => {\n              setShowSchemaHistory(false)\n              loadTableSchema()\n              loadTables()\n            }}\n          />\n        )}\n      </div>\n    </div>\n  )\n}\n","import { useEffect, useState } from 'preact/hooks'\nimport { api } from '../lib/api'\n\nexport function HomePage() {\n  const [stats, setStats] = useState({\n    userTables: 0,\n    systemTables: 0,\n    dbStatus: 'checking...',\n  })\n\n  useEffect(() => {\n    loadStats()\n  }, [])\n\n  const loadStats = async () => {\n    try {\n      // Load health status\n      const health = await api.health()\n\n      // Load tables\n      const tablesResult = await api.getTables()\n      const userTables = tablesResult.tables.filter((t) => t.type === 'user').length\n      const systemTables = tablesResult.tables.filter((t) => t.type === 'system').length\n\n      setStats({\n        userTables,\n        systemTables,\n        dbStatus:\n          (health as { database?: string })?.database === 'connected'\n            ? 'connected'\n            : 'disconnected',\n      })\n    } catch (error) {\n      console.error('Failed to load stats:', error)\n      setStats((prev) => ({ ...prev, dbStatus: 'error' }))\n    }\n  }\n\n  return (\n    <div>\n      <h2 class=\"text-2xl font-bold text-gray-900 mb-6\">Dashboard</h2>\n\n      <div class=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n        <DashboardCard\n          title=\"Database Tables\"\n          description=\"User-defined tables in D1\"\n          href=\"/database\"\n          stats={`${stats.userTables} tables`}\n          status={stats.dbStatus}\n        />\n        <DashboardCard\n          title=\"System Tables\"\n          description=\"Protected system tables\"\n          href=\"/database\"\n          stats={`${stats.systemTables} tables`}\n        />\n        <DashboardCard\n          title=\"Storage\"\n          description=\"R2 object storage for files\"\n          href=\"/storage\"\n          stats=\"Ready\"\n          status=\"connected\"\n        />\n      </div>\n\n      <div class=\"mt-8\">\n        <h3 class=\"text-lg font-medium text-gray-900 mb-4\">Quick Actions</h3>\n        <div class=\"bg-white overflow-hidden shadow rounded-lg\">\n          <div class=\"px-4 py-5 sm:p-6\">\n            <div class=\"space-y-3\">\n              <a href=\"/database\" class=\"text-indigo-600 hover:text-indigo-500 block\">\n                Create new table →\n              </a>\n              <a href=\"/database\" class=\"text-indigo-600 hover:text-indigo-500 block\">\n                Browse database →\n              </a>\n              <a href=\"/storage\" class=\"text-indigo-600 hover:text-indigo-500 block\">\n                Upload files →\n              </a>\n              <a\n                href=\"/api/health\"\n                target=\"_blank\"\n                class=\"text-indigo-600 hover:text-indigo-500 block\"\n                rel=\"noopener\"\n              >\n                View API health →\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"mt-8\">\n        <h3 class=\"text-lg font-medium text-gray-900 mb-4\">API Endpoints</h3>\n        <div class=\"bg-white overflow-hidden shadow rounded-lg\">\n          <div class=\"px-4 py-5 sm:p-6\">\n            <div class=\"space-y-2 text-sm\">\n              <div class=\"flex justify-between\">\n                <code class=\"text-gray-600\">GET /api/health</code>\n                <span class=\"text-green-600\">Health check</span>\n              </div>\n              <div class=\"flex justify-between\">\n                <code class=\"text-gray-600\">GET /api/tables</code>\n                <span class=\"text-green-600\">List tables</span>\n              </div>\n              <div class=\"flex justify-between\">\n                <code class=\"text-gray-600\">POST /api/tables</code>\n                <span class=\"text-green-600\">Create table</span>\n              </div>\n              <div class=\"flex justify-between\">\n                <code class=\"text-gray-600\">GET /api/tables/:name/data</code>\n                <span class=\"text-green-600\">Get table data</span>\n              </div>\n              <div class=\"flex justify-between\">\n                <code class=\"text-gray-600\">GET /api/storage</code>\n                <span class=\"text-green-600\">List files</span>\n              </div>\n              <div class=\"flex justify-between\">\n                <code class=\"text-gray-600\">POST /api/storage/upload</code>\n                <span class=\"text-green-600\">Upload file</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\ninterface DashboardCardProps {\n  title: string\n  description: string\n  href: string\n  stats: string\n  status?: string\n}\n\nfunction DashboardCard({ title, description, href, stats, status }: DashboardCardProps) {\n  return (\n    <div class=\"bg-white overflow-hidden shadow rounded-lg\">\n      <div class=\"px-4 py-5 sm:p-6\">\n        <div class=\"flex items-center justify-between\">\n          <dt class=\"text-sm font-medium text-gray-500 truncate\">{title}</dt>\n          {status && (\n            <span\n              class={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                status === 'connected'\n                  ? 'bg-green-100 text-green-800'\n                  : status === 'error'\n                    ? 'bg-red-100 text-red-800'\n                    : 'bg-gray-100 text-gray-800'\n              }`}\n            >\n              {status}\n            </span>\n          )}\n        </div>\n        <dd class=\"mt-1 text-3xl font-semibold text-gray-900\">{stats}</dd>\n        <p class=\"mt-2 text-sm text-gray-600\">{description}</p>\n        <a\n          href={href}\n          class=\"mt-3 text-indigo-600 hover:text-indigo-500 text-sm font-medium inline-block\"\n        >\n          Manage →\n        </a>\n      </div>\n    </div>\n  )\n}\n","/**\n * NotificationLogs component\n * Displays notification delivery logs\n */\n\nimport type { NotificationLog } from '../../types/push'\nimport { formatDateTime } from '../../utils/database'\n\ninterface NotificationLogsProps {\n  logs: NotificationLog[]\n}\n\nexport function NotificationLogs({ logs }: NotificationLogsProps) {\n  return (\n    <div className=\"space-y-6\">\n      <h3 className=\"text-lg font-medium text-gray-900\">Notification Logs</h3>\n\n      <div className=\"bg-white shadow overflow-hidden sm:rounded-md\">\n        <ul className=\"divide-y divide-gray-200\">\n          {logs.map((log) => (\n            <li key={log.id} className=\"px-6 py-4\">\n              <div className=\"flex items-start justify-between\">\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center\">\n                    <h4 className=\"text-sm font-medium text-gray-900\">{log.title}</h4>\n                    <span\n                      className={`ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\n                        log.status === 'sent'\n                          ? 'bg-green-100 text-green-800'\n                          : log.status === 'failed'\n                            ? 'bg-red-100 text-red-800'\n                            : 'bg-yellow-100 text-yellow-800'\n                      }`}\n                    >\n                      {log.status}\n                    </span>\n                  </div>\n                  <p className=\"text-sm text-gray-600 mt-1\">{log.body}</p>\n                  {log.errorMessage && (\n                    <p className=\"text-sm text-red-600 mt-1\">{log.errorMessage}</p>\n                  )}\n                  <div className=\"mt-2 text-xs text-gray-500\">\n                    User: {log.userId} | Provider: {log.provider} | {formatDateTime(log.createdAt)}\n                  </div>\n                </div>\n              </div>\n            </li>\n          ))}\n        </ul>\n        {logs.length === 0 && (\n          <output className=\"text-center py-8 text-gray-500\" aria-live=\"polite\">\n            No notification logs available\n          </output>\n        )}\n      </div>\n    </div>\n  )\n}\n","/**\n * NotificationRules component\n * Displays and manages notification rules list\n */\n\nimport type { NotificationRule } from '../../types/push'\n\ninterface NotificationRulesProps {\n  rules: NotificationRule[]\n  onCreateRule: () => void\n  onEditRule: (rule: NotificationRule) => void\n  onToggleRule: (rule: NotificationRule) => void\n  onDeleteRule: (ruleId: string) => void\n}\n\nexport function NotificationRules({\n  rules,\n  onCreateRule,\n  onEditRule,\n  onToggleRule,\n  onDeleteRule,\n}: NotificationRulesProps) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex justify-between items-center\">\n        <h3 className=\"text-lg font-medium text-gray-900\">Notification Rules</h3>\n        <button\n          type=\"button\"\n          onClick={onCreateRule}\n          className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700\"\n        >\n          Create Rule\n        </button>\n      </div>\n\n      <div className=\"bg-white shadow overflow-hidden sm:rounded-md\">\n        <ul className=\"divide-y divide-gray-200\">\n          {rules.map((rule) => (\n            <li key={rule.id} className=\"px-6 py-4\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center\">\n                    <h4 className=\"text-lg font-medium text-gray-900\">{rule.name}</h4>\n                    <span\n                      className={`ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\n                        rule.enabled ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'\n                      }`}\n                    >\n                      {rule.enabled ? 'Enabled' : 'Disabled'}\n                    </span>\n                  </div>\n                  {rule.description && (\n                    <p className=\"text-sm text-gray-600 mt-1\">{rule.description}</p>\n                  )}\n                  <div className=\"mt-2 text-sm text-gray-500\">\n                    <span className=\"bg-gray-100 px-2 py-1 rounded mr-2\">{rule.triggerType}</span>\n                    {rule.tableName && (\n                      <span className=\"bg-blue-100 px-2 py-1 rounded mr-2\">{rule.tableName}</span>\n                    )}\n                    {rule.eventType && (\n                      <span className=\"bg-purple-100 px-2 py-1 rounded mr-2\">{rule.eventType}</span>\n                    )}\n                    <span className=\"bg-yellow-100 px-2 py-1 rounded\">{rule.recipientType}</span>\n                  </div>\n                </div>\n                <div className=\"flex space-x-2\">\n                  <button\n                    type=\"button\"\n                    onClick={() => onToggleRule(rule)}\n                    className={`px-3 py-1 text-sm rounded-md ${\n                      rule.enabled\n                        ? 'bg-yellow-100 text-yellow-800 hover:bg-yellow-200'\n                        : 'bg-green-100 text-green-800 hover:bg-green-200'\n                    }`}\n                  >\n                    {rule.enabled ? 'Disable' : 'Enable'}\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => onEditRule(rule)}\n                    className=\"px-3 py-1 text-sm bg-blue-100 text-blue-800 rounded-md hover:bg-blue-200\"\n                  >\n                    Edit\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => onDeleteRule(rule.id)}\n                    className=\"px-3 py-1 text-sm bg-red-100 text-red-800 rounded-md hover:bg-red-200\"\n                  >\n                    Delete\n                  </button>\n                </div>\n              </div>\n            </li>\n          ))}\n        </ul>\n        {rules.length === 0 && (\n          <output className=\"text-center py-8 text-gray-500\" aria-live=\"polite\">\n            No notification rules configured yet\n          </output>\n        )}\n      </div>\n    </div>\n  )\n}\n","/**\n * PushSettings component\n * Displays VAPID configuration and API endpoints information\n */\n\ninterface PushSettingsProps {\n  vapidPublicKey: string\n}\n\nexport function PushSettings({ vapidPublicKey }: PushSettingsProps) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white shadow rounded-lg p-6\">\n        <h3 className=\"text-lg font-medium text-gray-900 mb-4\">VAPID Configuration</h3>\n\n        <div className=\"space-y-4\">\n          <div>\n            <label\n              htmlFor=\"vapid-public-key\"\n              className=\"block text-sm font-medium text-gray-700 mb-2\"\n            >\n              Public Key\n            </label>\n            <div id=\"vapid-public-key\" className=\"bg-gray-50 p-3 rounded-md\">\n              <code className=\"text-sm text-gray-800 break-all\">\n                {vapidPublicKey || 'Loading...'}\n              </code>\n            </div>\n            <p className=\"text-xs text-gray-500 mt-1\">\n              Use this public key in your client application for Web Push subscriptions\n            </p>\n          </div>\n\n          <div>\n            <label htmlFor=\"vapid-subject\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Subject\n            </label>\n            <div id=\"vapid-subject\" className=\"bg-gray-50 p-3 rounded-md\">\n              <code className=\"text-sm text-gray-800\">mailto:support@vibebase.app</code>\n            </div>\n            <p className=\"text-xs text-gray-500 mt-1\">\n              VAPID subject for push notification identification\n            </p>\n          </div>\n\n          <div>\n            <label htmlFor=\"api-endpoints\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n              API Endpoints\n            </label>\n            <section\n              id=\"api-endpoints\"\n              className=\"bg-gray-50 p-3 rounded-md space-y-2\"\n              aria-label=\"API endpoints information\"\n            >\n              <div>\n                <strong>Subscribe:</strong>{' '}\n                <code className=\"text-sm\">POST /api/push/subscribe</code>\n              </div>\n              <div>\n                <strong>Unsubscribe:</strong>{' '}\n                <code className=\"text-sm\">POST /api/push/unsubscribe</code>\n              </div>\n              <div>\n                <strong>Send Notification:</strong>{' '}\n                <code className=\"text-sm\">POST /api/push/send</code>\n              </div>\n            </section>\n            <p className=\"text-xs text-gray-500 mt-1\">\n              Use these endpoints in your application for end-user push notification management\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","/**\n * PushTest component\n * Handles admin test notifications functionality\n */\n\ninterface PushTestProps {\n  isAdminSubscribed: boolean\n  permission: NotificationPermission | null\n  loading: boolean\n  onAdminSubscribe: () => void\n  onAdminUnsubscribe: () => void\n  onAdminTestNotification: () => void\n}\n\nexport function PushTest({\n  isAdminSubscribed,\n  permission,\n  loading,\n  onAdminSubscribe,\n  onAdminUnsubscribe,\n  onAdminTestNotification,\n}: PushTestProps) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-white shadow rounded-lg p-6\">\n        <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Admin Test Notifications</h3>\n        <p className=\"text-sm text-gray-600 mb-6\">\n          Test push notifications by subscribing your browser and sending test messages\n        </p>\n\n        <div className=\"space-y-4\">\n          <div>\n            <label htmlFor=\"browser-permission\" className=\"block text-sm font-medium text-gray-700\">\n              Browser Permission\n            </label>\n            <output\n              id=\"browser-permission\"\n              className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\n                permission === 'granted'\n                  ? 'bg-green-100 text-green-800'\n                  : permission === 'denied'\n                    ? 'bg-red-100 text-red-800'\n                    : 'bg-yellow-100 text-yellow-800'\n              }`}\n              aria-label={`Browser notification permission status: ${permission || 'Unknown'}`}\n            >\n              {permission || 'Unknown'}\n            </output>\n          </div>\n\n          <div>\n            <label\n              htmlFor=\"admin-subscription-status\"\n              className=\"block text-sm font-medium text-gray-700\"\n            >\n              Admin Subscription Status\n            </label>\n            <output\n              id=\"admin-subscription-status\"\n              className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\n                isAdminSubscribed ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'\n              }`}\n              aria-label={`Admin subscription status: ${isAdminSubscribed ? 'Subscribed' : 'Not Subscribed'}`}\n            >\n              {isAdminSubscribed ? 'Subscribed' : 'Not Subscribed'}\n            </output>\n          </div>\n\n          <div className=\"flex space-x-3\">\n            {!isAdminSubscribed ? (\n              <button\n                type=\"button\"\n                onClick={onAdminSubscribe}\n                disabled={loading || permission === 'denied'}\n                className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:opacity-50\"\n              >\n                {loading ? 'Subscribing...' : 'Subscribe for Testing'}\n              </button>\n            ) : (\n              <>\n                <button\n                  type=\"button\"\n                  onClick={onAdminUnsubscribe}\n                  disabled={loading}\n                  className=\"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 disabled:opacity-50\"\n                >\n                  {loading ? 'Unsubscribing...' : 'Unsubscribe'}\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={onAdminTestNotification}\n                  disabled={loading}\n                  className=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 disabled:opacity-50\"\n                >\n                  {loading ? 'Sending...' : 'Send Test Notification'}\n                </button>\n              </>\n            )}\n          </div>\n\n          {permission === 'denied' && (\n            <div\n              className=\"bg-yellow-50 border border-yellow-200 rounded-md p-4\"\n              role=\"alert\"\n              aria-live=\"polite\"\n            >\n              <div className=\"flex\">\n                <div className=\"ml-3\">\n                  <h3 className=\"text-sm font-medium text-yellow-800\">Notifications Blocked</h3>\n                  <div className=\"mt-2 text-sm text-yellow-700\">\n                    <p>Browser notifications are blocked. To test push notifications, please:</p>\n                    <ol className=\"list-decimal list-inside mt-1\">\n                      <li>Click the lock icon in your browser's address bar</li>\n                      <li>Set notifications to \"Allow\"</li>\n                      <li>Refresh this page</li>\n                    </ol>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n","/**\n * RuleForm component\n * Modal form for creating and editing notification rules\n */\n\nimport { useState } from 'preact/hooks'\nimport type { NotificationRule, RuleFormData } from '../../types/push'\n\ninterface RuleFormProps {\n  editingRule: NotificationRule | null\n  loading: boolean\n  onSubmit: (formData: RuleFormData) => Promise<void>\n  onClose: () => void\n  setLoading: (loading: boolean) => void\n}\n\nexport function RuleForm({ editingRule, loading, onSubmit, onClose, setLoading }: RuleFormProps) {\n  const [formData, setFormData] = useState<RuleFormData>({\n    name: editingRule?.name || '',\n    description: editingRule?.description || '',\n    triggerType: editingRule?.triggerType || 'db_change',\n    tableName: editingRule?.tableName || '',\n    eventType: editingRule?.eventType || 'insert',\n    recipientType: editingRule?.recipientType || 'all_users',\n    recipientValue: editingRule?.recipientValue || '',\n    titleTemplate: editingRule?.titleTemplate || '',\n    bodyTemplate: editingRule?.bodyTemplate || '',\n    iconUrl: editingRule?.iconUrl || '',\n    imageUrl: editingRule?.imageUrl || '',\n    clickAction: editingRule?.clickAction || '',\n    priority: editingRule?.priority || 'normal',\n    ttl: editingRule?.ttl || 86400,\n    enabled: editingRule?.enabled ?? true,\n  })\n\n  const handleSubmit = async (e: Event) => {\n    e.preventDefault()\n    setLoading(true)\n\n    try {\n      const url = editingRule ? `/api/push/rules/${editingRule.id}` : '/api/push/rules'\n      const method = editingRule ? 'PUT' : 'POST'\n\n      // Clean up data before sending\n      const cleanedData = {\n        ...formData,\n        iconUrl: formData.iconUrl.trim() || undefined,\n        imageUrl: formData.imageUrl.trim() || undefined,\n        clickAction: formData.clickAction.trim() || undefined,\n        description: formData.description.trim() || undefined,\n        tableName: formData.triggerType === 'db_change' ? formData.tableName : undefined,\n        eventType: formData.triggerType === 'db_change' ? formData.eventType : undefined,\n        recipientValue:\n          formData.recipientType !== 'all_users' ? formData.recipientValue : undefined,\n      }\n\n      const response = await fetch(url, {\n        method,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include',\n        body: JSON.stringify(cleanedData),\n      })\n\n      if (response.ok) {\n        alert(editingRule ? 'Rule updated successfully' : 'Rule created successfully')\n        await onSubmit(formData)\n      } else {\n        const errorData = await response.json()\n        console.error('API Error:', errorData)\n        if (errorData.details) {\n          console.error('Validation errors:', errorData.details)\n        }\n        alert(\n          `Failed to ${editingRule ? 'update' : 'create'} rule: ${errorData.error}${errorData.details ? `\\n\\nValidation errors: ${JSON.stringify(errorData.details, null, 2)}` : ''}`\n        )\n      }\n    } catch (error) {\n      alert(`Error ${editingRule ? 'updating' : 'creating'} rule: ${error}`)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div\n      className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\"\n      role=\"dialog\"\n      aria-modal=\"true\"\n      aria-labelledby=\"rule-form-title\"\n    >\n      <div className=\"relative top-20 mx-auto p-5 border w-11/12 max-w-4xl shadow-lg rounded-md bg-white\">\n        <div className=\"mt-3\">\n          <h3 id=\"rule-form-title\" className=\"text-lg font-medium text-gray-900 mb-4\">\n            {editingRule ? 'Edit Notification Rule' : 'Create Notification Rule'}\n          </h3>\n\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label htmlFor=\"rule-name\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Name *\n                </label>\n                <input\n                  id=\"rule-name\"\n                  type=\"text\"\n                  required\n                  value={formData.name}\n                  onChange={(e) =>\n                    setFormData({ ...formData, name: (e.target as HTMLInputElement).value })\n                  }\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n\n              <div>\n                <label\n                  htmlFor=\"rule-description\"\n                  className=\"block text-sm font-medium text-gray-700 mb-1\"\n                >\n                  Description\n                </label>\n                <input\n                  id=\"rule-description\"\n                  type=\"text\"\n                  value={formData.description}\n                  onChange={(e) =>\n                    setFormData({\n                      ...formData,\n                      description: (e.target as HTMLInputElement).value,\n                    })\n                  }\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n\n              <div>\n                <label\n                  htmlFor=\"rule-trigger-type\"\n                  className=\"block text-sm font-medium text-gray-700 mb-1\"\n                >\n                  Trigger Type *\n                </label>\n                <select\n                  id=\"rule-trigger-type\"\n                  value={formData.triggerType}\n                  onChange={(e) =>\n                    setFormData({\n                      ...formData,\n                      triggerType: (e.target as HTMLSelectElement).value as 'db_change' | 'api',\n                    })\n                  }\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"db_change\">Database Change</option>\n                  <option value=\"api\">API Trigger</option>\n                </select>\n              </div>\n\n              {formData.triggerType === 'db_change' && (\n                <>\n                  <div>\n                    <label\n                      htmlFor=\"rule-table-name\"\n                      className=\"block text-sm font-medium text-gray-700 mb-1\"\n                    >\n                      Table Name *\n                    </label>\n                    <input\n                      id=\"rule-table-name\"\n                      type=\"text\"\n                      required\n                      value={formData.tableName}\n                      onChange={(e) =>\n                        setFormData({\n                          ...formData,\n                          tableName: (e.target as HTMLInputElement).value,\n                        })\n                      }\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    />\n                  </div>\n\n                  <div>\n                    <label\n                      htmlFor=\"rule-event-type\"\n                      className=\"block text-sm font-medium text-gray-700 mb-1\"\n                    >\n                      Event Type *\n                    </label>\n                    <select\n                      id=\"rule-event-type\"\n                      value={formData.eventType}\n                      onChange={(e) =>\n                        setFormData({\n                          ...formData,\n                          eventType: (e.target as HTMLSelectElement).value as\n                            | 'insert'\n                            | 'update'\n                            | 'delete',\n                        })\n                      }\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    >\n                      <option value=\"insert\">Insert</option>\n                      <option value=\"update\">Update</option>\n                      <option value=\"delete\">Delete</option>\n                    </select>\n                  </div>\n                </>\n              )}\n\n              <div>\n                <label\n                  htmlFor=\"rule-recipient-type\"\n                  className=\"block text-sm font-medium text-gray-700 mb-1\"\n                >\n                  Recipient Type *\n                </label>\n                <select\n                  id=\"rule-recipient-type\"\n                  value={formData.recipientType}\n                  onChange={(e) =>\n                    setFormData({\n                      ...formData,\n                      recipientType: (e.target as HTMLSelectElement).value as\n                        | 'specific_user'\n                        | 'column_reference'\n                        | 'all_users',\n                    })\n                  }\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"all_users\">All Users</option>\n                  <option value=\"specific_user\">Specific User</option>\n                  <option value=\"column_reference\">Column Reference</option>\n                </select>\n              </div>\n\n              {formData.recipientType !== 'all_users' && (\n                <div>\n                  <label\n                    htmlFor=\"rule-recipient-value\"\n                    className=\"block text-sm font-medium text-gray-700 mb-1\"\n                  >\n                    {formData.recipientType === 'specific_user' ? 'User ID' : 'Column Name'} *\n                  </label>\n                  <input\n                    id=\"rule-recipient-value\"\n                    type=\"text\"\n                    required\n                    value={formData.recipientValue}\n                    onChange={(e) =>\n                      setFormData({\n                        ...formData,\n                        recipientValue: (e.target as HTMLInputElement).value,\n                      })\n                    }\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  />\n                </div>\n              )}\n\n              <div>\n                <label\n                  htmlFor=\"rule-title-template\"\n                  className=\"block text-sm font-medium text-gray-700 mb-1\"\n                >\n                  Title Template *\n                </label>\n                <input\n                  id=\"rule-title-template\"\n                  type=\"text\"\n                  required\n                  value={formData.titleTemplate}\n                  onChange={(e) =>\n                    setFormData({\n                      ...formData,\n                      titleTemplate: (e.target as HTMLInputElement).value,\n                    })\n                  }\n                  placeholder=\"e.g., New message from {{user_name}}\"\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n\n              <div>\n                <label\n                  htmlFor=\"rule-body-template\"\n                  className=\"block text-sm font-medium text-gray-700 mb-1\"\n                >\n                  Body Template *\n                </label>\n                <input\n                  id=\"rule-body-template\"\n                  type=\"text\"\n                  required\n                  value={formData.bodyTemplate}\n                  onChange={(e) =>\n                    setFormData({\n                      ...formData,\n                      bodyTemplate: (e.target as HTMLInputElement).value,\n                    })\n                  }\n                  placeholder=\"e.g., {{message}}\"\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n\n              <div>\n                <label\n                  htmlFor=\"rule-icon-url\"\n                  className=\"block text-sm font-medium text-gray-700 mb-1\"\n                >\n                  Icon URL\n                </label>\n                <input\n                  id=\"rule-icon-url\"\n                  type=\"url\"\n                  value={formData.iconUrl}\n                  onChange={(e) =>\n                    setFormData({ ...formData, iconUrl: (e.target as HTMLInputElement).value })\n                  }\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n\n              <div>\n                <label\n                  htmlFor=\"rule-image-url\"\n                  className=\"block text-sm font-medium text-gray-700 mb-1\"\n                >\n                  Image URL\n                </label>\n                <input\n                  id=\"rule-image-url\"\n                  type=\"url\"\n                  value={formData.imageUrl}\n                  onChange={(e) =>\n                    setFormData({ ...formData, imageUrl: (e.target as HTMLInputElement).value })\n                  }\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n\n              <div>\n                <label\n                  htmlFor=\"rule-click-action\"\n                  className=\"block text-sm font-medium text-gray-700 mb-1\"\n                >\n                  Click Action URL\n                </label>\n                <input\n                  id=\"rule-click-action\"\n                  type=\"text\"\n                  value={formData.clickAction}\n                  onChange={(e) =>\n                    setFormData({\n                      ...formData,\n                      clickAction: (e.target as HTMLInputElement).value,\n                    })\n                  }\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n\n              <div>\n                <label\n                  htmlFor=\"rule-priority\"\n                  className=\"block text-sm font-medium text-gray-700 mb-1\"\n                >\n                  Priority\n                </label>\n                <select\n                  id=\"rule-priority\"\n                  value={formData.priority}\n                  onChange={(e) =>\n                    setFormData({\n                      ...formData,\n                      priority: (e.target as HTMLSelectElement).value as 'high' | 'normal' | 'low',\n                    })\n                  }\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"high\">High</option>\n                  <option value=\"normal\">Normal</option>\n                  <option value=\"low\">Low</option>\n                </select>\n              </div>\n\n              <div>\n                <label htmlFor=\"rule-ttl\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  TTL (seconds)\n                </label>\n                <input\n                  id=\"rule-ttl\"\n                  type=\"number\"\n                  value={formData.ttl}\n                  onChange={(e) =>\n                    setFormData({\n                      ...formData,\n                      ttl: parseInt((e.target as HTMLInputElement).value),\n                    })\n                  }\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n            </div>\n\n            <div className=\"flex items-center\">\n              <input\n                type=\"checkbox\"\n                id=\"enabled\"\n                checked={formData.enabled}\n                onChange={(e) =>\n                  setFormData({ ...formData, enabled: (e.target as HTMLInputElement).checked })\n                }\n                className=\"mr-2\"\n              />\n              <label htmlFor=\"enabled\" className=\"text-sm font-medium text-gray-700\">\n                Enabled\n              </label>\n            </div>\n\n            <div className=\"flex justify-end space-x-3 pt-4\">\n              <button\n                type=\"button\"\n                onClick={onClose}\n                className=\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50\"\n              >\n                {loading ? 'Saving...' : editingRule ? 'Update Rule' : 'Create Rule'}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  )\n}\n","// Client-side push notification management\n\ninterface PushSubscriptionData {\n  subscription: {\n    endpoint: string\n    keys: {\n      p256dh: string\n      auth: string\n    }\n  }\n  deviceInfo?: {\n    userAgent: string\n    platform: string\n    browser: string\n    version: string\n  }\n}\n\ninterface NotificationPermissionResult {\n  granted: boolean\n  error?: string\n}\n\nexport class PushManager {\n  private apiBaseUrl: string\n  private vapidPublicKey: string | null = null\n  private registration: ServiceWorkerRegistration | null = null\n\n  constructor(apiBaseUrl = '/api') {\n    this.apiBaseUrl = apiBaseUrl\n  }\n\n  // Initialize push notifications\n  async initialize(): Promise<boolean> {\n    try {\n      // Check if service workers are supported\n      if (!('serviceWorker' in navigator)) {\n        console.warn('Service Workers not supported')\n        return false\n      }\n\n      // Check if push messaging is supported\n      if (!('PushManager' in window)) {\n        console.warn('Push messaging not supported')\n        return false\n      }\n\n      // Register service worker\n      this.registration = await navigator.serviceWorker.register('/sw.js')\n      console.log('Service Worker registered:', this.registration)\n\n      // Wait for service worker to be ready\n      await navigator.serviceWorker.ready\n\n      // Get VAPID public key\n      await this.fetchVapidPublicKey()\n\n      return true\n    } catch (error) {\n      console.error('Failed to initialize push notifications:', error)\n      return false\n    }\n  }\n\n  // Request notification permission\n  async requestPermission(): Promise<NotificationPermissionResult> {\n    try {\n      if (!('Notification' in window)) {\n        return { granted: false, error: 'Notifications not supported' }\n      }\n\n      const permission = await Notification.requestPermission()\n      return { granted: permission === 'granted' }\n    } catch (error) {\n      return {\n        granted: false,\n        error: error instanceof Error ? error.message : 'Permission request failed',\n      }\n    }\n  }\n\n  // Check current permission status\n  getPermissionStatus(): NotificationPermission | null {\n    if (!('Notification' in window)) {\n      return null\n    }\n    return Notification.permission\n  }\n\n  // Subscribe to push notifications\n  async subscribe(): Promise<{ success: boolean; error?: string }> {\n    try {\n      if (!this.registration) {\n        throw new Error('Service Worker not registered')\n      }\n\n      if (!this.vapidPublicKey) {\n        throw new Error('VAPID public key not available')\n      }\n\n      // Check permission\n      const permission = this.getPermissionStatus()\n      if (permission !== 'granted') {\n        const result = await this.requestPermission()\n        if (!result.granted) {\n          throw new Error(result.error || 'Permission denied')\n        }\n      }\n\n      // Subscribe to push manager\n      const subscription = await this.registration.pushManager.subscribe({\n        userVisibleOnly: true,\n        applicationServerKey: this.urlBase64ToUint8Array(this.vapidPublicKey),\n      })\n\n      // Send subscription to server\n      const subscriptionData: PushSubscriptionData = {\n        subscription: {\n          endpoint: subscription.endpoint,\n          keys: {\n            p256dh: this.arrayBufferToBase64(subscription.getKey('p256dh') || new ArrayBuffer(0)),\n            auth: this.arrayBufferToBase64(subscription.getKey('auth') || new ArrayBuffer(0)),\n          },\n        },\n        deviceInfo: this.getDeviceInfo(),\n      }\n\n      const response = await fetch(`${this.apiBaseUrl}/push/subscribe`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include',\n        body: JSON.stringify(subscriptionData),\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        throw new Error(errorData.error || 'Subscription failed')\n      }\n\n      console.log('Successfully subscribed to push notifications')\n      return { success: true }\n    } catch (error) {\n      console.error('Failed to subscribe to push notifications:', error)\n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Unknown error',\n      }\n    }\n  }\n\n  // Unsubscribe from push notifications\n  async unsubscribe(): Promise<{ success: boolean; error?: string }> {\n    try {\n      if (!this.registration) {\n        throw new Error('Service Worker not registered')\n      }\n\n      const subscription = await this.registration.pushManager.getSubscription()\n      if (!subscription) {\n        return { success: true } // Already unsubscribed\n      }\n\n      // Unsubscribe from push manager\n      await subscription.unsubscribe()\n\n      // Notify server\n      const response = await fetch(`${this.apiBaseUrl}/push/unsubscribe`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          endpoint: subscription.endpoint,\n        }),\n      })\n\n      if (!response.ok) {\n        console.warn('Failed to notify server of unsubscription')\n      }\n\n      console.log('Successfully unsubscribed from push notifications')\n      return { success: true }\n    } catch (error) {\n      console.error('Failed to unsubscribe from push notifications:', error)\n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Unknown error',\n      }\n    }\n  }\n\n  // Check if user is currently subscribed\n  async isSubscribed(): Promise<boolean> {\n    try {\n      if (!this.registration) {\n        return false\n      }\n\n      const subscription = await this.registration.pushManager.getSubscription()\n      return subscription !== null\n    } catch (error) {\n      console.error('Failed to check subscription status:', error)\n      return false\n    }\n  }\n\n  // Get current subscription\n  async getSubscription(): Promise<PushSubscription | null> {\n    try {\n      if (!this.registration) {\n        return null\n      }\n\n      return await this.registration.pushManager.getSubscription()\n    } catch (error) {\n      console.error('Failed to get subscription:', error)\n      return null\n    }\n  }\n\n  // Admin-specific methods for testing\n\n  // Admin subscribe (for testing purposes)\n  async adminSubscribe(): Promise<{ success: boolean; error?: string }> {\n    try {\n      if (!this.registration) {\n        throw new Error('Service Worker not registered')\n      }\n\n      if (!this.vapidPublicKey) {\n        throw new Error('VAPID public key not available')\n      }\n\n      // Check permission\n      const permission = this.getPermissionStatus()\n      if (permission !== 'granted') {\n        const result = await this.requestPermission()\n        if (!result.granted) {\n          throw new Error(result.error || 'Permission denied')\n        }\n      }\n\n      // Subscribe to push manager\n      const subscription = await this.registration.pushManager.subscribe({\n        userVisibleOnly: true,\n        applicationServerKey: this.urlBase64ToUint8Array(this.vapidPublicKey),\n      })\n\n      // Send subscription to server (admin endpoint)\n      const subscriptionData: PushSubscriptionData = {\n        subscription: {\n          endpoint: subscription.endpoint,\n          keys: {\n            p256dh: this.arrayBufferToBase64(subscription.getKey('p256dh') || new ArrayBuffer(0)),\n            auth: this.arrayBufferToBase64(subscription.getKey('auth') || new ArrayBuffer(0)),\n          },\n        },\n        deviceInfo: this.getDeviceInfo(),\n      }\n\n      const response = await fetch(`${this.apiBaseUrl}/push/admin/subscribe`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include',\n        body: JSON.stringify(subscriptionData),\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        throw new Error(errorData.error || 'Admin subscription failed')\n      }\n\n      console.log('Successfully subscribed admin to push notifications')\n      return { success: true }\n    } catch (error) {\n      console.error('Failed to subscribe admin to push notifications:', error)\n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Unknown error',\n      }\n    }\n  }\n\n  // Admin unsubscribe\n  async adminUnsubscribe(): Promise<{ success: boolean; error?: string }> {\n    try {\n      if (!this.registration) {\n        throw new Error('Service Worker not registered')\n      }\n\n      const subscription = await this.registration.pushManager.getSubscription()\n      if (!subscription) {\n        return { success: true } // Already unsubscribed\n      }\n\n      // Unsubscribe from push manager\n      await subscription.unsubscribe()\n\n      // Notify server (admin endpoint)\n      const response = await fetch(`${this.apiBaseUrl}/push/admin/unsubscribe`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          endpoint: subscription.endpoint,\n        }),\n      })\n\n      if (!response.ok) {\n        console.warn('Failed to notify server of admin unsubscription')\n      }\n\n      console.log('Successfully unsubscribed admin from push notifications')\n      return { success: true }\n    } catch (error) {\n      console.error('Failed to unsubscribe admin from push notifications:', error)\n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Unknown error',\n      }\n    }\n  }\n\n  // Send admin test notification\n  async sendAdminTestNotification(): Promise<{ success: boolean; error?: string }> {\n    try {\n      const response = await fetch(`${this.apiBaseUrl}/push/admin/test`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include',\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        throw new Error(errorData.error || 'Admin test notification failed')\n      }\n\n      return { success: true }\n    } catch (error) {\n      console.error('Failed to send admin test notification:', error)\n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Unknown error',\n      }\n    }\n  }\n\n  // Send a test notification (legacy method, kept for compatibility)\n  async sendTestNotification(): Promise<{ success: boolean; error?: string }> {\n    try {\n      const response = await fetch(`${this.apiBaseUrl}/push/send`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          title: 'Test Notification',\n          body: 'This is a test notification from Vibebase',\n          icon: '/favicon.svg',\n          tag: 'test-notification',\n        }),\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        throw new Error(errorData.error || 'Test notification failed')\n      }\n\n      return { success: true }\n    } catch (error) {\n      console.error('Failed to send test notification:', error)\n      return {\n        success: false,\n        error: error instanceof Error ? error.message : 'Unknown error',\n      }\n    }\n  }\n\n  // Private methods\n\n  private async fetchVapidPublicKey(): Promise<void> {\n    try {\n      const response = await fetch(`${this.apiBaseUrl}/push/vapid-public-key`)\n      if (!response.ok) {\n        throw new Error('Failed to fetch VAPID public key')\n      }\n\n      const data = await response.json()\n      this.vapidPublicKey = data.publicKey\n    } catch (error) {\n      console.error('Failed to fetch VAPID public key:', error)\n      throw error\n    }\n  }\n\n  private urlBase64ToUint8Array(base64String: string): Uint8Array {\n    const padding = '='.repeat((4 - (base64String.length % 4)) % 4)\n    const base64 = (base64String + padding).replace(/-/g, '+').replace(/_/g, '/')\n\n    const rawData = window.atob(base64)\n    const outputArray = new Uint8Array(rawData.length)\n\n    for (let i = 0; i < rawData.length; ++i) {\n      outputArray[i] = rawData.charCodeAt(i)\n    }\n    return outputArray\n  }\n\n  private arrayBufferToBase64(buffer: ArrayBuffer): string {\n    const bytes = new Uint8Array(buffer)\n    let binary = ''\n    for (let i = 0; i < bytes.byteLength; i++) {\n      binary += String.fromCharCode(bytes[i])\n    }\n    return window.btoa(binary)\n  }\n\n  private getDeviceInfo() {\n    const navigator = window.navigator\n    const userAgent = navigator.userAgent\n\n    let browser = 'Unknown'\n    let version = 'Unknown'\n    let platform = 'web'\n\n    // Detect browser\n    if (userAgent.includes('Chrome')) {\n      browser = 'Chrome'\n      const match = userAgent.match(/Chrome\\/(\\d+)/)\n      version = match ? match[1] : 'Unknown'\n    } else if (userAgent.includes('Firefox')) {\n      browser = 'Firefox'\n      const match = userAgent.match(/Firefox\\/(\\d+)/)\n      version = match ? match[1] : 'Unknown'\n    } else if (userAgent.includes('Safari') && !userAgent.includes('Chrome')) {\n      browser = 'Safari'\n      const match = userAgent.match(/Version\\/(\\d+)/)\n      version = match ? match[1] : 'Unknown'\n    } else if (userAgent.includes('Edge')) {\n      browser = 'Edge'\n      const match = userAgent.match(/Edge\\/(\\d+)/)\n      version = match ? match[1] : 'Unknown'\n    }\n\n    // Detect platform\n    if (userAgent.includes('Mobile') || userAgent.includes('Android')) {\n      platform = 'android'\n    } else if (userAgent.includes('iPhone') || userAgent.includes('iPad')) {\n      platform = 'ios'\n    }\n\n    return {\n      userAgent,\n      browser,\n      version,\n      platform,\n    }\n  }\n}\n\n// Global instance\nexport const pushManager = new PushManager()\n","/**\n * Push notifications custom hook\n * Handles state management and API calls for push notification functionality\n */\n\nimport { useEffect, useState } from 'preact/hooks'\nimport { pushManager } from '../lib/push-manager'\nimport type { ActiveTab, NotificationLog, NotificationRule } from '../types/push'\n\nexport function usePushNotifications() {\n  // State management\n  const [isAdminSubscribed, setIsAdminSubscribed] = useState(false)\n  const [permission, setPermission] = useState<NotificationPermission | null>(null)\n  const [loading, setLoading] = useState(false)\n  const [rules, setRules] = useState<NotificationRule[]>([])\n  const [logs, setLogs] = useState<NotificationLog[]>([])\n  const [vapidPublicKey, setVapidPublicKey] = useState<string>('')\n  const [activeTab, setActiveTab] = useState<ActiveTab>('settings')\n\n  // Initialize on component mount\n  useEffect(() => {\n    initializePush()\n    fetchRules()\n    fetchLogs()\n    fetchVapidPublicKey()\n    checkAdminSubscription()\n  }, [])\n\n  // Push manager initialization\n  const initializePush = async () => {\n    await pushManager.initialize()\n    setPermission(pushManager.getPermissionStatus())\n  }\n\n  // API calls\n  const fetchVapidPublicKey = async () => {\n    try {\n      const response = await fetch('/api/push/vapid-public-key')\n      if (response.ok) {\n        const data = await response.json()\n        setVapidPublicKey(data.publicKey)\n      }\n    } catch (error) {\n      console.error('Failed to fetch VAPID public key:', error)\n    }\n  }\n\n  const checkAdminSubscription = async () => {\n    try {\n      const response = await fetch('/api/push/admin/subscription', {\n        credentials: 'include',\n      })\n      if (response.ok) {\n        const data = await response.json()\n        setIsAdminSubscribed(data.isSubscribed)\n      }\n    } catch (error) {\n      console.error('Failed to check admin subscription:', error)\n    }\n  }\n\n  const fetchRules = async () => {\n    try {\n      const response = await fetch('/api/push/rules', {\n        credentials: 'include',\n      })\n      if (response.ok) {\n        const data = await response.json()\n        setRules(data.rules || [])\n      }\n    } catch (error) {\n      console.error('Failed to fetch rules:', error)\n    }\n  }\n\n  const fetchLogs = async () => {\n    try {\n      const response = await fetch('/api/push/logs?limit=50', {\n        credentials: 'include',\n      })\n      if (response.ok) {\n        const data = await response.json()\n        setLogs(data.logs || [])\n      }\n    } catch (error) {\n      console.error('Failed to fetch logs:', error)\n    }\n  }\n\n  // Admin subscription handlers\n  const handleAdminSubscribe = async () => {\n    setLoading(true)\n    try {\n      const result = await pushManager.adminSubscribe()\n      if (result.success) {\n        setIsAdminSubscribed(true)\n        setPermission('granted')\n        alert('Successfully subscribed to push notifications for testing!')\n      } else {\n        alert(`Failed to subscribe: ${result.error}`)\n      }\n    } catch (error) {\n      alert(`Error: ${error}`)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleAdminUnsubscribe = async () => {\n    setLoading(true)\n    try {\n      const result = await pushManager.adminUnsubscribe()\n      if (result.success) {\n        setIsAdminSubscribed(false)\n        alert('Successfully unsubscribed from push notifications!')\n      } else {\n        alert(`Failed to unsubscribe: ${result.error}`)\n      }\n    } catch (error) {\n      alert(`Error: ${error}`)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleAdminTestNotification = async () => {\n    setLoading(true)\n    try {\n      const result = await pushManager.sendAdminTestNotification()\n      if (result.success) {\n        alert('Test notification sent! Check your notifications.')\n        fetchLogs() // Refresh logs after sending\n      } else {\n        alert(`Failed to send test notification: ${result.error}`)\n      }\n    } catch (error) {\n      alert(`Error: ${error}`)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // Rule management handlers\n  const handleDeleteRule = async (ruleId: string) => {\n    if (!confirm('Are you sure you want to delete this rule?')) return\n\n    try {\n      const response = await fetch(`/api/push/rules/${ruleId}`, {\n        method: 'DELETE',\n        credentials: 'include',\n      })\n\n      if (response.ok) {\n        fetchRules()\n        alert('Rule deleted successfully')\n      } else {\n        alert('Failed to delete rule')\n      }\n    } catch (error) {\n      console.error('Failed to delete rule:', error)\n      alert('Error deleting rule')\n    }\n  }\n\n  const handleToggleRule = async (rule: NotificationRule) => {\n    try {\n      const response = await fetch(`/api/push/rules/${rule.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          ...rule,\n          enabled: !rule.enabled,\n        }),\n      })\n\n      if (response.ok) {\n        fetchRules()\n      } else {\n        alert('Failed to toggle rule')\n      }\n    } catch (error) {\n      console.error('Failed to toggle rule:', error)\n      alert('Error toggling rule')\n    }\n  }\n\n  return {\n    // State\n    isAdminSubscribed,\n    permission,\n    loading,\n    rules,\n    logs,\n    vapidPublicKey,\n    activeTab,\n    setActiveTab,\n    setLoading,\n\n    // Actions\n    handleAdminSubscribe,\n    handleAdminUnsubscribe,\n    handleAdminTestNotification,\n    handleDeleteRule,\n    handleToggleRule,\n    fetchRules,\n    fetchLogs,\n  }\n}\n","import { useState } from 'preact/hooks'\nimport { NotificationLogs } from '../components/push/NotificationLogs'\nimport { NotificationRules } from '../components/push/NotificationRules'\nimport { PushSettings } from '../components/push/PushSettings'\nimport { PushTest } from '../components/push/PushTest'\nimport { RuleForm } from '../components/push/RuleForm'\nimport { usePushNotifications } from '../hooks/usePushNotifications'\nimport type { NotificationRule, RuleFormData } from '../types/push'\n\nexport default function PushNotifications() {\n  const {\n    isAdminSubscribed,\n    permission,\n    loading,\n    rules,\n    logs,\n    vapidPublicKey,\n    activeTab,\n    setActiveTab,\n    setLoading,\n    handleAdminSubscribe,\n    handleAdminUnsubscribe,\n    handleAdminTestNotification,\n    handleDeleteRule,\n    handleToggleRule,\n    fetchRules,\n  } = usePushNotifications()\n\n  const [showRuleForm, setShowRuleForm] = useState(false)\n  const [editingRule, setEditingRule] = useState<NotificationRule | null>(null)\n\n  const handleCreateRule = () => {\n    setEditingRule(null)\n    setShowRuleForm(true)\n  }\n\n  const handleEditRule = (rule: NotificationRule) => {\n    setEditingRule(rule)\n    setShowRuleForm(true)\n  }\n\n  const handleCloseRuleForm = () => {\n    setShowRuleForm(false)\n    setEditingRule(null)\n  }\n\n  const handleRuleFormSubmit = async (_formData: RuleFormData) => {\n    await fetchRules()\n    handleCloseRuleForm()\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <div className=\"mb-8\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">Push Notifications</h1>\n        <p className=\"mt-2 text-gray-600\">\n          Manage push notification settings, rules, and view delivery logs\n        </p>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"border-b border-gray-200 mb-8\">\n        <div\n          className=\"-mb-px flex space-x-8\"\n          role=\"tablist\"\n          aria-label=\"Push notifications navigation\"\n        >\n          {[\n            { id: 'settings', name: 'Settings' },\n            { id: 'test', name: 'Test' },\n            { id: 'rules', name: 'Rules' },\n            { id: 'logs', name: 'Logs' },\n          ].map((tab) => (\n            <button\n              key={tab.id}\n              type=\"button\"\n              role=\"tab\"\n              aria-selected={activeTab === tab.id}\n              aria-controls={`${tab.id}-panel`}\n              onClick={() => setActiveTab(tab.id as 'settings' | 'test' | 'rules' | 'logs')}\n              className={`py-2 px-1 border-b-2 font-medium text-sm ${\n                activeTab === tab.id\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              {tab.name}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* Tab Content */}\n      <div role=\"tabpanel\" id=\"settings-panel\" aria-labelledby=\"settings-tab\">\n        {activeTab === 'settings' && <PushSettings vapidPublicKey={vapidPublicKey} />}\n      </div>\n      <div role=\"tabpanel\" id=\"test-panel\" aria-labelledby=\"test-tab\">\n        {activeTab === 'test' && (\n          <PushTest\n            isAdminSubscribed={isAdminSubscribed}\n            permission={permission}\n            loading={loading}\n            onAdminSubscribe={handleAdminSubscribe}\n            onAdminUnsubscribe={handleAdminUnsubscribe}\n            onAdminTestNotification={handleAdminTestNotification}\n          />\n        )}\n      </div>\n      <div role=\"tabpanel\" id=\"rules-panel\" aria-labelledby=\"rules-tab\">\n        {activeTab === 'rules' && (\n          <NotificationRules\n            rules={rules}\n            onCreateRule={handleCreateRule}\n            onEditRule={handleEditRule}\n            onToggleRule={handleToggleRule}\n            onDeleteRule={handleDeleteRule}\n          />\n        )}\n      </div>\n      <div role=\"tabpanel\" id=\"logs-panel\" aria-labelledby=\"logs-tab\">\n        {activeTab === 'logs' && <NotificationLogs logs={logs} />}\n      </div>\n\n      {/* Rule Form Modal */}\n      {showRuleForm && (\n        <RuleForm\n          editingRule={editingRule}\n          loading={loading}\n          onSubmit={handleRuleFormSubmit}\n          onClose={handleCloseRuleForm}\n          setLoading={setLoading}\n        />\n      )}\n    </div>\n  )\n}\n","import { useEffect, useState } from 'preact/hooks'\nimport type { Admin } from '../../types/settings'\nimport { formatDateTime } from '../../utils/database'\n\ninterface AdminsManagementProps {\n  onError: (error: string | null) => void\n}\n\nexport function AdminsManagement({ onError }: AdminsManagementProps) {\n  const [admins, setAdmins] = useState<Admin[]>([])\n  const [loading, setLoading] = useState(false)\n  const [newUsername, setNewUsername] = useState('')\n  const [adding, setAdding] = useState(false)\n  const [removeConfirm, setRemoveConfirm] = useState<{ id: string; username: string } | null>(null)\n\n  // Load admins\n  const loadAdmins = async () => {\n    try {\n      setLoading(true)\n      onError(null)\n      const response = await fetch('/api/admin', {\n        credentials: 'include',\n      })\n\n      if (!response.ok) {\n        throw new Error('Failed to load admins')\n      }\n\n      const data = await response.json()\n      setAdmins(data.admins)\n    } catch (err) {\n      console.error('Failed to load admins:', err)\n      onError(err instanceof Error ? err.message : 'Failed to load admins')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // Add new admin\n  const addAdmin = async (e: Event) => {\n    e.preventDefault()\n\n    if (!newUsername.trim()) {\n      onError('GitHub username is required')\n      return\n    }\n\n    try {\n      setAdding(true)\n      onError(null)\n\n      const response = await fetch('/api/admin', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          github_username: newUsername.trim(),\n        }),\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        throw new Error(errorData.error || 'Failed to add admin')\n      }\n\n      setNewUsername('')\n      await loadAdmins()\n    } catch (err) {\n      console.error('Failed to add admin:', err)\n      onError(err instanceof Error ? err.message : 'Failed to add admin')\n    } finally {\n      setAdding(false)\n    }\n  }\n\n  // Remove admin\n  const removeAdmin = async (adminId: string) => {\n    try {\n      onError(null)\n\n      const response = await fetch(`/api/admin/${adminId}`, {\n        method: 'DELETE',\n        credentials: 'include',\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        throw new Error(errorData.error || 'Failed to remove admin')\n      }\n\n      setRemoveConfirm(null)\n      await loadAdmins()\n    } catch (err) {\n      console.error('Failed to remove admin:', err)\n      onError(err instanceof Error ? err.message : 'Failed to remove admin')\n    }\n  }\n\n  useEffect(() => {\n    loadAdmins()\n  }, [])\n\n  return (\n    <div className=\"bg-white shadow rounded-lg\">\n      <div className=\"px-4 py-5 sm:p-6\">\n        <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Admin Management</h3>\n\n        {/* Add Admin Form */}\n        <form onSubmit={addAdmin} className=\"mb-6\">\n          <div className=\"flex space-x-3\">\n            <div className=\"flex-1\">\n              <input\n                type=\"text\"\n                value={newUsername}\n                onChange={(e) => setNewUsername((e.target as HTMLInputElement).value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"GitHub username\"\n                disabled={adding}\n              />\n            </div>\n            <button\n              type=\"submit\"\n              disabled={adding || !newUsername.trim()}\n              className=\"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-300 disabled:opacity-50\"\n            >\n              {adding ? 'Adding...' : 'Add Admin'}\n            </button>\n          </div>\n        </form>\n\n        {/* Admins List */}\n        {loading ? (\n          <div className=\"text-center py-4\">\n            <p className=\"text-gray-500\">Loading admins...</p>\n          </div>\n        ) : (\n          <div>\n            {admins.length === 0 ? (\n              <p className=\"text-sm text-gray-500\">No admins found</p>\n            ) : (\n              <div className=\"space-y-2\">\n                {admins.map((admin) => (\n                  <div\n                    key={admin.id}\n                    className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\"\n                  >\n                    <div className=\"flex items-center space-x-3\">\n                      <div>\n                        <p className=\"text-sm font-medium text-gray-900\">\n                          {admin.github_username}\n                          {admin.is_root && (\n                            <span className=\"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n                              Root Admin\n                            </span>\n                          )}\n                        </p>\n                        <p className=\"text-xs text-gray-500\">\n                          Added {formatDateTime(admin.created_at)}\n                        </p>\n                      </div>\n                    </div>\n                    {!admin.is_root && (\n                      <button\n                        type=\"button\"\n                        onClick={() =>\n                          setRemoveConfirm({\n                            id: admin.id,\n                            username: admin.github_username,\n                          })\n                        }\n                        className=\"text-red-600 hover:text-red-800 text-sm font-medium\"\n                      >\n                        Remove\n                      </button>\n                    )}\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Remove Confirmation Modal */}\n        {removeConfirm && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\n              <h3 className=\"text-lg font-semibold mb-4\">Remove Admin</h3>\n              <p className=\"text-gray-700 mb-6\">\n                Are you sure you want to remove{' '}\n                <span className=\"font-medium\">{removeConfirm.username}</span> as an admin? This\n                action cannot be undone.\n              </p>\n              <div className=\"flex justify-end space-x-3\">\n                <button\n                  type=\"button\"\n                  onClick={() => setRemoveConfirm(null)}\n                  className=\"px-4 py-2 text-gray-700 bg-gray-100 text-sm font-medium rounded-md hover:bg-gray-200\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => removeAdmin(removeConfirm.id)}\n                  className=\"px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-md hover:bg-red-700\"\n                >\n                  Remove Admin\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n","import { useEffect, useState } from 'preact/hooks'\nimport type { APIKey, CreateAPIKeyRequest, CreateAPIKeyResponse } from '../../types/settings'\nimport { formatDateTime } from '../../utils/database'\n\ninterface APIKeysManagementProps {\n  onError: (error: string | null) => void\n}\n\nexport function APIKeysManagement({ onError }: APIKeysManagementProps) {\n  const [apiKeys, setApiKeys] = useState<APIKey[]>([])\n  const [loading, setLoading] = useState(false)\n  const [showCreateKey, setShowCreateKey] = useState(false)\n  const [newKeyData, setNewKeyData] = useState<CreateAPIKeyRequest>({\n    name: '',\n    scopes: [],\n    expires_in_days: 30,\n  })\n  const [createdKey, setCreatedKey] = useState<CreateAPIKeyResponse | null>(null)\n  const [availableScopes] = useState([\n    'data:read',\n    'data:write',\n    'data:delete',\n    'tables:read',\n    'tables:write',\n    'tables:delete',\n    'storage:read',\n    'storage:write',\n    'storage:delete',\n  ])\n  const [revokeConfirm, setRevokeConfirm] = useState<{ id: string; name: string } | null>(null)\n\n  // Load API keys\n  const loadApiKeys = async () => {\n    try {\n      setLoading(true)\n      onError(null)\n\n      // First initialize table if needed\n      const initResponse = await fetch('/api/api-keys/init', {\n        method: 'POST',\n        credentials: 'include',\n      })\n\n      if (!initResponse.ok) {\n        const _initErrorData = await initResponse.json().catch(() => ({}))\n        // Continue anyway, table might already exist\n      }\n\n      const response = await fetch('/api/api-keys', {\n        credentials: 'include',\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}))\n        throw new Error(\n          `Failed to load API keys: ${response.status} - ${errorData.error || 'Unknown error'}`\n        )\n      }\n\n      const data = await response.json()\n      setApiKeys(data.data || [])\n    } catch (err) {\n      console.error('Failed to load API keys:', err)\n      // Show more detailed error information\n      let errorMessage = 'Failed to load API keys'\n      if (err instanceof Error) {\n        errorMessage = err.message\n      }\n      if (typeof err === 'object' && err !== null && 'status' in err) {\n        errorMessage += ` (Status: ${(err as { status: unknown }).status})`\n      }\n      onError(errorMessage)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // Create new API key\n  const createApiKey = async (e: Event) => {\n    e.preventDefault()\n\n    if (!newKeyData.name.trim() || newKeyData.scopes.length === 0) {\n      onError('Name and at least one scope are required')\n      return\n    }\n\n    try {\n      onError(null)\n\n      const response = await fetch('/api/api-keys', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include',\n        body: JSON.stringify(newKeyData),\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}))\n        const errorMessage = `Failed to create API key: ${response.status} - ${errorData.error || 'Unknown error'}`\n        if (errorData.details) {\n          throw new Error(`${errorMessage}. Details: ${JSON.stringify(errorData.details)}`)\n        }\n        throw new Error(errorMessage)\n      }\n\n      const result = await response.json()\n      setCreatedKey(result.data)\n      setShowCreateKey(false)\n      setNewKeyData({\n        name: '',\n        scopes: [],\n        expires_in_days: 30,\n      })\n      await loadApiKeys()\n    } catch (err) {\n      console.error('Failed to create API key:', err)\n      onError(err instanceof Error ? err.message : 'Failed to create API key')\n    }\n  }\n\n  // Revoke API key\n  const revokeApiKey = async (keyId: string) => {\n    try {\n      onError(null)\n\n      const response = await fetch(`/api/api-keys/${keyId}`, {\n        method: 'DELETE',\n        credentials: 'include',\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}))\n        throw new Error(errorData.error || 'Failed to revoke API key')\n      }\n\n      setRevokeConfirm(null)\n      await loadApiKeys()\n    } catch (err) {\n      console.error('Failed to revoke API key:', err)\n      onError(err instanceof Error ? err.message : 'Failed to revoke API key')\n    }\n  }\n\n  const toggleScope = (scope: string) => {\n    setNewKeyData((prev) => ({\n      ...prev,\n      scopes: prev.scopes.includes(scope)\n        ? prev.scopes.filter((s) => s !== scope)\n        : [...prev.scopes, scope],\n    }))\n  }\n\n  useEffect(() => {\n    loadApiKeys()\n  }, [])\n\n  return (\n    <div className=\"bg-white shadow rounded-lg\">\n      <div className=\"px-4 py-5 sm:p-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-medium text-gray-900\">API Keys</h3>\n          <div className=\"flex items-center space-x-2\">\n            <button\n              type=\"button\"\n              onClick={() => setShowCreateKey(true)}\n              className=\"px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500\"\n            >\n              Create API Key\n            </button>\n          </div>\n        </div>\n\n        {/* API Keys List */}\n        {loading ? (\n          <div className=\"text-center py-4\">\n            <p className=\"text-gray-500\">Loading API keys...</p>\n          </div>\n        ) : (\n          <div className=\"space-y-2\">\n            {apiKeys.length === 0 ? (\n              <p className=\"text-sm text-gray-500\">No API keys found. Create one to get started.</p>\n            ) : (\n              <div className=\"space-y-3\">\n                {apiKeys.map((key) => (\n                  <div key={key.id} className=\"border border-gray-200 rounded-lg p-4\">\n                    <div className=\"flex items-start justify-between\">\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center space-x-2 mb-2\">\n                          <h4 className=\"text-sm font-medium text-gray-900\">{key.name}</h4>\n                          <span\n                            className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                              key.is_active\n                                ? 'bg-green-100 text-green-800'\n                                : 'bg-red-100 text-red-800'\n                            }`}\n                          >\n                            {key.is_active ? 'Active' : 'Revoked'}\n                          </span>\n                        </div>\n                        <div className=\"space-y-1 text-sm text-gray-600\">\n                          <p>\n                            <span className=\"font-medium\">Key:</span> {key.key_prefix}...\n                          </p>\n                          <p>\n                            <span className=\"font-medium\">Scopes:</span> {key.scopes.join(', ')}\n                          </p>\n                          <p>\n                            <span className=\"font-medium\">Created:</span>{' '}\n                            {formatDateTime(key.created_at)}\n                          </p>\n                          {key.expires_at && (\n                            <p>\n                              <span className=\"font-medium\">Expires:</span>{' '}\n                              {formatDateTime(key.expires_at)}\n                            </p>\n                          )}\n                          {key.last_used_at && (\n                            <p>\n                              <span className=\"font-medium\">Last used:</span>{' '}\n                              {formatDateTime(key.last_used_at)}\n                            </p>\n                          )}\n                        </div>\n                      </div>\n                      {key.is_active && (\n                        <button\n                          type=\"button\"\n                          onClick={() => setRevokeConfirm({ id: key.id, name: key.name })}\n                          className=\"text-red-600 hover:text-red-800 text-sm font-medium\"\n                        >\n                          Revoke\n                        </button>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Create API Key Modal */}\n        {showCreateKey && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div className=\"bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto\">\n              <h3 className=\"text-lg font-semibold mb-4\">Create API Key</h3>\n\n              <form onSubmit={createApiKey} className=\"space-y-4\">\n                <div>\n                  <label\n                    htmlFor=\"api-key-name\"\n                    className=\"block text-sm font-medium text-gray-700 mb-1\"\n                  >\n                    Name\n                  </label>\n                  <input\n                    id=\"api-key-name\"\n                    type=\"text\"\n                    value={newKeyData.name}\n                    onChange={(e) =>\n                      setNewKeyData((prev) => ({\n                        ...prev,\n                        name: (e.target as HTMLInputElement).value,\n                      }))\n                    }\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"My API Key\"\n                    required\n                  />\n                </div>\n\n                <div>\n                  <div className=\"text-sm font-medium text-gray-700 mb-2\">Scopes</div>\n                  <div className=\"space-y-2\">\n                    {availableScopes.map((scope) => (\n                      <label key={scope} className=\"flex items-center\">\n                        <input\n                          type=\"checkbox\"\n                          checked={newKeyData.scopes.includes(scope)}\n                          onChange={() => toggleScope(scope)}\n                          className=\"mr-2\"\n                        />\n                        <span className=\"text-sm\">{scope}</span>\n                      </label>\n                    ))}\n                  </div>\n                </div>\n\n                <div>\n                  <label\n                    htmlFor=\"expires-in-days\"\n                    className=\"block text-sm font-medium text-gray-700 mb-1\"\n                  >\n                    Expires in (days)\n                  </label>\n                  <input\n                    id=\"expires-in-days\"\n                    type=\"number\"\n                    value={newKeyData.expires_in_days || ''}\n                    onChange={(e) =>\n                      setNewKeyData((prev) => ({\n                        ...prev,\n                        expires_in_days:\n                          parseInt((e.target as HTMLInputElement).value) || undefined,\n                      }))\n                    }\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n                    placeholder=\"30\"\n                    min=\"1\"\n                    max=\"365\"\n                  />\n                  <p className=\"text-xs text-gray-500 mt-1\">Leave empty for no expiration</p>\n                </div>\n\n                <div className=\"flex justify-end space-x-3 pt-4\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowCreateKey(false)}\n                    className=\"px-4 py-2 text-gray-700 bg-gray-100 text-sm font-medium rounded-md hover:bg-gray-200\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    type=\"submit\"\n                    className=\"px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-md hover:bg-green-700\"\n                  >\n                    Create Key\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        )}\n\n        {/* Revoke Confirmation Modal */}\n        {revokeConfirm && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\n              <h3 className=\"text-lg font-semibold mb-4\">Revoke API Key</h3>\n              <p className=\"text-gray-700 mb-6\">\n                Are you sure you want to revoke the API key{' '}\n                <span className=\"font-medium\">\"{revokeConfirm.name}\"</span>? This action cannot be\n                undone and will immediately disable the key.\n              </p>\n              <div className=\"flex justify-end space-x-3\">\n                <button\n                  type=\"button\"\n                  onClick={() => setRevokeConfirm(null)}\n                  className=\"px-4 py-2 text-gray-700 bg-gray-100 text-sm font-medium rounded-md hover:bg-gray-200\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => revokeApiKey(revokeConfirm.id)}\n                  className=\"px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-md hover:bg-red-700\"\n                >\n                  Revoke Key\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Created Key Display Modal */}\n        {createdKey && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n            <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\n              <h3 className=\"text-lg font-semibold mb-4\">API Key Created</h3>\n              <div className=\"bg-yellow-50 border border-yellow-200 rounded-md p-4 mb-4\">\n                <p className=\"text-sm text-yellow-800 mb-2\">\n                  <strong>Important:</strong> This is the only time you'll see the full API key.\n                  Copy it now and store it securely.\n                </p>\n              </div>\n              <div className=\"space-y-3\">\n                <div>\n                  <div className=\"text-sm font-medium text-gray-700\">Name</div>\n                  <p className=\"text-sm text-gray-900\">{createdKey.name}</p>\n                </div>\n                <div>\n                  <div className=\"text-sm font-medium text-gray-700\">API Key</div>\n                  <div className=\"flex items-center space-x-2\">\n                    <code className=\"flex-1 px-2 py-1 bg-gray-100 rounded text-sm font-mono break-all\">\n                      {createdKey.key}\n                    </code>\n                    <button\n                      type=\"button\"\n                      onClick={() => navigator.clipboard.writeText(createdKey.key)}\n                      className=\"px-2 py-1 text-blue-600 hover:text-blue-800 text-sm\"\n                    >\n                      Copy\n                    </button>\n                  </div>\n                </div>\n                <div>\n                  <div className=\"text-sm font-medium text-gray-700\">Scopes</div>\n                  <p className=\"text-sm text-gray-900\">{createdKey.scopes.join(', ')}</p>\n                </div>\n                {createdKey.expires_at && (\n                  <div>\n                    <div className=\"text-sm font-medium text-gray-700\">Expires</div>\n                    <p className=\"text-sm text-gray-900\">{formatDateTime(createdKey.expires_at)}</p>\n                  </div>\n                )}\n              </div>\n              <div className=\"flex justify-end pt-4\">\n                <button\n                  type=\"button\"\n                  onClick={() => setCreatedKey(null)}\n                  className=\"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700\"\n                >\n                  I've saved the key\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n","import { useEffect, useState } from 'preact/hooks'\nimport type { AppSetting } from '../../types/settings'\n\ninterface AppSettingsProps {\n  onError: (error: string | null) => void\n}\n\nexport function AppSettings({ onError }: AppSettingsProps) {\n  const [appSettings, setAppSettings] = useState<AppSetting[]>([])\n  const [loading, setLoading] = useState(false)\n  const [editing, setEditing] = useState(false)\n  const [form, setForm] = useState<Record<string, string>>({})\n  const [saving, setSaving] = useState(false)\n\n  // Load app settings\n  const loadAppSettings = async () => {\n    try {\n      setLoading(true)\n      onError(null)\n      const response = await fetch('/api/app-settings', {\n        credentials: 'include',\n      })\n\n      if (!response.ok) {\n        throw new Error('Failed to load app settings')\n      }\n\n      const data = await response.json()\n      setAppSettings(data.settings)\n\n      // Initialize form data\n      const formData: Record<string, string> = {}\n      data.settings.forEach((setting: AppSetting) => {\n        formData[setting.key] = setting.value\n      })\n      setForm(formData)\n    } catch (err) {\n      console.error('Failed to load app settings:', err)\n      onError(err instanceof Error ? err.message : 'Failed to load app settings')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // Save app settings\n  const saveAppSettings = async () => {\n    try {\n      setSaving(true)\n      onError(null)\n\n      // Don't send oauth_user_agent - let the backend auto-generate it\n      const { oauth_user_agent: _oauth_user_agent, ...formWithoutUserAgent } = form\n\n      const response = await fetch('/api/app-settings', {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include',\n        body: JSON.stringify(formWithoutUserAgent),\n      })\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        throw new Error(errorData.error || 'Failed to save app settings')\n      }\n\n      setEditing(false)\n      await loadAppSettings()\n    } catch (err) {\n      console.error('Failed to save app settings:', err)\n      onError(err instanceof Error ? err.message : 'Failed to save app settings')\n    } finally {\n      setSaving(false)\n    }\n  }\n\n  const handleCancel = () => {\n    setEditing(false)\n    // Reset form data\n    const formData: Record<string, string> = {}\n    appSettings.forEach((setting) => {\n      formData[setting.key] = setting.value\n    })\n    setForm(formData)\n  }\n\n  useEffect(() => {\n    loadAppSettings()\n  }, [])\n\n  return (\n    <div className=\"bg-white shadow rounded-lg\">\n      <div className=\"px-4 py-5 sm:p-6\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h3 className=\"text-lg font-medium text-gray-900\">Application Settings</h3>\n          {!editing && (\n            <button\n              type=\"button\"\n              onClick={() => setEditing(true)}\n              className=\"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-300\"\n            >\n              Edit Settings\n            </button>\n          )}\n        </div>\n\n        {loading ? (\n          <p className=\"text-gray-500\">Loading app settings...</p>\n        ) : (\n          <div className=\"space-y-4\">\n            <div>\n              <label htmlFor=\"app-name\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Application Name\n              </label>\n              <input\n                id=\"app-name\"\n                type=\"text\"\n                value={form.app_name || ''}\n                onChange={(e) =>\n                  setForm((prev) => ({\n                    ...prev,\n                    app_name: (e.target as HTMLInputElement).value,\n                  }))\n                }\n                disabled={!editing}\n                className={`w-full px-3 py-2 border ${\n                  editing ? 'border-gray-300' : 'border-gray-200 bg-gray-50'\n                } rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500`}\n                placeholder=\"My Vibebase App\"\n              />\n              <p className=\"mt-1 text-sm text-gray-500\">Used as User-Agent for OAuth providers</p>\n            </div>\n\n            <div>\n              <label htmlFor=\"app-url\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Application URL (optional)\n              </label>\n              <input\n                id=\"app-url\"\n                type=\"url\"\n                value={form.app_url || ''}\n                onChange={(e) =>\n                  setForm((prev) => ({\n                    ...prev,\n                    app_url: (e.target as HTMLInputElement).value,\n                  }))\n                }\n                disabled={!editing}\n                className={`w-full px-3 py-2 border ${\n                  editing ? 'border-gray-300' : 'border-gray-200 bg-gray-50'\n                } rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500`}\n                placeholder=\"https://myapp.com\"\n              />\n            </div>\n\n            <div>\n              <label\n                htmlFor=\"support-email\"\n                className=\"block text-sm font-medium text-gray-700 mb-1\"\n              >\n                Support Email (optional)\n              </label>\n              <input\n                id=\"support-email\"\n                type=\"email\"\n                value={form.support_email || ''}\n                onChange={(e) =>\n                  setForm((prev) => ({\n                    ...prev,\n                    support_email: (e.target as HTMLInputElement).value,\n                  }))\n                }\n                disabled={!editing}\n                className={`w-full px-3 py-2 border ${\n                  editing ? 'border-gray-300' : 'border-gray-200 bg-gray-50'\n                } rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500`}\n                placeholder=\"support@myapp.com\"\n              />\n            </div>\n\n            {editing && (\n              <div className=\"flex justify-end space-x-3 pt-4\">\n                <button\n                  type=\"button\"\n                  onClick={handleCancel}\n                  className=\"px-4 py-2 text-gray-700 bg-gray-100 text-sm font-medium rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-300\"\n                  disabled={saving}\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={saveAppSettings}\n                  className=\"px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-300 disabled:opacity-50\"\n                  disabled={saving}\n                >\n                  {saving ? 'Saving...' : 'Save Changes'}\n                </button>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n","import type { SettingsSection } from '../../types/settings'\n\ninterface SettingsNavigationProps {\n  activeSection: SettingsSection\n  onSectionChange: (section: SettingsSection) => void\n}\n\nexport function SettingsNavigation({ activeSection, onSectionChange }: SettingsNavigationProps) {\n  const sections = [\n    { id: 'app-settings' as const, label: 'App Settings', icon: '⚙️' },\n    { id: 'admins' as const, label: 'Admins', icon: '👥' },\n    { id: 'api-keys' as const, label: 'API Keys', icon: '🔑' },\n  ]\n\n  return (\n    <div className=\"w-64 bg-gray-50 p-4\">\n      <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Settings</h2>\n      <nav className=\"space-y-2\">\n        {sections.map((section) => (\n          <button\n            key={section.id}\n            type=\"button\"\n            onClick={() => onSectionChange(section.id)}\n            className={`w-full text-left px-3 py-2 rounded-md text-sm font-medium transition-colors ${\n              activeSection === section.id\n                ? 'bg-blue-100 text-blue-700'\n                : 'text-gray-600 hover:text-gray-900 hover:bg-gray-100'\n            }`}\n          >\n            <span className=\"mr-2\">{section.icon}</span>\n            {section.label}\n          </button>\n        ))}\n      </nav>\n    </div>\n  )\n}\n","import { useState } from 'preact/hooks'\nimport type { SettingsSection } from '../types/settings'\n\nexport interface SettingsNavigationState {\n  activeSection: SettingsSection\n  error: string | null\n}\n\nexport interface SettingsNavigationActions {\n  setActiveSection: (section: SettingsSection) => void\n  setError: (error: string | null) => void\n  clearError: () => void\n}\n\n/**\n * Custom hook for managing Settings page navigation and common state\n */\nexport const useSettings = (): SettingsNavigationState & SettingsNavigationActions => {\n  const [state, setState] = useState<SettingsNavigationState>({\n    activeSection: 'app-settings',\n    error: null,\n  })\n\n  const setActiveSection = (section: SettingsSection) => {\n    setState((prev) => ({\n      ...prev,\n      activeSection: section,\n      error: null, // Clear error when switching sections\n    }))\n  }\n\n  const setError = (error: string | null) => {\n    setState((prev) => ({ ...prev, error }))\n  }\n\n  const clearError = () => {\n    setState((prev) => ({ ...prev, error: null }))\n  }\n\n  return {\n    ...state,\n    setActiveSection,\n    setError,\n    clearError,\n  }\n}\n","import { AdminsManagement } from '../components/settings/AdminsManagement'\nimport { APIKeysManagement } from '../components/settings/APIKeysManagement'\nimport { AppSettings } from '../components/settings/AppSettings'\nimport { SettingsNavigation } from '../components/settings/SettingsNavigation'\nimport { useSettings } from '../hooks/useSettings'\n\nexport function SettingsPage() {\n  const { activeSection, error, setActiveSection, setError } = useSettings()\n\n  const renderContent = () => {\n    switch (activeSection) {\n      case 'app-settings':\n        return <AppSettings onError={setError} />\n      case 'admins':\n        return <AdminsManagement onError={setError} />\n      case 'api-keys':\n        return <APIKeysManagement onError={setError} />\n      default:\n        return <AppSettings onError={setError} />\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900\">Settings</h1>\n          <p className=\"mt-2 text-gray-600\">\n            Manage your application settings, administrators, and API keys\n          </p>\n        </div>\n\n        {error && (\n          <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-md\">\n            <div className=\"flex justify-between items-center\">\n              <p className=\"text-red-700\">{error}</p>\n              <button\n                type=\"button\"\n                onClick={() => setError(null)}\n                className=\"text-red-600 hover:text-red-800 text-sm underline\"\n              >\n                Dismiss\n              </button>\n            </div>\n          </div>\n        )}\n\n        <div className=\"flex gap-6\">\n          {/* Navigation Sidebar */}\n          <SettingsNavigation activeSection={activeSection} onSectionChange={setActiveSection} />\n\n          {/* Content Area */}\n          <div className=\"flex-1\">{renderContent()}</div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { useEffect, useState } from 'preact/hooks'\nimport { formatDateTime } from '../utils/database'\n\ninterface StorageObject {\n  key: string\n  size: number\n  uploaded: string\n  contentType?: string\n  customMetadata?: Record<string, string>\n}\n\ninterface StorageListResponse {\n  objects: StorageObject[]\n  truncated: boolean\n  cursor?: string\n  delimitedPrefixes: string[]\n}\n\nexport function StoragePage() {\n  const [objects, setObjects] = useState<StorageObject[]>([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [uploading, setUploading] = useState(false)\n  const [selectedFiles, setSelectedFiles] = useState<Set<string>>(new Set())\n\n  useEffect(() => {\n    loadObjects()\n  }, [])\n\n  const loadObjects = async (prefix?: string, cursor?: string) => {\n    try {\n      setLoading(true)\n      const params = new URLSearchParams()\n      if (prefix) params.set('prefix', prefix)\n      if (cursor) params.set('cursor', cursor)\n\n      const response = await fetch(`/api/storage?${params}`)\n      if (!response.ok) throw new Error('Failed to load files')\n\n      const data: StorageListResponse = await response.json()\n      setObjects(cursor ? [...objects, ...data.objects] : data.objects)\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Unknown error')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleFileUpload = async (e: Event) => {\n    const input = e.target as HTMLInputElement\n    const files = input.files\n    if (!files?.length) return\n\n    setUploading(true)\n    try {\n      for (const file of Array.from(files)) {\n        const formData = new FormData()\n        formData.append('file', file)\n\n        const response = await fetch('/api/storage/upload', {\n          method: 'POST',\n          body: formData,\n        })\n\n        if (!response.ok) throw new Error(`Failed to upload ${file.name}`)\n      }\n\n      await loadObjects()\n      input.value = ''\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Upload failed')\n    } finally {\n      setUploading(false)\n    }\n  }\n\n  const handleDelete = async (key: string) => {\n    if (!confirm(`Delete ${key}?`)) return\n\n    try {\n      const response = await fetch(`/api/storage/${encodeURIComponent(key)}`, {\n        method: 'DELETE',\n      })\n\n      if (!response.ok) throw new Error('Failed to delete file')\n\n      setObjects(objects.filter((obj) => obj.key !== key))\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Delete failed')\n    }\n  }\n\n  const handleBulkDelete = async () => {\n    if (selectedFiles.size === 0) return\n    if (!confirm(`Delete ${selectedFiles.size} files?`)) return\n\n    try {\n      const response = await fetch('/api/storage', {\n        method: 'DELETE',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ keys: Array.from(selectedFiles) }),\n      })\n\n      if (!response.ok) throw new Error('Failed to delete files')\n\n      setObjects(objects.filter((obj) => !selectedFiles.has(obj.key)))\n      setSelectedFiles(new Set())\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Bulk delete failed')\n    }\n  }\n\n  const formatFileSize = (bytes: number): string => {\n    if (bytes === 0) return '0 B'\n    const k = 1024\n    const sizes = ['B', 'KB', 'MB', 'GB']\n    const i = Math.floor(Math.log(bytes) / Math.log(k))\n    return `${parseFloat((bytes / k ** i).toFixed(2))} ${sizes[i]}`\n  }\n\n  const toggleFileSelection = (key: string) => {\n    const newSelected = new Set(selectedFiles)\n    if (newSelected.has(key)) {\n      newSelected.delete(key)\n    } else {\n      newSelected.add(key)\n    }\n    setSelectedFiles(newSelected)\n  }\n\n  if (loading && objects.length === 0) {\n    return (\n      <div class=\"flex items-center justify-center h-64\">\n        <div class=\"text-gray-500\">Loading files...</div>\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      <div class=\"flex justify-between items-center mb-6\">\n        <h2 class=\"text-2xl font-bold text-gray-900\">Storage</h2>\n        <div class=\"flex gap-2\">\n          {selectedFiles.size > 0 && (\n            <button\n              type=\"button\"\n              onClick={handleBulkDelete}\n              class=\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700\"\n            >\n              Delete Selected ({selectedFiles.size})\n            </button>\n          )}\n          <label class=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 cursor-pointer\">\n            {uploading ? 'Uploading...' : 'Upload Files'}\n            <input\n              type=\"file\"\n              multiple\n              onChange={handleFileUpload}\n              disabled={uploading}\n              class=\"hidden\"\n            />\n          </label>\n        </div>\n      </div>\n\n      {error && (\n        <div class=\"mb-4 p-4 bg-red-50 border border-red-200 rounded-md\">\n          <p class=\"text-red-600\">{error}</p>\n          <button\n            type=\"button\"\n            onClick={() => setError(null)}\n            class=\"mt-2 text-sm text-red-500 hover:text-red-700\"\n          >\n            Dismiss\n          </button>\n        </div>\n      )}\n\n      <div class=\"bg-white shadow rounded-lg overflow-hidden\">\n        <table class=\"min-w-full divide-y divide-gray-200\">\n          <thead class=\"bg-gray-50\">\n            <tr>\n              <th class=\"w-12 px-6 py-3\">\n                <input\n                  type=\"checkbox\"\n                  checked={selectedFiles.size === objects.length && objects.length > 0}\n                  onChange={(e) => {\n                    const target = e.target as HTMLInputElement\n                    if (target.checked) {\n                      setSelectedFiles(new Set(objects.map((obj) => obj.key)))\n                    } else {\n                      setSelectedFiles(new Set())\n                    }\n                  }}\n                />\n              </th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Name\n              </th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Size\n              </th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Type\n              </th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Uploaded\n              </th>\n              <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Actions\n              </th>\n            </tr>\n          </thead>\n          <tbody class=\"bg-white divide-y divide-gray-200\">\n            {objects.length === 0 ? (\n              <tr>\n                <td colSpan={6} class=\"px-6 py-4 text-center text-gray-500\">\n                  No files uploaded yet\n                </td>\n              </tr>\n            ) : (\n              objects.map((obj) => (\n                <tr key={obj.key} class=\"hover:bg-gray-50\">\n                  <td class=\"px-6 py-4\">\n                    <input\n                      type=\"checkbox\"\n                      checked={selectedFiles.has(obj.key)}\n                      onChange={() => toggleFileSelection(obj.key)}\n                    />\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap\">\n                    <div class=\"text-sm font-medium text-gray-900\">{obj.key}</div>\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap\">\n                    <div class=\"text-sm text-gray-900\">{formatFileSize(obj.size)}</div>\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap\">\n                    <div class=\"text-sm text-gray-900\">{obj.contentType || 'Unknown'}</div>\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap\">\n                    <div class=\"text-sm text-gray-900\">{formatDateTime(obj.uploaded)}</div>\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                    <a\n                      href={`/api/storage/download/${encodeURIComponent(obj.key)}`}\n                      class=\"text-blue-600 hover:text-blue-900 mr-4\"\n                      download\n                    >\n                      Download\n                    </a>\n                    <button\n                      type=\"button\"\n                      onClick={() => handleDelete(obj.key)}\n                      class=\"text-red-600 hover:text-red-900\"\n                    >\n                      Delete\n                    </button>\n                  </td>\n                </tr>\n              ))\n            )}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  )\n}\n","import { Route, Router } from 'preact-router'\nimport { Layout } from './components/Layout'\nimport { AuthPage } from './pages/Auth'\nimport { CustomSQL } from './pages/CustomSQL'\nimport { DatabasePage } from './pages/Database'\nimport { HomePage } from './pages/Home'\nimport PushNotifications from './pages/PushNotifications'\nimport { SettingsPage } from './pages/Settings'\nimport { StoragePage } from './pages/Storage'\n\nexport function App() {\n  return (\n    <Layout>\n      <Router>\n        <Route path=\"/\" component={HomePage} />\n        <Route path=\"/database\" component={DatabasePage} />\n        <Route path=\"/custom-sql\" component={CustomSQL} />\n        <Route path=\"/storage\" component={StoragePage} />\n        <Route path=\"/push\" component={PushNotifications} />\n        <Route path=\"/auth\" component={AuthPage} />\n        <Route path=\"/settings\" component={SettingsPage} />\n      </Router>\n    </Layout>\n  )\n}\n","import { render } from 'preact'\nimport { App } from './app'\nimport './styles/index.css'\n\nconst appElement = document.getElementById('app')\nif (!appElement) {\n  throw new Error('App container not found')\n}\nrender(<App />, appElement)\n"],"names":["n","l","u","i","r","o","e","f","c","s","a","h","p","v","y","w","d","g","_","t","m","k","x","S","C","M","$","O","z","I","P","q","A","L","B","H","T","j","F","b","D","N","V","E","J","K","U","R","W","clsx","useAuthMonitor","useEffect","handleFocus","error","Layout","children","jsxs","jsx","NavLink","href","route","ApiClient","config","__publicField","endpoint","options","url","requestOptions","controller","timeoutId","response","data","errorMessage","contentType","jsonData","parseError","result","apiError","createApiClient","defaultConfig","client","apiClient","id","provider","enabled","tableApi","tableName","limit","offset","name","columns","sql","params","column","oldName","newName","columnName","changes","id1","id2","indexName","policy","api","SYSTEM_TABLES","truncateId","getUserTables","tables","table","generateIndexName","columnPart","col","copyToClipboard","text","textArea","fallbackErr","normalizeDateTimeToISO","dateString","date","normalizedString","formatDateTime","normalizedDateString","isIdValue","value","isValidTableName","isValidColumnName","getSQLTypes","OAuthProviderCard","supportedProvider","configuredProvider","onUpdate","isEditing","setIsEditing","useState","isLoading","setIsLoading","formData","setFormData","showSecret","setShowSecret","setError","isConfigured","isEnabled","handleSave","err","handleToggle","handleDelete","scope","CallbackUrlsSection","callbackUrls","setCallbackUrls","newUrl","setNewUrl","isSaving","setIsSaving","loadCallbackUrls","callbackUrlsSetting","saveCallbackUrls","urls","addUrl","updatedUrls","removeUrl","index","handleKeyPress","target","AuthPage","activeSection","setActiveSection","supportedProviders","setSupportedProviders","configuredProviders","setConfiguredProviders","loadData","supportedResult","configuredResult","getConfiguredProvider","providerName","enabledCount","configuredCount","generateSlugFromName","seed","char","rng","digit","extractParametersFromSQL","paramRegex","matches","match","paramName","determineMethodAndReadonly","trimmedSql","isSelect","isPragma","validateForm","errors","sqlParams","definedParams","undefinedParams","param","QueryForm","isCreating","validationErrors","onFormDataChange","onValidationErrorsChange","onCreate","onClose","addParameter","removeParameter","updateParameter","errorKey","newErrors","clearValidationError","field","newSql","extractedParams","existingParamNames","newParams","QueryList","queries","selectedQuery","onSelectQuery","onEditClick","onDeleteClick","onToggleEnabled","onCreateClick","query","parsedQuery","QueryTester","testParams","testResult","testError","testing","onTestParamsChange","onTest","handleParamChange","type","parsedValue","key","row","rowData","rowKey","useCRUD","apiConfig","initialData","autoFetch","validateFn","transformResponse","transformItem","state","setState","fetchItems","makeApiCall","defaultOptions","errorData","prev","items","responseData","newItem","updatedItem","item","_a","customQueriesApiConfig","useCustomQueries","crud","setIsCreating","setTestParams","setTestResult","setTestError","setTesting","handleCreate","resetForm","handleUpdate","handleTest","handleToggleEnabled","loadQueryToForm","parameters","CustomSQL","loading","setSelectedQuery","setValidationErrors","handleSelectQuery","handleEditClick","handleCreateClick","handleCloseForm","useTableOperations","setLoading","clearError","validateTableName","validateColumnName","tableData","tableNameError","validColumns","columnNames","duplicates","columnError","indexErr","cleanData","acc","columnData","DataViewer","tableColumns","tableForeignKeys","onDataChange","onTableSelect","highlightRecordId","showCreateForm","setShowCreateForm","newRecord","setNewRecord","editingCell","setEditingCell","editingRecord","setEditingRecord","copiedCell","setCopiedCell","hasInitializedFocus","useRef","createRecord","updateRecord","deleteRecord","operationsLoading","operationsError","hasForeignKey","fk","handleCreateRecord","handleDeleteRecord","handleCellClick","rowId","currentValue","record","handleCellSave","newValue","handleCellCancel","handleRecordSave","updateData","handleCopyId","rowIndex","jumpToRecord","foreignKey","isHighlighted","cellKey","isCopied","isSystemColumn","SchemaEditor","onSchemaChange","showSchemaEditor","setShowSchemaEditor","showIndexManager","setShowIndexManager","newColumn","setNewColumn","newIndex","setNewIndex","tableIndexes","addColumn","handleAddColumn","handleCreateIndex","columnsToIndex","handleDropIndex","userTables","newColumns","TableList","selectedTable","onTablesChange","newTable","setNewTable","openDropdownTable","setOpenDropdownTable","createTable","dropTable","changeAccessPolicy","handleCreateTable","handleDropTable","handleChangeAccessPolicy","newPolicy","removeColumn","updateColumn","systemTables","Spinner","size","SchemaHistory","onRestore","snapshots","setSnapshots","selectedSnapshot","setSelectedSnapshot","newSnapshot","setNewSnapshot","confirmRestore","setConfirmRestore","confirmDelete","setConfirmDelete","openMenuId","setOpenMenuId","isRestoring","setIsRestoring","isDeleting","setIsDeleting","handleClickOutside","event","handleCreateSnapshot","handleRestore","getRelativeTime","diff","days","hours","snapshot","useDatabase","loadTables","loadTableSchema","loadTableData","selectTable","setSelectedTable","refreshData","DatabasePage","showSchemaHistory","setShowSchemaHistory","setHighlightRecordId","handleTableSelect","Fragment","HomePage","stats","setStats","loadStats","health","tablesResult","DashboardCard","title","description","status","NotificationLogs","logs","log","NotificationRules","rules","onCreateRule","onEditRule","onToggleRule","onDeleteRule","rule","PushSettings","vapidPublicKey","PushTest","isAdminSubscribed","permission","onAdminSubscribe","onAdminUnsubscribe","onAdminTestNotification","RuleForm","editingRule","onSubmit","method","cleanedData","PushManager","apiBaseUrl","subscription","subscriptionData","base64String","padding","base64","rawData","outputArray","buffer","bytes","binary","userAgent","browser","version","platform","pushManager","usePushNotifications","setIsAdminSubscribed","setPermission","setRules","setLogs","setVapidPublicKey","activeTab","setActiveTab","initializePush","fetchRules","fetchLogs","fetchVapidPublicKey","checkAdminSubscription","ruleId","PushNotifications","handleAdminSubscribe","handleAdminUnsubscribe","handleAdminTestNotification","handleDeleteRule","handleToggleRule","showRuleForm","setShowRuleForm","setEditingRule","handleCreateRule","handleEditRule","handleCloseRuleForm","handleRuleFormSubmit","_formData","tab","AdminsManagement","onError","admins","setAdmins","newUsername","setNewUsername","adding","setAdding","removeConfirm","setRemoveConfirm","loadAdmins","addAdmin","removeAdmin","adminId","admin","APIKeysManagement","apiKeys","setApiKeys","showCreateKey","setShowCreateKey","newKeyData","setNewKeyData","createdKey","setCreatedKey","availableScopes","revokeConfirm","setRevokeConfirm","loadApiKeys","initResponse","_initErrorData","createApiKey","revokeApiKey","keyId","toggleScope","AppSettings","appSettings","setAppSettings","editing","setEditing","form","setForm","saving","setSaving","loadAppSettings","setting","saveAppSettings","_oauth_user_agent","formWithoutUserAgent","handleCancel","SettingsNavigation","onSectionChange","section","useSettings","SettingsPage","StoragePage","objects","setObjects","uploading","setUploading","selectedFiles","setSelectedFiles","loadObjects","prefix","cursor","handleFileUpload","input","files","file","obj","handleBulkDelete","formatFileSize","sizes","toggleFileSelection","newSelected","App","Router","Route","appElement","render"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}